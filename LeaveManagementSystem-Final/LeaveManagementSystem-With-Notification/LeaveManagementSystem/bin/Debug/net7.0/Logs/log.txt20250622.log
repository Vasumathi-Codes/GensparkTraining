2025-06-22 10:27:45,775 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T04:57:45.7750670Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 10:27:45,818 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 10:27:45,819 [25] WARN  LeaveManagementSystem.Services.AuthenticationService - Failed login attempt for chandler@gmail.com
2025-06-22 10:27:45,825 [25] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Unauthorized login attempt for chandler@gmail.com.
System.UnauthorizedAccessException: Invalid credentials
   at LeaveManagementSystem.Services.AuthenticationService.LoginAsync(UserLoginRequest request) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/AuthenticationService.cs:line 41
   at LeaveManagementSystem.Controllers.AuthenticationController.Login(UserLoginRequest request) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 36
2025-06-22 10:27:53,448 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T04:57:53.4481490Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 10:27:53,451 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 10:27:53,635 [21] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-06-22 10:27:53,636 [21] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-06-22 10:42:32,768 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:12:32.7679530Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 10:42:32,818 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 10:42:32,867 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 10:44:57,114 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:14:57.1145610Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 10:44:57,121 [34] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 10:44:57,134 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 10:46:54,111 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:16:54.1110370Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 10:46:54,115 [34] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 10:46:54,127 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 10:47:04,105 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:17:04.1051490Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 10:47:04,112 [39] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 10:47:04,127 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 10:47:14,087 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:17:14.0871610Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 10:47:14,088 [34] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 10:47:14,095 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 10:48:47,094 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:18:47.0939170Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 10:48:47,096 [39] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 10:48:47,131 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 10:48:55,162 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:18:55.1626240Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 10:48:55,165 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 10:48:55,175 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 10:49:42,214 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:19:42.2140030Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 10:49:42,217 [39] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 10:49:42,223 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 10:50:54,074 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:20:54.0745060Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 10:50:54,086 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 10:50:54,260 [45] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-06-22 10:50:54,260 [45] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-06-22 10:57:44,413 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:27:44.4131080Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 10:57:44,419 [45] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 10:57:44,448 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 10:58:43,977 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:28:43.9774650Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 10:58:43,986 [52] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 10:58:43,996 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:01:43,797 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:31:43.7973460Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 11:01:43,806 [54] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:01:43,816 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:03:25,530 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:33:25.5300950Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 11:03:25,552 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 11:03:25,719 [58] INFO  LeaveManagementSystem.Services.AuthenticationService - User joeytrib@example.com logged in successfully
2025-06-22 11:03:25,719 [58] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User joeytrib@example.com logged in successfully.
2025-06-22 11:07:18,827 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:37:18.8273530Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 11:07:18,837 [54] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:07:19,040 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (197ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:08:16,709 [65] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:38:16.7092280Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 11:08:16,718 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 11:08:16,890 [65] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-06-22 11:08:16,891 [65] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-06-22 11:09:29,181 [66] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:39:29.1816430Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 11:09:29,184 [66] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:09:29,303 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:11:38,113 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:41:38.1137230Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 11:11:38,121 [69] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:11:38,129 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:12:03,133 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:42:03.1330900Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:12:03,153 [69] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:12:03,217 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:12:03,227 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:12:03,230 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:12:03,232 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:12:03,237 [68] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request Leave Balance for LeaveType a522c818-ef32-4c98-a60c-003d3bb4133c not found for User 0728af92-6d38-4547-be7c-bca1f3dcdcc6
 ---> System.Collections.Generic.KeyNotFoundException: Leave Balance for LeaveType a522c818-ef32-4c98-a60c-003d3bb4133c not found for User 0728af92-6d38-4547-be7c-bca1f3dcdcc6
   at LeaveManagementSystem.Services.LeaveBalanceService.GetLeaveBalanceForTypeAsync(Guid userId, Guid leaveTypeId) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveBalanceService.cs:line 54
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateLeaveBalanceAsync(LeaveRequestDto dto, Int32 requestedDays, LeaveType leaveType) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 244
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 177
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 196
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 79
2025-06-22 11:13:09,163 [67] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:43:09.1630570Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:13:09,167 [67] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:13:09,219 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:13:09,221 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:13:09,224 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:13:09,227 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:13:09,239 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:13:09,245 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:13:09,247 [73] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 217
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 196
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 79
2025-06-22 11:13:10,300 [71] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:43:10.3005730Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:13:10,301 [71] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:13:10,303 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:13:10,304 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:13:10,304 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:13:10,305 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:13:10,307 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:13:10,310 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:13:10,311 [73] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 217
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 196
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 79
2025-06-22 11:14:06,469 [71] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:44:06.4687290Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:14:06,486 [71] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:14:06,491 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:14:06,500 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:14:06,501 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:14:06,503 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:14:06,505 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:14:06,511 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:14:06,579 [69] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-06-22 11:14:06,588 [69] ERROR Microsoft.EntityFrameworkCore.Update - An exception occurred in the database while saving changes for context type 'LeaveManagementSystem.Contexts.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-22 11:14:06,589 [69] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeaveManagementSystem.Repositories.Repository`2.Add(T item) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Repositories/Repository.cs:line 19
   at LeaveManagementSystem.Services.LeaveRequestService.CreateLeaveRequestEntityAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 274
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 182
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 196
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 79
2025-06-22 11:14:07,535 [75] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:44:07.5349920Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:14:07,535 [75] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:14:07,538 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:14:07,539 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:14:07,543 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:14:07,546 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:14:07,552 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:14:07,557 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:14:07,562 [69] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-06-22 11:14:07,566 [69] ERROR Microsoft.EntityFrameworkCore.Update - An exception occurred in the database while saving changes for context type 'LeaveManagementSystem.Contexts.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-22 11:14:07,568 [69] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeaveManagementSystem.Repositories.Repository`2.Add(T item) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Repositories/Repository.cs:line 19
   at LeaveManagementSystem.Services.LeaveRequestService.CreateLeaveRequestEntityAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 274
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 182
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 196
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 79
2025-06-22 11:16:47,847 [71] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:46:47.8475900Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 11:16:47,855 [71] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:16:48,143 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:21:35,199 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-06-22 11:21:40,838 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-06-22 11:21:41,108 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-06-22 11:21:41,109 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-06-22 11:21:41,109 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-06-22 11:21:41,109 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem
2025-06-22 11:21:41,179 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:22:18,531 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:52:18.5307960Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:22:18,595 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:22:18,676 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:22:18,688 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:22:18,690 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:22:18,692 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:22:18,698 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:22:18,703 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:22:19,105 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (354ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-06-22 11:22:19,135 [14] ERROR Microsoft.EntityFrameworkCore.Query - An exception occurred while iterating over the results of a query for context type 'LeaveManagementSystem.Contexts.ApplicationDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-22 11:22:19,135 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 11:22:19,139 [14] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
 ---> System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LeaveManagementSystem.Repositories.LeaveRequestRepository.Get(Guid key) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Repositories/LeaveRequestRepository.cs:line 19
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 191
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 196
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 79
2025-06-22 11:22:26,481 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:52:26.4810750Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:22:26,483 [14] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:22:26,532 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:22:26,533 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:22:26,534 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:22:26,535 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:22:26,537 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:22:26,543 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:22:26,544 [13] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 217
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 196
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 79
2025-06-22 11:23:47,391 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:53:47.3909050Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:23:47,397 [14] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:23:47,419 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:23:47,422 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:23:47,422 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:23:47,424 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:23:47,426 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:23:47,429 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:23:47,435 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-06-22 11:23:47,438 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 11:23:47,438 [15] ERROR Microsoft.EntityFrameworkCore.Query - An exception occurred while iterating over the results of a query for context type 'LeaveManagementSystem.Contexts.ApplicationDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-22 11:23:47,439 [15] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
 ---> System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LeaveManagementSystem.Repositories.LeaveRequestRepository.Get(Guid key) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Repositories/LeaveRequestRepository.cs:line 19
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 191
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 196
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 79
2025-06-22 11:26:05,288 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-06-22 11:26:10,523 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-06-22 11:26:10,780 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-06-22 11:26:10,781 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-06-22 11:26:10,781 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-06-22 11:26:10,781 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem
2025-06-22 11:26:10,831 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:26:16,807 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:56:16.8074800Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:26:16,863 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:26:16,899 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:26:16,911 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:26:16,913 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:26:16,915 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:26:16,918 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:26:16,923 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:26:16,931 [14] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 221
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 200
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 79
2025-06-22 11:26:27,013 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T05:56:27.0133690Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:26:27,016 [14] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:26:27,062 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:26:27,063 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:26:27,064 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:26:27,065 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:26:27,067 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:26:27,071 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:26:27,072 [10] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 221
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 200
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 79
2025-06-22 11:29:52,423 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-06-22 11:29:57,451 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-06-22 11:29:57,714 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-06-22 11:29:57,715 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-06-22 11:29:57,715 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-06-22 11:29:57,715 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem
2025-06-22 11:29:57,774 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:30:02,996 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:00:02.9959810Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:30:03,051 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:30:03,084 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:30:03,095 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:30:03,097 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:30:03,099 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:30:03,103 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:30:03,109 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:30:03,116 [9] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 221
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 200
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 104
2025-06-22 11:30:07,890 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:00:07.8899420Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:30:07,892 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:30:07,935 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:30:07,936 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:30:07,937 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:30:07,938 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:30:07,940 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:30:07,943 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:30:07,945 [7] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 221
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 200
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 104
2025-06-22 11:31:34,428 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:01:34.4279650Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 11:31:34,462 [3] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:31:34,487 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:32:14,766 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:02:14.7661800Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:32:14,775 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:32:14,798 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:32:14,800 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:32:14,801 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:32:14,802 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:32:14,805 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:32:14,809 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:32:14,811 [16] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 221
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 200
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 104
2025-06-22 11:32:23,520 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:02:23.5209720Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:32:23,521 [17] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:32:23,524 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:32:23,526 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:32:23,527 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:32:23,530 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:32:23,533 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:32:23,538 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:32:23,539 [16] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 221
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 200
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 104
2025-06-22 11:32:24,969 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:02:24.9692080Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:32:24,970 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:32:24,973 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:32:24,974 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:32:24,975 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:32:24,977 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:32:24,991 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:32:24,994 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:32:24,996 [7] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 221
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 200
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 104
2025-06-22 11:32:25,801 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:02:25.8018020Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:32:25,802 [17] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:32:25,806 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:32:25,808 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:32:25,809 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:32:25,811 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:32:25,813 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:32:25,818 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:32:25,820 [16] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 221
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 200
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 104
2025-06-22 11:32:35,971 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:02:35.9715350Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:32:35,973 [3] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:32:35,975 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:32:35,977 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:32:35,978 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:32:35,981 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:32:35,984 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:32:35,987 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:32:35,988 [18] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 221
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 200
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 104
2025-06-22 11:32:46,072 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:02:46.0723330Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:32:46,073 [17] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:32:46,075 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:32:46,077 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:32:46,078 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:32:46,080 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:32:46,083 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:32:46,088 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:32:46,174 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-06-22 11:32:46,193 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 11:32:46,206 [7] ERROR Microsoft.EntityFrameworkCore.Query - An exception occurred while iterating over the results of a query for context type 'LeaveManagementSystem.Contexts.ApplicationDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-22 11:32:46,207 [7] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
 ---> System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at LeaveManagementSystem.Repositories.LeaveRequestRepository.Get(Guid key) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Repositories/LeaveRequestRepository.cs:line 19
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 195
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 200
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 104
2025-06-22 11:32:46,207 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 11:34:38,883 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-06-22 11:34:43,889 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-06-22 11:34:44,150 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-06-22 11:34:44,151 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-06-22 11:34:44,151 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-06-22 11:34:44,151 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem
2025-06-22 11:34:44,202 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:34:49,026 [10] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:04:49.0265640Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:34:49,081 [10] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:34:49,114 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:34:49,126 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:34:49,128 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:34:49,130 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:34:49,136 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:34:49,143 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:34:49,151 [7] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 220
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 199
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 104
2025-06-22 11:34:50,224 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:04:50.2248750Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:34:50,228 [14] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:34:50,275 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:34:50,277 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:34:50,277 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:34:50,278 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:34:50,281 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:34:50,285 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:34:50,286 [14] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 220
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 180
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 199
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 104
2025-06-22 11:34:58,276 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:04:58.2765990Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:34:58,281 [14] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:34:58,298 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:34:58,300 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:34:58,301 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:34:58,303 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:34:58,310 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:34:58,322 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:34:58,386 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-06-22 11:34:58,404 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 11:34:58,416 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 11:35:12,101 [10] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:05:12.1008450Z, Method: GET, Path: /api/v1/leave-attachments, User: Anonymous
2025-06-22 11:37:06,385 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:07:06.3849750Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 11:37:06,404 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:37:06,435 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:37:46,238 [10] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:07:46.2384200Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:37:46,245 [10] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:37:46,257 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:37:46,260 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:37:46,261 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:37:46,262 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:37:46,265 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:37:46,272 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:37:46,277 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-06-22 11:37:46,280 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 11:37:46,281 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 11:39:21,387 [10] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:09:21.3876740Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 11:39:21,393 [10] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:39:21,399 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:39:49,862 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:09:49.8616510Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:39:49,867 [19] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:39:49,903 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:39:49,909 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:39:49,910 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:39:49,911 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:39:49,915 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:39:49,919 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:39:49,922 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-06-22 11:39:49,925 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 11:39:49,927 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 11:43:44,049 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:13:44.0496970Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 11:43:44,053 [22] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:43:44,086 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:44:14,478 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:14:14.4782820Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:44:14,481 [23] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:44:14,487 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:44:14,497 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:44:14,507 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:44:14,513 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:44:14,517 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:44:14,521 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:44:14,528 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-06-22 11:44:14,531 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 11:44:14,540 [23] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 11:49:11,003 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:19:11.0033660Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 11:49:11,013 [26] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:49:11,068 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:50:37,369 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:20:37.3689990Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 11:50:37,372 [28] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:50:37,418 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:53:39,091 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:23:39.0910250Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-06-22 11:53:39,098 [31] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:53:39,105 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:57:33,652 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:27:33.6523260Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 11:57:33,659 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:57:33,736 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:57:54,029 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:27:54.0294000Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:57:54,035 [40] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:57:54,052 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:57:54,054 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:57:54,062 [35] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request Leave start date cannot be in the past.
 ---> System.InvalidOperationException: Leave start date cannot be in the past.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateStartDate(DateTime startDate) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 207
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 169
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 199
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 104
2025-06-22 11:58:01,784 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:28:01.7849630Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:58:01,785 [35] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:58:01,788 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:58:01,790 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:58:01,791 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:58:01,793 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:58:01,809 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:58:01,814 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:58:01,863 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-06-22 11:58:01,865 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 11:58:01,872 [35] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 11:58:07,237 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:28:07.2371540Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 11:58:07,237 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 11:58:07,254 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 11:58:31,402 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:28:31.4025060Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 11:58:31,404 [40] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 11:58:31,410 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 11:58:31,413 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:58:31,415 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 11:58:31,420 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 11:58:31,426 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-06-22 11:58:31,430 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 11:58:31,433 [37] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 12:03:36,546 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:33:36.5467340Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 12:03:36,551 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 12:03:36,612 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 12:04:13,546 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:34:13.5461280Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 12:04:13,550 [41] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 12:04:13,556 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 12:04:15,534 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:34:15.5347810Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 12:04:15,535 [41] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 12:04:15,544 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 12:05:06,932 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:35:06.9326450Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:05:06,941 [43] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-06-22 12:05:06,967 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 12:05:06,969 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 12:05:06,970 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-06-22 12:05:06,971 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 12:05:06,977 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:05:06,983 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:05:06,990 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-06-22 12:05:06,992 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 12:05:06,995 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 12:05:07,004 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:35:07.0042220Z, Method: POST, Path: /api/v1/leave-attachments, User: Chandler
2025-06-22 12:05:07,045 [41] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Creating new leave attachment
2025-06-22 12:05:07,086 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Binary), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveAttachments" ("Id", "DeletedAt", "FileContent", "FileName", "IsDeleted", "LeaveRequestId", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-06-22 12:05:07,090 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 12:18:40,747 [58] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:48:40.7471140Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:18:40,805 [58] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:18:40,902 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:20:47,746 [59] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:50:47.7462250Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:20:47,750 [59] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:20:47,784 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:21:22,845 [62] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:51:22.8456000Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:21:22,846 [62] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:21:22,849 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:21:23,688 [62] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:51:23.6887050Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 12:21:23,689 [62] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 12:21:23,690 [62] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 12:21:25,944 [59] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:51:25.9449010Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 12:21:25,945 [59] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 12:21:25,946 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 12:21:29,346 [59] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:51:29.3468630Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 12:21:29,347 [59] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 12:21:29,348 [62] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 12:21:33,146 [65] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:51:33.1463890Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 12:21:33,147 [65] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 12:21:33,149 [62] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 12:21:37,496 [60] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:51:37.4962590Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:21:37,496 [60] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:21:37,521 [62] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:21:38,495 [65] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:51:38.4952220Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 12:21:38,495 [65] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 12:21:38,497 [62] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 12:21:39,326 [65] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T06:51:39.3265430Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:21:39,326 [65] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:21:39,330 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:38:15,006 [63] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:08:15.0066290Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:38:15,009 [63] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:38:15,019 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:38:17,095 [63] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:08:17.0951390Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 12:38:17,095 [63] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 12:38:17,097 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 12:38:17,852 [59] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:08:17.8525740Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:38:17,852 [59] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:38:17,856 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:41:17,441 [72] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:11:17.4411220Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:41:17,445 [72] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:41:17,636 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (72ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:55:45,293 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:25:45.2933450Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:55:45,295 [77] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:55:45,358 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:55:48,264 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:25:48.2645010Z, Method: GET, Path: /api/v1/leave-requests/00a528b2-69ed-4bad-a235-efeae9a5d089, User: Chandler
2025-06-22 12:55:48,279 [77] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 00a528b2-69ed-4bad-a235-efeae9a5d089
2025-06-22 12:55:48,284 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 12:55:55,167 [80] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:25:55.1675900Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:55:55,168 [80] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:55:55,171 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:55:56,876 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:25:56.8765140Z, Method: GET, Path: /api/v1/leave-requests/0578f9ba-ed0f-4789-9105-5d0aaee9b0c1, User: Chandler
2025-06-22 12:55:56,877 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 0578f9ba-ed0f-4789-9105-5d0aaee9b0c1
2025-06-22 12:55:56,881 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 12:55:58,997 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:25:58.9978240Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:55:58,998 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:55:59,002 [82] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:56:00,510 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:26:00.5104950Z, Method: GET, Path: /api/v1/leave-requests/071d9cdc-ffd5-4e86-9762-47ec25b23be8, User: Chandler
2025-06-22 12:56:00,511 [77] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 071d9cdc-ffd5-4e86-9762-47ec25b23be8
2025-06-22 12:56:00,514 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 12:56:01,946 [82] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:26:01.9464510Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:56:01,947 [82] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:56:01,951 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:59:28,008 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:29:28.0083910Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:59:28,013 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:59:28,022 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:59:32,852 [83] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:29:32.8528880Z, Method: GET, Path: /api/v1/leave-requests/00a528b2-69ed-4bad-a235-efeae9a5d089, User: Chandler
2025-06-22 12:59:32,854 [83] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 00a528b2-69ed-4bad-a235-efeae9a5d089
2025-06-22 12:59:32,860 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 12:59:34,644 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:29:34.6445630Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 12:59:34,644 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 12:59:34,647 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 12:59:38,294 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:29:38.2947600Z, Method: GET, Path: /api/v1/leave-requests/00a528b2-69ed-4bad-a235-efeae9a5d089, User: Chandler
2025-06-22 12:59:38,295 [77] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 00a528b2-69ed-4bad-a235-efeae9a5d089
2025-06-22 12:59:38,298 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 13:00:42,017 [80] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:30:42.0169150Z, Method: GET, Path: /api/v1/leave-requests/00a528b2-69ed-4bad-a235-efeae9a5d089, User: Chandler
2025-06-22 13:00:42,022 [80] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 00a528b2-69ed-4bad-a235-efeae9a5d089
2025-06-22 13:00:42,048 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 13:01:59,160 [81] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:31:59.1605160Z, Method: GET, Path: /api/v1/leave-requests/00a528b2-69ed-4bad-a235-efeae9a5d089, User: Chandler
2025-06-22 13:01:59,163 [81] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 00a528b2-69ed-4bad-a235-efeae9a5d089
2025-06-22 13:01:59,223 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 13:02:01,009 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:32:01.0096160Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 13:02:01,009 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:02:01,013 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:02:02,512 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:32:02.5121450Z, Method: GET, Path: /api/v1/leave-requests/0578f9ba-ed0f-4789-9105-5d0aaee9b0c1, User: Chandler
2025-06-22 13:02:02,513 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 0578f9ba-ed0f-4789-9105-5d0aaee9b0c1
2025-06-22 13:02:02,516 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 13:02:32,593 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:32:32.5933140Z, Method: POST, Path: /api/v1/auth/login, User: Chandler
2025-06-22 13:02:32,637 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 13:02:32,858 [84] INFO  LeaveManagementSystem.Services.AuthenticationService - User joeytrib@example.com logged in successfully
2025-06-22 13:02:32,858 [84] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User joeytrib@example.com logged in successfully.
2025-06-22 13:02:36,387 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:32:36.3875200Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 13:02:36,388 [77] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 13:02:36,390 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 13:02:37,011 [78] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:32:37.0114610Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:02:37,011 [78] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:02:37,015 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:02:42,229 [78] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:32:42.2292970Z, Method: GET, Path: /api/v1/leave-requests/aed61705-5742-40ab-9acd-f33159be6b58, User: Joey
2025-06-22 13:02:42,229 [78] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: aed61705-5742-40ab-9acd-f33159be6b58
2025-06-22 13:02:42,232 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 13:02:44,914 [78] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:32:44.9145800Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:02:44,914 [78] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:02:44,918 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:04:10,518 [66] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:34:10.5183620Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:04:10,519 [66] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:04:10,526 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:05:04,203 [76] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:35:04.2033490Z, Method: GET, Path: /api/v1/leave-requests/aed61705-5742-40ab-9acd-f33159be6b58, User: Joey
2025-06-22 13:05:04,206 [76] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: aed61705-5742-40ab-9acd-f33159be6b58
2025-06-22 13:05:04,217 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 13:05:18,994 [73] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:35:18.9940650Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:05:18,994 [73] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:05:18,997 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:05:19,796 [73] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:35:19.7968860Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 13:05:19,797 [73] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 13:05:19,799 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 13:05:21,712 [74] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:35:21.7125870Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 13:05:21,713 [74] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 13:05:21,714 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 13:05:22,375 [73] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:35:22.3758190Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:05:22,376 [73] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:05:22,379 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:09:16,168 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:39:16.1680290Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:09:16,171 [70] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:09:16,217 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:09:24,692 [72] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:39:24.6919980Z, Method: GET, Path: /api/v1/leavebalances/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:09:35,770 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:39:35.7703080Z, Method: GET, Path: /api/v1/leavebalances/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:12:52,452 [68] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:42:52.4521090Z, Method: GET, Path: /api/v1/leavebalances/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:13:58,018 [71] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:43:58.0184340Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:13:58,041 [71] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 13:13:58,219 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (173ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 13:14:06,975 [71] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:44:06.9750790Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:14:06,978 [71] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 13:14:06,983 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 13:14:45,634 [63] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:44:45.6343330Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 13:14:45,636 [63] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 13:14:45,653 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 13:14:47,868 [71] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:44:47.8686640Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:14:47,869 [71] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:14:47,874 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:16:43,684 [63] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:46:43.6845300Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:16:43,686 [63] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:16:43,691 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:16:50,142 [62] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:46:50.1426360Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:16:50,147 [62] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 13:16:50,168 [62] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 13:18:00,987 [59] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:48:00.9876760Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:18:00,989 [59] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 13:18:01,032 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 13:18:38,216 [65] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:48:38.2162310Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:18:38,220 [65] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 13:18:38,230 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 13:18:48,943 [65] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:48:48.9434040Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:18:48,944 [65] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 13:18:48,955 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 13:19:03,847 [63] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:49:03.8472610Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 13:19:03,848 [63] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 13:19:03,850 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 13:19:08,538 [59] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T07:49:08.5383470Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:19:08,538 [59] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:19:08,544 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:50:22,900 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:20:22.9000070Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:50:22,903 [69] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 13:50:22,958 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 13:50:35,243 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:20:35.2434110Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:50:35,248 [69] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 13:50:35,256 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 13:51:14,543 [73] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:21:14.5431830Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:51:14,547 [73] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 13:51:14,552 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 13:52:33,892 [75] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:22:33.8925420Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:52:33,899 [75] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 13:52:33,908 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 13:53:29,844 [72] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:23:29.8449680Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:53:29,851 [72] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 13:53:29,862 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 13:53:45,814 [75] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:23:45.8146030Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:53:45,815 [75] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:53:45,821 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:53:46,538 [72] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:23:46.5382040Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 13:53:46,538 [72] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 13:53:46,539 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 13:53:47,878 [74] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:23:47.8786890Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:53:47,879 [74] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:53:47,882 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:53:49,245 [74] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:23:49.2456070Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 13:53:49,246 [74] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 13:53:49,247 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 13:53:51,128 [72] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:23:51.1286350Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 13:53:51,129 [72] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 13:53:51,130 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 13:53:51,962 [74] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:23:51.9628010Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:53:51,963 [74] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:53:51,965 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:53:53,583 [74] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:23:53.5831990Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:53:53,583 [74] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:53:53,587 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:53:54,463 [74] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:23:54.4637230Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 13:53:54,464 [74] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 13:53:54,465 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 13:54:15,098 [75] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:24:15.0989700Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 13:54:15,099 [75] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 13:54:15,101 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 13:54:23,755 [76] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:24:23.7558980Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 13:54:23,756 [76] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 13:54:23,758 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 14:16:58,074 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:46:58.0741320Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 14:16:58,101 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 14:16:58,262 [60] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-06-22 14:16:58,262 [60] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-06-22 14:17:20,159 [60] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:47:20.1590870Z, Method: GET, Path: /api/v1/leave-balance/user/7f1ffd9c-9e10-4b8c-82df-696060387368, User: Chandler
2025-06-22 14:17:20,160 [60] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 7f1ffd9c-9e10-4b8c-82df-696060387368
2025-06-22 14:17:20,168 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 14:25:30,553 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:55:30.5528520Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 14:25:30,555 [44] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 14:25:30,615 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 14:25:58,408 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:55:58.4083030Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 14:25:58,410 [50] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 14:25:58,481 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 14:26:06,655 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:56:06.6558680Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 14:26:06,657 [50] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 14:26:06,666 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 14:26:07,312 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:56:07.3122770Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 14:26:07,312 [49] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 14:26:07,315 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 14:28:09,633 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:58:09.6332350Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 14:28:09,636 [46] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 14:28:09,641 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 14:29:21,940 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T08:59:21.9402070Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 14:29:21,941 [45] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 14:29:21,950 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 14:30:59,013 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T09:00:59.0136370Z, Method: POST, Path: /api/v1/auth/login, User: Joey
2025-06-22 14:30:59,036 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 14:30:59,210 [39] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-06-22 14:30:59,210 [39] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-06-22 14:31:02,815 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T09:01:02.8159750Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 14:31:02,816 [45] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 14:31:02,827 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 14:31:06,355 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T09:01:06.3557690Z, Method: PUT, Path: /api/v1/leave-requests/00a528b2-69ed-4bad-a235-efeae9a5d089/status, User: Chandler
2025-06-22 14:31:06,413 [41] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 00a528b2-69ed-4bad-a235-efeae9a5d089 by approver ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 14:31:06,421 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 14:31:06,444 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-06-22 14:31:06,455 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-06-22 14:31:06,474 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveRequests" SET "ReviewedById" = @p0, "Status" = @p1, "UpdatedAt" = @p2
WHERE "Id" = @p3;
2025-06-22 14:31:06,478 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 14:31:06,491 [45] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 14:31:06,503 [39] ERROR Microsoft.AspNetCore.Server.Kestrel - Connection id "0HNDHAAP0LTMV", Request id "0HNDHAAP0LTMV:0000000F": An unhandled exception was thrown by the application.
Npgsql.NpgsqlException (0x80004005): Received backend message BindComplete while expecting ReadyForQueryMessage. Please file a bug.
   at Npgsql.Util.Statics.ThrowIfMsgWrongType[T](IBackendMessage msg, NpgsqlConnector connector)
   at Npgsql.Util.Statics.Expect[T](IBackendMessage msg, NpgsqlConnector connector)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.Consume(Boolean async, Exception firstException)
   at Npgsql.NpgsqlDataReader.Consume(Boolean async, Exception firstException)
   at Npgsql.NpgsqlDataReader.Close(Boolean connectionClosing, Boolean async, Boolean isDisposing)
   at Npgsql.Internal.NpgsqlConnector.CloseOngoingOperations(Boolean async)
   at Npgsql.NpgsqlConnection.CloseAsync(Boolean async)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-06-22 14:31:08,114 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T09:01:08.1147240Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 14:31:08,115 [47] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 14:31:08,137 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 14:31:09,026 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T09:01:09.0263270Z, Method: PUT, Path: /api/v1/leave-requests/00a528b2-69ed-4bad-a235-efeae9a5d089/status, User: Chandler
2025-06-22 14:31:09,028 [45] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 00a528b2-69ed-4bad-a235-efeae9a5d089 by approver ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 14:31:09,032 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 14:31:09,034 [47] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error updating leave request status for ID: 00a528b2-69ed-4bad-a235-efeae9a5d089
System.Exception: Failed to update leave request status Cannot change status of a finalized request.
 ---> System.InvalidOperationException: Cannot change status of a finalized request.
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 298
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 335
   at LeaveManagementSystem.Controllers.LeaveRequestController.UpdateStatus(Guid id, UpdateLeaveRequestStatusDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 141
2025-06-22 14:31:13,595 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T09:01:13.5955830Z, Method: PUT, Path: /api/v1/leave-requests/00a528b2-69ed-4bad-a235-efeae9a5d089/status, User: Chandler
2025-06-22 14:31:13,596 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 00a528b2-69ed-4bad-a235-efeae9a5d089 by approver ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 14:31:13,599 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 14:31:13,600 [39] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error updating leave request status for ID: 00a528b2-69ed-4bad-a235-efeae9a5d089
System.Exception: Failed to update leave request status Cannot change status of a finalized request.
 ---> System.InvalidOperationException: Cannot change status of a finalized request.
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 298
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 335
   at LeaveManagementSystem.Controllers.LeaveRequestController.UpdateStatus(Guid id, UpdateLeaveRequestStatusDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 141
2025-06-22 14:31:15,895 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T09:01:15.8952120Z, Method: PUT, Path: /api/v1/leave-requests/0578f9ba-ed0f-4789-9105-5d0aaee9b0c1/status, User: Chandler
2025-06-22 14:31:15,896 [47] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 0578f9ba-ed0f-4789-9105-5d0aaee9b0c1 by approver ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 14:31:15,899 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 14:31:15,902 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-06-22 14:31:15,907 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-06-22 14:31:15,929 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p5='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
UPDATE "LeaveRequests" SET "ReviewedById" = @p2, "Status" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
2025-06-22 14:31:15,942 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 14:31:15,945 [35] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 14:31:15,948 [39] ERROR Microsoft.AspNetCore.Server.Kestrel - Connection id "0HNDHAAP0LTMV", Request id "0HNDHAAP0LTMV:00000016": An unhandled exception was thrown by the application.
Npgsql.NpgsqlException (0x80004005): Received backend message BindComplete while expecting ReadyForQueryMessage. Please file a bug.
   at Npgsql.Util.Statics.ThrowIfMsgWrongType[T](IBackendMessage msg, NpgsqlConnector connector)
   at Npgsql.Util.Statics.Expect[T](IBackendMessage msg, NpgsqlConnector connector)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.Consume(Boolean async, Exception firstException)
   at Npgsql.NpgsqlDataReader.Consume(Boolean async, Exception firstException)
   at Npgsql.NpgsqlDataReader.Close(Boolean connectionClosing, Boolean async, Boolean isDisposing)
   at Npgsql.Internal.NpgsqlConnector.CloseOngoingOperations(Boolean async)
   at Npgsql.NpgsqlConnection.CloseAsync(Boolean async)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-06-22 14:31:17,029 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T09:01:17.0297920Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 14:31:17,030 [45] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 14:31:17,048 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 14:31:25,703 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T09:01:25.7029820Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 14:31:25,711 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 14:31:25,741 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 14:32:39,242 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T09:02:39.2420640Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 14:32:39,246 [47] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 14:32:39,492 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (238ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:08:02,624 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:38:02.6248000Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:08:02,628 [13] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:08:02,686 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:08:05,572 [10] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:38:05.5725270Z, Method: GET, Path: /api/v1/leave-requests/00a528b2-69ed-4bad-a235-efeae9a5d089, User: Chandler
2025-06-22 18:08:05,573 [10] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 00a528b2-69ed-4bad-a235-efeae9a5d089
2025-06-22 18:08:05,578 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 18:08:07,331 [10] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:38:07.3315950Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:08:07,331 [10] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:08:07,334 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:08:08,232 [10] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:38:08.2324490Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 18:08:08,232 [10] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:08:08,234 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:08:16,038 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:38:16.0388760Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 18:08:16,039 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:08:16,041 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:08:16,739 [10] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:38:16.7393980Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:08:16,739 [10] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:08:16,742 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:08:17,756 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:38:17.7560760Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:08:17,756 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:08:17,764 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:10:30,263 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:40:30.2637650Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:10:30,266 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:10:30,275 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:11:05,849 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:41:05.8499560Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:11:05,852 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:11:05,865 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:11:06,970 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:41:06.9706650Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:11:06,971 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:11:06,973 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:11:09,385 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:41:09.3856050Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 18:11:09,386 [84] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:11:09,389 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:12:01,150 [85] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:42:01.1504220Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-06-22 18:12:01,152 [85] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 18:12:01,166 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 18:12:06,907 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:42:06.9073390Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:12:06,908 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:12:06,911 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:12:08,504 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:42:08.5049780Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:12:08,505 [13] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:12:08,508 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:12:10,021 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:42:10.0216870Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:12:10,022 [13] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:12:10,024 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:12:14,289 [85] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:42:14.2899900Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:12:14,290 [85] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:12:14,293 [85] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:12:15,057 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:42:15.0577980Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 18:12:15,058 [13] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:12:15,060 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:12:17,552 [83] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:42:17.5520130Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 18:12:17,552 [83] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:12:17,553 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:12:52,804 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:42:52.8041250Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:12:52,805 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:12:52,812 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:13:17,824 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:43:17.8247700Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:13:17,826 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:13:17,829 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:13:47,672 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:43:47.6729440Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-06-22 18:13:47,676 [3] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 18:13:47,681 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 18:15:50,088 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:45:50.0885690Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-06-22 18:15:50,090 [3] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 18:15:50,187 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (74ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 18:16:13,466 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:46:13.4668940Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-06-22 18:16:13,467 [84] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 18:16:13,476 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 18:17:00,269 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:47:00.2691610Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:17:00,272 [17] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:17:00,287 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:17:02,131 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:47:02.1312310Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 18:17:02,131 [84] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:17:02,133 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:24:03,292 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:54:03.2919400Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 18:24:03,317 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 18:24:03,494 [25] INFO  LeaveManagementSystem.Services.AuthenticationService - User joeytrib@example.com logged in successfully
2025-06-22 18:24:03,495 [25] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User joeytrib@example.com logged in successfully.
2025-06-22 18:29:10,408 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T12:59:10.4080880Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 18:29:10,418 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 18:29:10,594 [26] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-06-22 18:29:10,595 [26] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-06-22 18:32:34,593 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:02:34.5933350Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 18:32:34,595 [33] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:32:34,617 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:32:35,370 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:02:35.3702820Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:32:35,370 [23] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:32:35,379 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:32:37,229 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:02:37.2299340Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 18:32:37,231 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:32:37,232 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:33:19,844 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:03:19.8440300Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 18:33:19,851 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 18:33:20,027 [31] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-06-22 18:33:20,027 [31] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-06-22 18:34:05,251 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:04:05.2518040Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 18:34:05,256 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 18:34:05,436 [32] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-06-22 18:34:05,436 [32] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-06-22 18:34:10,421 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:04:10.4214530Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 18:34:10,421 [32] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:34:10,422 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:34:11,452 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:04:11.4525550Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:34:11,453 [32] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:34:11,456 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:34:12,236 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:04:12.2362840Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-06-22 18:34:12,236 [36] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 18:34:12,241 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 18:34:25,615 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:04:25.6155060Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 18:34:25,619 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 18:34:25,766 [30] INFO  LeaveManagementSystem.Services.AuthenticationService - User joeytrib@example.com logged in successfully
2025-06-22 18:34:25,766 [30] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User joeytrib@example.com logged in successfully.
2025-06-22 18:34:28,607 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:04:28.6073500Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 18:34:28,608 [36] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:34:28,614 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:34:29,513 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:04:29.5138570Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 18:34:29,514 [32] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:34:29,515 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:41:21,650 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:11:21.6500690Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 18:41:21,693 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 18:41:21,858 [38] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-06-22 18:41:21,858 [38] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-06-22 18:42:20,055 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:12:20.0555350Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:42:20,057 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:42:20,069 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:42:20,715 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:12:20.7154380Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:42:20,715 [30] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:42:20,719 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:42:21,387 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:12:21.3878820Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 18:42:21,389 [40] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:42:21,392 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:42:22,979 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:12:22.9797690Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 18:42:22,980 [40] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:42:22,981 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:42:23,463 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:12:23.4634530Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:42:23,463 [43] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:42:23,466 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:42:24,181 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:12:24.1815210Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:42:24,181 [30] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:42:24,184 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:42:24,680 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:12:24.6802640Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-06-22 18:42:24,680 [40] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 18:42:24,686 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 18:42:25,980 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:12:25.9802350Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:42:25,980 [43] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:42:25,984 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:43:02,260 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:13:02.2600870Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-06-22 18:43:02,260 [40] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 18:43:02,264 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 18:43:03,312 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:13:03.3121110Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:43:03,312 [45] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:43:03,316 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:43:04,248 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:13:04.2480220Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 18:43:04,248 [30] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:43:04,251 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 18:43:05,119 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:13:05.1194820Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 18:43:05,119 [40] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 18:43:05,121 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 18:43:52,108 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:13:52.1080380Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 18:43:52,111 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 18:43:52,290 [40] INFO  LeaveManagementSystem.Services.AuthenticationService - User joeytrib@example.com logged in successfully
2025-06-22 18:43:52,290 [40] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User joeytrib@example.com logged in successfully.
2025-06-22 18:43:54,330 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:13:54.3302660Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 18:43:54,330 [40] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 18:43:54,335 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:00:34,314 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:30:34.3136670Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 19:00:34,372 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 19:00:34,535 [26] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-06-22 19:00:34,536 [26] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-06-22 19:00:58,105 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:30:58.1053900Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 19:00:58,107 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 19:00:58,286 [25] INFO  LeaveManagementSystem.Services.AuthenticationService - User joeytrib@example.com logged in successfully
2025-06-22 19:00:58,286 [25] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User joeytrib@example.com logged in successfully.
2025-06-22 19:01:00,885 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:00.8856740Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 19:01:00,886 [23] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:01:00,891 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:01:03,062 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:03.0624200Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 19:01:03,062 [26] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:01:03,070 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:01:04,229 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:04.2299950Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 19:01:04,230 [25] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 19:01:04,235 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 19:01:06,127 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:06.1272560Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 19:01:06,127 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:01:06,130 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:01:06,628 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:06.6288100Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 19:01:06,629 [26] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:01:06,630 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:01:07,610 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:07.6104670Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 19:01:07,610 [26] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:01:07,614 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:01:09,448 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:09.4489660Z, Method: GET, Path: /api/v1/leave-requests/aed61705-5742-40ab-9acd-f33159be6b58, User: Joey
2025-06-22 19:01:09,452 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: aed61705-5742-40ab-9acd-f33159be6b58
2025-06-22 19:01:09,456 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 19:01:11,477 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:11.4775730Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 19:01:11,478 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:01:11,479 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:01:16,567 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:16.5676990Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 19:01:16,568 [26] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:01:16,569 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:01:17,228 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:17.2288230Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 19:01:17,229 [26] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:01:17,232 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:01:17,978 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:17.9780940Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 19:01:17,978 [20] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 19:01:17,980 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 19:01:21,093 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:21.0936150Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 19:01:21,094 [26] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:01:21,097 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:01:22,279 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:31:22.2794670Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 19:01:22,283 [25] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:01:22,288 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:12:39,979 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:42:39.9793080Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 19:12:40,008 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 19:12:40,183 [16] INFO  LeaveManagementSystem.Services.AuthenticationService - User joeytrib@example.com logged in successfully
2025-06-22 19:12:40,184 [16] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User joeytrib@example.com logged in successfully.
2025-06-22 19:12:42,854 [10] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:42:42.8546800Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 19:12:42,855 [10] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:12:42,859 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:12:43,961 [10] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:42:43.9619300Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 19:12:43,962 [10] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:12:43,971 [10] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:12:44,878 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:42:44.8782070Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 19:12:44,878 [15] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 19:12:44,885 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 19:12:45,760 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:42:45.7604970Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 19:12:45,760 [18] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:12:45,764 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:12:47,077 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:42:47.0777690Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 19:12:47,078 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:12:47,079 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:12:49,478 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:42:49.4781080Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 19:12:49,478 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:12:49,480 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:12:50,412 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:42:50.4120020Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 19:12:50,412 [18] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:12:50,415 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:12:51,124 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:42:51.1248600Z, Method: GET, Path: /api/v1/leave-balance/user/0b23eda3-d5c7-40a2-9049-557e40524a4d, User: Joey
2025-06-22 19:12:51,125 [9] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0b23eda3-d5c7-40a2-9049-557e40524a4d
2025-06-22 19:12:51,127 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 19:12:52,128 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:42:52.1284440Z, Method: GET, Path: /api/v1/leave-requests, User: Joey
2025-06-22 19:12:52,128 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:12:52,131 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:12:53,277 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:42:53.2773180Z, Method: GET, Path: /api/v1/leavetypes, User: Joey
2025-06-22 19:12:53,277 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:12:53,279 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:23:17,217 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:17.2166110Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 19:23:17,289 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 19:23:17,465 [41] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-06-22 19:23:17,465 [41] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-06-22 19:23:19,255 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:19.2554470Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 19:23:19,255 [41] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:23:19,263 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:23:20,544 [61] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:20.5443230Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 19:23:20,544 [61] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:23:20,555 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:23:33,515 [83] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:33.5154070Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 19:23:33,516 [83] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:23:33,519 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:23:39,414 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:39.4140820Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-06-22 19:23:39,414 [41] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 19:23:39,422 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 19:23:46,329 [61] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:46.3290450Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 19:23:46,329 [61] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:23:46,332 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:23:47,328 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:47.3288590Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 19:23:47,329 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:23:47,331 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:23:48,249 [83] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:48.2497010Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 19:23:48,250 [83] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:23:48,251 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:23:50,145 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:50.1453800Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 19:23:50,145 [84] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:23:50,146 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:23:50,959 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:50.9597510Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 19:23:50,960 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:23:50,962 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:23:51,741 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:51.7417690Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 19:23:51,742 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:23:51,745 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:23:52,496 [83] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:52.4962160Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-06-22 19:23:52,496 [83] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 19:23:52,498 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 19:23:56,563 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:53:56.5631800Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 19:23:56,563 [41] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:23:56,564 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:24:28,797 [61] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:54:28.7978740Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 19:24:28,800 [61] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:24:28,810 [83] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:24:30,766 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:54:30.7660000Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 19:24:30,766 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:24:30,769 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:24:31,601 [63] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:54:31.6009220Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 19:24:31,602 [63] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:24:31,604 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:24:32,899 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:54:32.8991680Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-06-22 19:24:32,899 [84] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 19:24:32,901 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 19:24:33,430 [61] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:54:33.4308640Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 19:24:33,431 [61] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:24:33,434 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:24:39,166 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:54:39.1667800Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 19:24:39,167 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:24:39,170 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:24:41,499 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:54:41.4995030Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-06-22 19:24:41,501 [41] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 19:24:41,504 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 19:24:43,432 [61] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T13:54:43.4326700Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 19:24:43,433 [61] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:24:43,435 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:32:33,434 [61] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T14:02:33.4339080Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 19:32:33,438 [61] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:32:33,809 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (211ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:34:10,118 [61] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T14:04:10.1185690Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 19:34:10,128 [61] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:34:10,140 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:38:35,837 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T14:08:35.8354340Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 19:38:35,854 [48] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 19:38:35,864 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 19:39:11,633 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T14:09:11.6339000Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 19:39:11,635 [55] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:39:11,657 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 19:39:18,222 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T14:09:18.2222940Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 19:39:18,223 [56] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 19:39:18,488 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 20:37:53,411 [60] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T15:07:53.4108890Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 20:37:53,413 [60] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 20:37:53,454 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 20:52:07,164 [71] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T15:22:07.1647350Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 20:52:07,166 [71] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 20:52:07,225 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 20:52:08,856 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T15:22:08.8565850Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 20:52:08,857 [69] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 20:52:08,864 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 21:01:52,285 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T15:31:52.2852480Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 21:01:52,294 [69] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 21:01:52,394 [71] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 21:02:18,091 [86] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T15:32:18.0917490Z, Method: GET, Path: /api/v1/users, User: Chandler
2025-06-22 21:02:18,141 [86] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 21:02:18,153 [86] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 21:02:31,227 [86] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T15:32:31.2272830Z, Method: POST, Path: /api/v1/users, User: Chandler
2025-06-22 21:02:32,159 [75] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T15:32:32.1599580Z, Method: POST, Path: /api/v1/users, User: Chandler
2025-06-22 21:13:49,203 [82] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T15:43:49.2033250Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 21:13:49,206 [82] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 21:13:49,245 [82] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 21:13:56,398 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T15:43:56.3987780Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 21:13:56,399 [77] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 21:13:56,409 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 21:18:31,979 [58] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T15:48:31.9794030Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 21:18:32,016 [58] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 21:18:32,018 [58] WARN  LeaveManagementSystem.Services.AuthenticationService - Failed login attempt for Joeytrib@example.com
2025-06-22 21:18:32,025 [58] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Unauthorized login attempt for Joeytrib@example.com.
System.UnauthorizedAccessException: Invalid credentials
   at LeaveManagementSystem.Services.AuthenticationService.LoginAsync(UserLoginRequest request) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/AuthenticationService.cs:line 41
   at LeaveManagementSystem.Controllers.AuthenticationController.Login(UserLoginRequest request) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 36
2025-06-22 21:18:35,575 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T15:48:35.5753370Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 21:18:35,577 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 21:18:35,756 [77] INFO  LeaveManagementSystem.Services.AuthenticationService - User joeytrib@example.com logged in successfully
2025-06-22 21:18:35,756 [77] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User joeytrib@example.com logged in successfully.
2025-06-22 21:23:12,611 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T15:53:12.6113370Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 21:23:12,630 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 21:23:12,782 [56] INFO  LeaveManagementSystem.Services.AuthenticationService - User joeytrib@example.com logged in successfully
2025-06-22 21:23:12,782 [56] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User joeytrib@example.com logged in successfully.
2025-06-22 22:11:28,549 [88] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:41:28.5489200Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-06-22 22:11:28,581 [88] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:11:28,750 [88] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-06-22 22:11:28,750 [88] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-06-22 22:11:35,124 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:41:35.1241810Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:11:35,138 [27] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:11:35,139 [87] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:12:45,053 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:42:45.0531110Z, Method: GET, Path: /api/v1/users, User: Anonymous
2025-06-22 22:12:45,054 [45] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:12:45,057 [87] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:21:28,426 [92] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:51:28.4260220Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:21:28,428 [92] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:21:28,496 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:21:31,109 [92] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:51:31.1092500Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:21:31,109 [92] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:21:31,113 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:21:33,105 [92] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:51:33.1055490Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:21:33,106 [92] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:21:33,107 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:21:47,211 [92] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:51:47.2113230Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:21:47,213 [92] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:21:47,214 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:21:49,376 [92] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:51:49.3764990Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:21:49,376 [92] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:21:49,378 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:21:52,312 [95] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:51:52.3121770Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:21:52,313 [95] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:21:52,314 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:21:55,232 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:51:55.2328240Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:21:55,233 [45] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:21:55,234 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:21:55,638 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:51:55.6389340Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:21:55,639 [45] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:21:55,640 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:21:57,179 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:51:57.1791010Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:21:57,179 [45] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:21:57,180 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:21:57,358 [95] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:51:57.3581770Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:21:57,358 [95] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:21:57,360 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:22:21,410 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:52:21.4104310Z, Method: PUT, Path: /api/v1.0/Users/1beeb5b9-8c70-404d-ad3a-781c6b7a9c5e, User: Chandler
2025-06-22 22:22:21,438 [45] INFO  LeaveManagementSystem.Controllers.UsersController - Updating user with ID: 1beeb5b9-8c70-404d-ad3a-781c6b7a9c5e
2025-06-22 22:22:21,455 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 22:22:21,460 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 22:22:21,489 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "Email" = @p0
WHERE "Id" = @p1;
2025-06-22 22:22:21,499 [45] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 22:22:35,173 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:52:35.1737490Z, Method: PUT, Path: /api/v1.0/Users/1beeb5b9-8c70-404d-ad3a-781c6b7a9c5e, User: Chandler
2025-06-22 22:22:35,174 [45] INFO  LeaveManagementSystem.Controllers.UsersController - Updating user with ID: 1beeb5b9-8c70-404d-ad3a-781c6b7a9c5e
2025-06-22 22:22:35,193 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 22:22:35,195 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 22:22:35,205 [92] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 22:22:35,213 [94] ERROR Microsoft.AspNetCore.Server.Kestrel - Connection id "0HNDHAAP0LTPB", Request id "0HNDHAAP0LTPB:00000002": An unhandled exception was thrown by the application.
Npgsql.NpgsqlException (0x80004005): Received backend message BindComplete while expecting ReadyForQueryMessage. Please file a bug.
   at Npgsql.Util.Statics.ThrowIfMsgWrongType[T](IBackendMessage msg, NpgsqlConnector connector)
   at Npgsql.Util.Statics.Expect[T](IBackendMessage msg, NpgsqlConnector connector)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.Consume(Boolean async, Exception firstException)
   at Npgsql.NpgsqlDataReader.Consume(Boolean async, Exception firstException)
   at Npgsql.NpgsqlDataReader.Close(Boolean connectionClosing, Boolean async, Boolean isDisposing)
   at Npgsql.Internal.NpgsqlConnector.CloseOngoingOperations(Boolean async)
   at Npgsql.NpgsqlConnection.CloseAsync(Boolean async)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-06-22 22:22:35,216 [92] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:52:35.2169670Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:22:35,217 [92] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:22:35,227 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:26:07,746 [92] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:56:07.7461390Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:26:07,748 [92] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:26:07,769 [97] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:27:08,280 [99] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:57:08.2806570Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:27:08,282 [99] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:27:08,283 [99] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:27:33,878 [92] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:57:33.8784470Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:27:33,881 [92] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:27:33,884 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:28:51,387 [92] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:58:51.3873080Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:28:51,392 [92] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:28:51,396 [97] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:28:57,587 [92] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:58:57.5869990Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:28:57,587 [92] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:28:57,588 [92] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:28:58,898 [96] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:58:58.8987300Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:28:58,899 [96] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:28:58,900 [99] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:29:41,239 [101] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:59:41.2392920Z, Method: DELETE, Path: /api/v1.0/Users/48870205-877a-43fb-bd1f-b7908350e6f3, User: Chandler
2025-06-22 22:29:41,257 [101] INFO  LeaveManagementSystem.Controllers.UsersController - Deleting user with ID: 48870205-877a-43fb-bd1f-b7908350e6f3
2025-06-22 22:29:41,281 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 22:29:41,289 [98] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 22:29:41,299 [98] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "DeletedAt" = @p2, "Email" = @p3, "Gender" = @p4, "IsActive" = @p5, "IsDeleted" = @p6, "LastLoginAt" = @p7, "PasswordHash" = @p8, "Role" = @p9, "Username" = @p10
WHERE "Id" = @p11;
2025-06-22 22:29:41,305 [96] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-22 22:29:44,475 [101] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:59:44.4752690Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:29:44,475 [101] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:29:44,492 [101] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:29:49,348 [98] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T16:59:49.3489550Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:29:49,349 [98] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:29:49,350 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:30:10,140 [99] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T17:00:10.1409340Z, Method: GET, Path: /api/v1.0/Users, User: Chandler
2025-06-22 22:30:10,143 [99] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-06-22 22:30:10,146 [99] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-22 22:30:14,879 [99] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T17:00:14.8799920Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-06-22 22:30:14,880 [99] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-06-22 22:30:14,888 [98] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-06-22 22:30:15,939 [96] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T17:00:15.9392840Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 22:30:15,939 [96] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 22:30:15,946 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 22:30:17,255 [94] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T17:00:17.2551830Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 22:30:17,255 [94] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 22:30:17,259 [94] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 22:30:19,056 [94] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T17:00:19.0567350Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-06-22 22:30:19,057 [94] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 22:30:19,061 [96] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-06-22 22:30:20,854 [99] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T17:00:20.8543940Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-06-22 22:30:20,854 [99] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests.
2025-06-22 22:30:20,858 [93] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-06-22 22:30:24,619 [99] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-06-22T17:00:24.6192820Z, Method: PUT, Path: /api/v1/leave-requests/00a528b2-69ed-4bad-a235-efeae9a5d089/status, User: Chandler
2025-06-22 22:30:24,620 [99] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 00a528b2-69ed-4bad-a235-efeae9a5d089 by approver ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-06-22 22:30:24,624 [95] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-06-22 22:30:24,631 [95] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error updating leave request status for ID: 00a528b2-69ed-4bad-a235-efeae9a5d089
System.Exception: Failed to update leave request status Cannot change status of a finalized request.
 ---> System.InvalidOperationException: Cannot change status of a finalized request.
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 298
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Services/LeaveRequestService.cs:line 335
   at LeaveManagementSystem.Controllers.LeaveRequestController.UpdateStatus(Guid id, UpdateLeaveRequestStatusDto dto) in /Users/presidio/Desktop/AllApi/LeaveManagementSystem copy/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 141
