2025-07-02 06:13:26,580 [105] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T00:43:26.5798930Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 06:13:26,624 [105] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 06:13:26,737 [106] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 06:13:31,701 [105] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T00:43:31.7015030Z, Method: GET, Path: /api/v1/leave-balance/user/b9988376-e649-45a9-880b-ecce93da316b, User: Jake
2025-07-02 06:13:31,703 [105] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: b9988376-e649-45a9-880b-ecce93da316b
2025-07-02 06:13:31,704 [106] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T00:43:31.7045390Z, Method: GET, Path: /api/v1/leavetypes, User: Jake
2025-07-02 06:13:31,705 [106] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 06:13:31,715 [106] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 06:13:31,740 [107] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 06:13:34,251 [107] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T00:43:34.2511570Z, Method: GET, Path: /api/v1/leavetypes, User: Jake
2025-07-02 06:13:34,251 [107] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 06:13:34,258 [110] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 06:13:40,722 [105] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T00:43:40.7221600Z, Method: GET, Path: /api/v1/Users, User: Jake
2025-07-02 06:13:40,722 [107] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T00:43:40.7226930Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 06:13:40,723 [105] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 06:13:40,725 [107] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 06:13:40,727 [110] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T00:43:40.7274190Z, Method: GET, Path: /api/v1/leavetypes, User: Jake
2025-07-02 06:13:40,728 [110] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 06:13:40,736 [110] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 06:13:40,741 [106] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 06:13:40,758 [106] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 06:13:40,760 [105] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T00:43:40.7602280Z, Method: GET, Path: /api/v1/leavetypes, User: Jake
2025-07-02 06:13:40,760 [105] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 06:13:40,762 [110] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 06:13:40,784 [106] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T00:43:40.7845540Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 06:13:40,784 [106] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 06:13:40,793 [106] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:16:54,773 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 07:16:55,025 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 07:16:55,026 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 07:16:55,026 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 07:16:55,026 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 07:16:55,128 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:19:24,299 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:49:24.2992260Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 07:19:24,407 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:19:24,688 [17] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-07-02 07:19:24,691 [17] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-07-02 07:19:24,836 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:49:24.8362860Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 07:19:24,836 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:49:24.8362970Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 07:19:24,840 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:49:24.8400780Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 07:19:24,843 [18] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:19:24,844 [16] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:19:24,847 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:19:24,881 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:19:24,902 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:19:24,915 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:19:24,925 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:49:24.9257230Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 07:19:24,927 [13] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:19:24,930 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:19:24,938 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:49:24.9389830Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 07:19:24,939 [13] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:19:24,958 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:19:40,476 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:49:40.4759840Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 07:19:40,480 [13] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:19:40,483 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:19:45,612 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:49:45.6124530Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 07:19:45,621 [3] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:19:45,636 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:20:24,039 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:50:24.0385360Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 07:20:24,042 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:20:24,062 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:22:25,955 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:52:25.9558300Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 07:22:25,959 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:22:26,097 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:22:49,805 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:52:49.8049120Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 07:22:49,806 [16] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:22:49,870 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:23:11,675 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:11.6753540Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 07:23:11,676 [3] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:23:11,676 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:11.6752010Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 07:23:11,677 [24] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:23:11,677 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:11.6752530Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 07:23:11,677 [23] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:23:11,678 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:23:11,751 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:23:11,753 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:11.7537900Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 07:23:11,754 [24] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:23:11,755 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:23:11,761 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:11.7614250Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 07:23:11,761 [22] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:23:11,765 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:23:11,770 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:23:12,731 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:12.7318910Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 07:23:12,732 [23] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:23:12,733 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:23:13,669 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:13.6693700Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 07:23:13,669 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:23:13,674 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:23:14,700 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:14.7003000Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 07:23:14,700 [23] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:23:14,702 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:14.7022790Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 07:23:14,702 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:14.7029070Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 07:23:14,703 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:23:14,704 [24] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:23:14,706 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:23:14,725 [16] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-07-02 07:23:14,774 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 07:23:22,074 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:22.0740100Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 07:23:22,075 [22] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:23:22,077 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:23:23,071 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:23.0714880Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 07:23:23,072 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:23:23,090 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:23:30,267 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:30.2672860Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 07:23:30,268 [15] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:23:30,269 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:23:43,568 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:43.5684040Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 07:23:43,569 [24] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:23:43,572 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:23:46,775 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:53:46.7758100Z, Method: GET, Path: /api/v1/Users/b9988376-e649-45a9-880b-ecce93da316b, User: Chandler
2025-07-02 07:23:46,781 [15] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching user with ID: b9988376-e649-45a9-880b-ecce93da316b
2025-07-02 07:23:46,788 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 07:27:02,463 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:02.4635980Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 07:27:02,478 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:27:02,637 [21] INFO  LeaveManagementSystem.Services.AuthenticationService - User tony@example.com logged in successfully
2025-07-02 07:27:02,637 [21] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User tony@example.com logged in successfully.
2025-07-02 07:27:02,655 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:02.6553310Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:27:02,655 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:02.6554750Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 07:27:02,655 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:02.6557080Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:27:02,656 [21] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:27:02,656 [16] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:27:02,656 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:27:02,660 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:27:02,660 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:27:02,665 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:02.6653470Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:27:02,665 [16] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:27:02,667 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:27:02,670 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:02.6706210Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:27:02,671 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:27:02,680 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:27:02,680 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:27:27,029 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:27.0297940Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:27:27,031 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:27:27,066 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:27:28,969 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:28.9693460Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:27:28,971 [28] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:27:28,971 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:28.9713660Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 07:27:28,973 [26] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:27:28,975 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:28.9752660Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:27:28,975 [26] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:27:28,980 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:27:28,995 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:27:28,997 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:28.9975480Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:27:28,997 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:27:28,998 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:27:28,999 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:27:29,003 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:29.0038330Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:27:29,004 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:27:29,010 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:27:31,016 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:31.0167980Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:27:31,017 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:27:31,018 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:27:32,493 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:32.4938260Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:27:32,494 [28] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:27:32,499 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:32.4997500Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:27:32,500 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:27:32,502 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:32.5020060Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 07:27:32,502 [30] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:27:32,503 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:27:32,503 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:27:32,506 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:27:32,506 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:32.5066790Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:27:32,506 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:27:32,508 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:27:32,511 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:32.5119330Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:27:32,512 [26] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:27:32,514 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:27:33,643 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:33.6438380Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 07:27:33,644 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:27:33,645 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:27:35,286 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:35.2861180Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:27:35,286 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:35.2866490Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 07:27:35,286 [30] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:27:35,286 [26] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:27:35,288 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:35.2880310Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:27:35,288 [26] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:27:35,288 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:27:35,289 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:27:35,292 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:27:35,292 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:35.2923520Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:27:35,292 [29] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:27:35,294 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:27:35,298 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:35.2986090Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:27:35,298 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:27:35,306 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:27:45,969 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:45.9692000Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:27:45,970 [29] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:27:45,971 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:27:55,511 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T01:57:55.5119540Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:27:55,512 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:27:55,515 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:30:25,859 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:00:25.8591660Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:30:25,859 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:00:25.8591900Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 07:30:25,859 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:00:25.8593150Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 07:30:25,861 [25] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:30:25,861 [34] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:30:25,862 [37] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 07:30:25,882 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:30:25,882 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:30:25,884 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 07:30:47,295 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:00:47.2953800Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:30:47,296 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:30:47,300 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:30:54,187 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:00:54.1872770Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:30:54,187 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:30:54,191 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:30:59,185 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:00:59.1856910Z, Method: GET, Path: /api/v1/leave-requests/feb869e4-04d4-491c-a4b9-b81af1c3b8e9, User: Tony
2025-07-02 07:30:59,202 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: feb869e4-04d4-491c-a4b9-b81af1c3b8e9
2025-07-02 07:30:59,232 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 07:30:59,240 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:00:59.2400670Z, Method: GET, Path: /api/v1/leave-balance/user/b9988376-e649-45a9-880b-ecce93da316b/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 07:30:59,240 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:00:59.2400460Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/feb869e4-04d4-491c-a4b9-b81af1c3b8e9, User: Tony
2025-07-02 07:30:59,243 [25] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: b9988376-e649-45a9-880b-ecce93da316b and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 07:30:59,244 [34] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: feb869e4-04d4-491c-a4b9-b81af1c3b8e9
2025-07-02 07:30:59,248 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 07:30:59,249 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 07:30:59,257 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 07:31:04,720 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:01:04.7209750Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:31:04,721 [37] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:31:04,725 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:31:15,976 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:01:15.9769030Z, Method: GET, Path: /api/v1/leave-requests/651601e1-c76d-4818-a71f-80513e58bf58, User: Tony
2025-07-02 07:31:15,978 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 651601e1-c76d-4818-a71f-80513e58bf58
2025-07-02 07:31:15,992 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 07:31:16,001 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:01:16.0013360Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 07:31:16,001 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:01:16.0013680Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/651601e1-c76d-4818-a71f-80513e58bf58, User: Tony
2025-07-02 07:31:16,002 [37] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 07:31:16,003 [25] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 651601e1-c76d-4818-a71f-80513e58bf58
2025-07-02 07:31:16,005 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 07:31:16,005 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 07:31:16,007 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 07:31:16,009 [38] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 651601e1-c76d-4818-a71f-80513e58bf58
2025-07-02 07:31:22,325 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:01:22.3254880Z, Method: PUT, Path: /api/v1/leave-requests/651601e1-c76d-4818-a71f-80513e58bf58/status, User: Tony
2025-07-02 07:31:22,342 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 651601e1-c76d-4818-a71f-80513e58bf58 by approver ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 07:31:22,348 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 07:31:22,362 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 07:31:22,374 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 07:31:22,449 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p5='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
UPDATE "LeaveRequests" SET "ReviewedById" = @p2, "Status" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
2025-07-02 07:31:22,463 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 07:31:22,482 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 07:31:22,483 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 07:31:22,498 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 07:31:22,500 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:31:22,502 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 07:31:22,503 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 07:31:22,506 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 07:31:22,507 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 07:31:22,508 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 07:31:22,509 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 07:31:22,510 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 07:31:22,510 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 07:31:22,515 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:01:22.5150300Z, Method: GET, Path: /api/v1/leave-requests/651601e1-c76d-4818-a71f-80513e58bf58, User: Tony
2025-07-02 07:31:22,515 [38] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 651601e1-c76d-4818-a71f-80513e58bf58
2025-07-02 07:31:22,517 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 07:31:27,233 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:01:27.2333180Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 07:31:27,247 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:01:27.2478870Z, Method: GET, Path: /api/v1/leave-requests/651601e1-c76d-4818-a71f-80513e58bf58, User: Tony
2025-07-02 07:31:27,248 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 651601e1-c76d-4818-a71f-80513e58bf58
2025-07-02 07:31:27,250 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 07:31:27,261 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:01:27.2616580Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/651601e1-c76d-4818-a71f-80513e58bf58, User: Tony
2025-07-02 07:31:27,261 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:01:27.2617640Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 07:31:27,262 [25] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 07:31:27,263 [37] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 651601e1-c76d-4818-a71f-80513e58bf58
2025-07-02 07:31:27,264 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 07:31:27,271 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 07:31:27,273 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 07:31:27,276 [38] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 651601e1-c76d-4818-a71f-80513e58bf58
2025-07-02 07:31:27,284 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 07:31:32,803 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:01:32.8034150Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:31:32,803 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:31:32,806 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:31:58,890 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:01:58.8907640Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 07:31:58,900 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 07:32:33,623 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:33.6231380Z, Method: POST, Path: /api/notifications/mark-all-as-read/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 07:32:33,666 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted") AND n."RecipientId" = @__userId_0 AND NOT (n."IsRead")
2025-07-02 07:32:33,671 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p5='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime), @p8='?' (DbType = Guid), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p11='?' (DbType = Guid), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTime), @p14='?' (DbType = Guid), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTime), @p17='?' (DbType = Guid), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime), @p20='?' (DbType = Guid), @p18='?' (DbType = Boolean), @p19='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "Notifications" SET "IsRead" = @p0, "ReadAt" = @p1
WHERE "Id" = @p2;
UPDATE "Notifications" SET "IsRead" = @p3, "ReadAt" = @p4
WHERE "Id" = @p5;
UPDATE "Notifications" SET "IsRead" = @p6, "ReadAt" = @p7
WHERE "Id" = @p8;
UPDATE "Notifications" SET "IsRead" = @p9, "ReadAt" = @p10
WHERE "Id" = @p11;
UPDATE "Notifications" SET "IsRead" = @p12, "ReadAt" = @p13
WHERE "Id" = @p14;
UPDATE "Notifications" SET "IsRead" = @p15, "ReadAt" = @p16
WHERE "Id" = @p17;
UPDATE "Notifications" SET "IsRead" = @p18, "ReadAt" = @p19
WHERE "Id" = @p20;
2025-07-02 07:32:33,679 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:33.6795240Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 07:32:33,681 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 07:32:42,047 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:42.0475650Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:32:42,049 [35] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:32:42,069 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:42.0699740Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:32:42,070 [26] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:32:42,071 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:32:42,071 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:42.0717130Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 07:32:42,072 [35] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:32:42,114 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:32:42,114 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:32:42,116 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:42.1168540Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:32:42,117 [40] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:32:42,117 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:32:42,120 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:42.1203710Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:32:42,120 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:32:42,126 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:32:45,603 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:45.6036400Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:32:45,604 [25] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:32:45,605 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:32:46,425 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:46.4251080Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:32:46,425 [25] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:32:46,426 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:46.4266220Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 07:32:46,426 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:46.4269290Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 07:32:46,427 [26] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:32:46,427 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:32:46,427 [41] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 07:32:46,430 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:32:46,435 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 07:32:47,040 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:47.0402910Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 07:32:47,040 [25] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 07:32:47,042 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 07:32:48,009 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:48.0093580Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 07:32:48,009 [41] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 07:32:48,013 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 07:32:48,543 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:02:48.5438330Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 07:32:48,545 [26] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:32:48,546 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:42:25,878 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:12:25.8783540Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 07:42:25,899 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:12:25.8999130Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 07:42:25,900 [41] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 07:42:26,128 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (94ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 07:42:26,128 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (94ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:01:07,643 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:31:07.6426830Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 08:01:07,657 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:31:07.6571760Z, Method: GET, Path: /api/v1/leave-requests/feb869e4-04d4-491c-a4b9-b81af1c3b8e9, User: Tony
2025-07-02 08:01:07,657 [20] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: feb869e4-04d4-491c-a4b9-b81af1c3b8e9
2025-07-02 08:01:08,090 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:01:08,099 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 08:01:08,118 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:31:08.1184270Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/feb869e4-04d4-491c-a4b9-b81af1c3b8e9, User: Tony
2025-07-02 08:01:08,118 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:31:08.1184630Z, Method: GET, Path: /api/v1/leave-balance/user/b9988376-e649-45a9-880b-ecce93da316b/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 08:01:08,118 [20] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: feb869e4-04d4-491c-a4b9-b81af1c3b8e9
2025-07-02 08:01:08,118 [16] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: b9988376-e649-45a9-880b-ecce93da316b and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 08:01:08,160 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (41ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 08:01:08,162 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 08:01:08,172 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (53ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 08:01:13,216 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:31:13.2168440Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 08:01:13,219 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:01:13,232 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:31:13.2325580Z, Method: GET, Path: /api/v1/leave-requests/feb869e4-04d4-491c-a4b9-b81af1c3b8e9, User: Tony
2025-07-02 08:01:13,233 [3] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: feb869e4-04d4-491c-a4b9-b81af1c3b8e9
2025-07-02 08:01:13,239 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 08:01:13,254 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:31:13.2544730Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/feb869e4-04d4-491c-a4b9-b81af1c3b8e9, User: Tony
2025-07-02 08:01:13,254 [23] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: feb869e4-04d4-491c-a4b9-b81af1c3b8e9
2025-07-02 08:01:13,256 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:31:13.2564860Z, Method: GET, Path: /api/v1/leave-balance/user/b9988376-e649-45a9-880b-ecce93da316b/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 08:01:13,256 [3] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: b9988376-e649-45a9-880b-ecce93da316b and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 08:01:13,266 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 08:01:13,266 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 08:01:13,269 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 08:01:19,468 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:31:19.4686960Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 08:01:19,469 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:31:19.4698390Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 08:01:19,470 [23] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 08:01:19,470 [3] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:01:19,478 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:31:19.4785880Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 08:01:19,478 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:01:19,478 [3] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:01:19,479 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 08:01:19,480 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:06:32,636 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:36:32.6366870Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 08:06:32,652 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:36:32.6529000Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 08:06:32,653 [20] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:06:32,736 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:06:32,736 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:14:08,603 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:44:08.6038050Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 08:14:08,619 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:44:08.6195340Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 08:14:08,619 [20] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:14:08,695 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:14:08,696 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:16:23,063 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:46:23.0629810Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 08:16:23,065 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:16:23,094 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:16:24,091 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:46:24.0915960Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 08:16:24,092 [49] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:16:24,104 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:16:54,284 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:46:54.2838120Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 08:16:54,308 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:16:54,476 [47] INFO  LeaveManagementSystem.Services.AuthenticationService - User jake@gmail.com logged in successfully
2025-07-02 08:16:54,476 [47] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User jake@gmail.com logged in successfully.
2025-07-02 08:16:54,495 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:46:54.4956830Z, Method: GET, Path: /api/v1/leavetypes, User: Jake
2025-07-02 08:16:54,495 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:46:54.4957620Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:16:54,495 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:46:54.4957710Z, Method: GET, Path: /api/v1/Users, User: Jake
2025-07-02 08:16:54,496 [50] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:16:54,496 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:16:54,496 [52] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:16:54,496 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:16:54,499 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:46:54.4992230Z, Method: GET, Path: /api/v1/leavetypes, User: Jake
2025-07-02 08:16:54,499 [53] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:16:54,519 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:16:54,520 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:16:54,526 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:46:54.5260560Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:16:54,526 [53] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:16:54,532 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:16:54,797 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:17:08,688 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:47:08.6887420Z, Method: GET, Path: /api/v1/auth/me, User: Jake
2025-07-02 08:17:08,711 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:17:08,712 [53] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-02 08:17:13,682 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:47:13.6826130Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:17:13,683 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:17:13,687 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:17:13,687 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:47:13.6875320Z, Method: GET, Path: /api/v1/Users, User: Jake
2025-07-02 08:17:13,687 [53] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:17:13,689 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:47:13.6891280Z, Method: GET, Path: /api/v1/leavetypes, User: Jake
2025-07-02 08:17:13,690 [53] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:17:13,692 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:17:13,692 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:17:13,696 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:47:13.6960460Z, Method: GET, Path: /api/v1/leavetypes, User: Jake
2025-07-02 08:17:13,696 [53] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:17:13,697 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:17:13,698 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:47:13.6988500Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:17:13,699 [50] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:17:13,701 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:17:16,911 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:47:16.9113530Z, Method: GET, Path: /api/v1/leavetypes, User: Jake
2025-07-02 08:17:16,912 [47] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:17:16,913 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:17:41,697 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:47:41.6978120Z, Method: POST, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:17:41,714 [49] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 08:17:41,728 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 08:17:41,745 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 08:17:41,771 [47] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Failed to create leave request Only female employees can apply for Maternity Leave.
 ---> System.InvalidOperationException: Only female employees can apply for Maternity Leave.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateGenderBasedLeaveAsync(Guid userId, Guid leaveTypeId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 497
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 133
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 163
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 08:18:31,523 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 08:18:36,773 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 08:18:37,036 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 08:18:37,037 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 08:18:37,037 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 08:18:37,037 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 08:18:37,094 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:18:40,469 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:48:40.4692310Z, Method: POST, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:18:40,523 [11] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 08:18:40,555 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 08:18:40,567 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 08:18:40,572 [13] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Only female employees can apply for Maternity Leave.
 ---> System.InvalidOperationException: Only female employees can apply for Maternity Leave.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateGenderBasedLeaveAsync(Guid userId, Guid leaveTypeId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 497
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 133
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 163
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 08:23:37,274 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T02:53:37.2736110Z, Method: POST, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:23:37,285 [15] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 08:23:37,364 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 08:23:37,368 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 08:23:37,373 [15] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Only female employees can apply for Maternity Leave.
 ---> System.InvalidOperationException: Only female employees can apply for Maternity Leave.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateGenderBasedLeaveAsync(Guid userId, Guid leaveTypeId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 497
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 133
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 163
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 08:25:29,449 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 08:30:25,135 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 08:30:25,386 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 08:30:25,387 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 08:30:25,387 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 08:30:25,387 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 08:30:25,450 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:32:26,766 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:02:26.7665930Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:32:26,812 [15] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:32:26,824 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:33:38,009 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:03:38.0094830Z, Method: GET, Path: /api/notifications/unread/b9988376-e649-45a9-880b-ecce93da316b, User: Jake
2025-07-02 08:33:38,076 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:33:38,084 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:03:38.0843060Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:33:38,086 [3] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:33:38,138 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:33:44,602 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:03:44.6029280Z, Method: GET, Path: /api/notifications/unread/b9988376-e649-45a9-880b-ecce93da316b, User: Jake
2025-07-02 08:33:44,636 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:33:44,658 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:03:44.6585370Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:33:44,667 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:33:44,687 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:34:39,605 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:04:39.6056350Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:34:39,605 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:04:39.6056380Z, Method: GET, Path: /api/notifications/unread/b9988376-e649-45a9-880b-ecce93da316b, User: Jake
2025-07-02 08:34:39,624 [22] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:34:39,628 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:34:39,633 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:35:01,776 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:01.7767580Z, Method: GET, Path: /api/notifications/unread/b9988376-e649-45a9-880b-ecce93da316b, User: Jake
2025-07-02 08:35:01,780 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:35:01,793 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:01.7932970Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:35:01,793 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:35:01,800 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:35:11,958 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:11.9582140Z, Method: GET, Path: /api/notifications/unread/b9988376-e649-45a9-880b-ecce93da316b, User: Jake
2025-07-02 08:35:11,964 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:35:11,978 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:11.9782090Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:35:11,978 [22] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:35:11,986 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:35:20,008 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:20.0087300Z, Method: GET, Path: /api/notifications/unread/b9988376-e649-45a9-880b-ecce93da316b, User: Jake
2025-07-02 08:35:20,018 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:35:20,036 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:20.0363600Z, Method: GET, Path: /api/v1/leave-requests, User: Jake
2025-07-02 08:35:20,037 [22] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:35:20,050 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:35:40,198 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:40.1983380Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 08:35:40,254 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:35:40,469 [26] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-07-02 08:35:40,471 [26] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-07-02 08:35:40,498 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:40.4989330Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:35:40,498 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:40.4989170Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:35:40,499 [26] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:35:40,501 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:40.5017930Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 08:35:40,504 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:35:40,505 [27] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:35:40,505 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:35:40,510 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:35:40,523 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:40.5229900Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:35:40,523 [28] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:35:40,524 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:35:40,541 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:40.5413890Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:35:40,541 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:35:40,569 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:35:40,591 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:35:55,002 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:55.0028820Z, Method: GET, Path: /api/v1/auth/me, User: Chandler
2025-07-02 08:35:55,015 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:35:55,016 [26] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-02 08:35:58,014 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:58.0140670Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:35:58,015 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:35:58,017 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:58.0175450Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:35:58,017 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:58.0176230Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 08:35:58,018 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:35:58,018 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:35:58,019 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:35:58,033 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:35:58,048 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:35:58,050 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:58.0503570Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:35:58,050 [28] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:35:58,051 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:35:58,054 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:58.0547990Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:35:58,055 [27] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:35:58,057 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:35:58,690 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:05:58.6907830Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:35:58,691 [28] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:35:58,699 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:36:20,474 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:06:20.4749110Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 08:36:20,502 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:36:20,538 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:06:20.5389120Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:36:20,539 [27] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:36:20,545 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:36:28,297 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:06:28.2976080Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:36:28,297 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:06:28.2939270Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 08:36:28,299 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:36:28,306 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:36:28,325 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:37:02,948 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:02.9487850Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:37:02,952 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:02.9520090Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 08:37:02,954 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:02.9544480Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:37:02,954 [29] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:37:02,954 [30] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:37:02,954 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:37:02,959 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:37:02,960 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:37:02,965 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:37:02,971 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:02.9714260Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:37:02,971 [27] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:37:02,973 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:37:02,978 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:02.9788650Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:37:02,979 [33] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:37:02,982 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:37:05,613 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:05.6131010Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:37:05,613 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:37:05,614 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:37:06,339 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:06.3398320Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:37:06,340 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:37:06,345 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:37:08,279 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:08.2797570Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 08:37:08,298 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:08.2985110Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:37:08,298 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:08.2986760Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 08:37:08,298 [29] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:37:08,298 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:37:08,299 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:37:08,299 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:37:08,308 [33] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-07-02 08:37:08,354 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 08:37:08,836 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:08.8363440Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:37:08,836 [33] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:37:08,838 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:37:09,456 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:09.4567310Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:37:09,457 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:37:09,460 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:37:10,321 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:10.3218680Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 08:37:10,322 [29] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:37:10,323 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:37:30,307 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:30.3060700Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 08:37:30,336 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:30.3364170Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 08:37:30,336 [33] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:37:30,344 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:37:30,359 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:37:32,277 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:32.2778270Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:37:32,280 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:37:32,282 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:32.2829350Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 08:37:32,284 [28] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-07-02 08:37:32,284 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:32.2849200Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 08:37:32,285 [34] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:37:32,285 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:37:32,286 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:37:32,295 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 08:37:40,860 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:40.8608660Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:37:40,861 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:37:40,866 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:37:42,028 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:42.0287810Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:37:42,029 [28] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:37:42,030 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:37:42,820 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:42.8204020Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:37:42,820 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:37:42,824 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:37:44,590 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:44.5902340Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:37:44,591 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:37:44,591 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:44.5915390Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 08:37:44,592 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:44.5925790Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 08:37:44,592 [33] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:37:44,592 [29] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-07-02 08:37:44,600 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:37:44,600 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:37:44,601 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 08:37:45,057 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:45.0573730Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:37:45,057 [29] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:37:45,059 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:37:57,105 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:07:57.1053430Z, Method: DELETE, Path: /api/v1/leavetypes/a522c818-ef32-4c98-a60c-003d3bb4133c, User: Chandler
2025-07-02 08:37:57,113 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Deleting leave type with ID: a522c818-ef32-4c98-a60c-003d3bb4133c
2025-07-02 08:37:57,126 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 08:37:57,131 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 08:37:57,193 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveTypes" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "DeletedAt" = @p2, "Description" = @p3, "IsDeleted" = @p4, "Name" = @p5, "StandardLeaveCount" = @p6, "UpdatedAt" = @p7, "UpdatedBy" = @p8
WHERE "Id" = @p9;
2025-07-02 08:37:57,231 [33] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 08:38:02,659 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:08:02.6594610Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 08:38:02,664 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:08:02.6647760Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:38:02,665 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:38:02,677 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:38:02,677 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:38:20,071 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:08:20.0718290Z, Method: PUT, Path: /api/v1/leavetypes/63e4dada-9f09-4864-86eb-838a72dd67f2, User: Chandler
2025-07-02 08:38:20,088 [28] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Updating leave type with ID: 63e4dada-9f09-4864-86eb-838a72dd67f2
2025-07-02 08:38:20,092 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 08:38:20,096 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 08:38:20,101 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveTypes" SET "StandardLeaveCount" = @p0, "UpdatedAt" = @p1, "UpdatedBy" = @p2
WHERE "Id" = @p3;
2025-07-02 08:38:20,105 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 08:38:20,112 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:08:20.1123760Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:38:20,112 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:38:20,113 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:38:47,250 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:08:47.2502250Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 08:38:47,254 [20] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-07-02 08:38:47,255 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:08:47.2551410Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:38:47,255 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:08:47.2554890Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 08:38:47,256 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:38:47,256 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:38:47,258 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:38:47,268 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:38:47,293 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 08:38:48,142 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:08:48.1427850Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:38:48,143 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:38:48,147 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:38:50,577 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:08:50.5771460Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:38:50,577 [35] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:38:50,586 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:38:51,175 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:08:51.1752340Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:38:51,175 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:38:51,177 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:39:12,387 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:09:12.3870630Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:39:12,393 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:39:12,400 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:39:13,117 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:09:13.1179870Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 08:39:13,118 [29] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:39:13,121 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:39:20,062 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:09:20.0622330Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 08:39:20,062 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:09:20.0628730Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:39:20,063 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:09:20.0631460Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:39:20,063 [29] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:39:20,064 [37] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:39:20,063 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:39:20,066 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:39:20,067 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:39:20,069 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:09:20.0699280Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:39:20,070 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:39:20,070 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:39:20,079 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:39:20,120 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:09:20.1186670Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:39:20,130 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:39:20,138 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:42:52,459 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:12:52.4589770Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 08:42:52,521 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:42:52,557 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:12:52.5579720Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 08:42:52,558 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:42:52,559 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:12:52.5591940Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:42:52,559 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:12:52.5592750Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:42:52,559 [45] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:42:52,559 [38] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:42:52,567 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:42:52,574 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:42:52,577 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:12:52.5770220Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 08:42:52,577 [44] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:42:52,579 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:42:52,581 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:42:52,615 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:12:52.6158270Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 08:42:52,616 [44] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 08:42:52,624 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 08:53:13,085 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:23:13.0855930Z, Method: GET, Path: /api/notifications/all/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 08:53:13,145 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:57:21,892 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:27:21.8920320Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 08:57:21,892 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:27:21.8920380Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 08:57:21,892 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:27:21.8920450Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 08:57:21,892 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:27:21.8921780Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 08:57:21,894 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 08:57:21,894 [24] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 08:57:21,894 [25] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 08:57:22,360 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (124ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 08:57:22,360 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (124ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 08:57:22,361 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (125ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 08:57:22,613 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (376ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 08:58:51,293 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 09:09:34,785 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 09:09:35,051 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 09:09:35,052 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 09:09:35,052 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 09:09:35,052 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 09:09:35,207 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:09:46,784 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:39:46.7836630Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:09:46,784 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:39:46.7836690Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 09:09:46,784 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:39:46.7836660Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 09:09:46,784 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:39:46.7836700Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 09:09:46,807 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 09:09:46,833 [13] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:09:46,834 [7] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:09:46,834 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:09:46,862 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:09:46,877 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:09:46,877 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:09:46,889 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:39:46.8898960Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 09:09:46,890 [11] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:09:46,893 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:39:46.8935870Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 09:09:46,894 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:09:46,894 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:09:46,906 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:09:48,053 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:39:48.0534110Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:09:48,054 [16] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:09:48,056 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:10:17,604 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:40:17.6048680Z, Method: POST, Path: /api/v1/Users, User: Chandler
2025-07-02 09:10:17,637 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 09:10:17,910 [9] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 09:10:17,923 [9] ERROR Microsoft.EntityFrameworkCore.Update - An exception occurred in the database while saving changes for context type 'LeaveManagementSystem.Contexts.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Username"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Username"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Username
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Username"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Username"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Username
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-02 09:10:17,927 [9] ERROR LeaveManagementSystem.Controllers.UsersController - Error occurred while creating a user.
LeaveManagementSystem.Exceptions.DuplicateKeyException: A user with the same unique field (like email or username) already exists.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Username"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Username"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Username
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeaveManagementSystem.Repositories.Repository`2.Add(T item) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Repositories/Repository.cs:line 19
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 119
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 151
   at LeaveManagementSystem.Controllers.UsersController.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/UserController.cs:line 180
2025-07-02 09:10:35,305 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:40:35.3053340Z, Method: POST, Path: /api/v1/Users, User: Chandler
2025-07-02 09:10:35,314 [11] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 09:10:35,499 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 09:10:35,520 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:10:35,527 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:10:35,541 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:10:35,544 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:10:35,548 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:10:35,549 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:10:35,553 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:10:35,554 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:10:35,555 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:10:35,556 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:10:35,558 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:10:35,559 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:10:35,560 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:10:35,561 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:10:35,587 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 09:10:46,289 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:40:46.2899050Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 09:10:46,313 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 09:10:47,267 [9] ERROR LeaveManagementSystem.Controllers.UsersController - Error occurred while creating a user.
System.Exception: Failed to create user.
 ---> MailKit.Security.AuthenticationException: 535: 5.7.8 Username and Password not accepted. For more information, go to
5.7.8  https://support.google.com/mail/?p=BadCredentials d9443c01a7336-23acb3b82c6sm119014465ad.174 - gsmtp
 ---> MailKit.Net.Smtp.SmtpCommandException: 5.7.8 Username and Password not accepted. For more information, go to
5.7.8  https://support.google.com/mail/?p=BadCredentials d9443c01a7336-23acb3b82c6sm119014465ad.174 - gsmtp
   --- End of inner exception stack trace ---
   at MailKit.Net.Smtp.SmtpClient.AuthenticateAsync(Encoding encoding, ICredentials credentials, CancellationToken cancellationToken)
   at LeaveManagementSystem.Services.EmailService.SendAsync(String to, String subject, String body) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/EmailService.cs:line 27
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 125
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 157
   at LeaveManagementSystem.Controllers.UsersController.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/UserController.cs:line 180
2025-07-02 09:11:00,343 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:41:00.3432480Z, Method: POST, Path: /api/v1/Users, User: Chandler
2025-07-02 09:11:00,344 [20] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 09:11:00,525 [9] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 09:11:00,528 [9] ERROR Microsoft.EntityFrameworkCore.Update - An exception occurred in the database while saving changes for context type 'LeaveManagementSystem.Contexts.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Email"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Email"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Email
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Email"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Email"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Email
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-02 09:11:00,529 [9] ERROR LeaveManagementSystem.Controllers.UsersController - Error occurred while creating a user.
LeaveManagementSystem.Exceptions.DuplicateKeyException: A user with the same unique field (like email or username) already exists.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Email"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Email"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Email
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeaveManagementSystem.Repositories.Repository`2.Add(T item) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Repositories/Repository.cs:line 19
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 119
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 151
   at LeaveManagementSystem.Controllers.UsersController.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/UserController.cs:line 180
2025-07-02 09:11:24,506 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:41:24.5064100Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:11:24,510 [19] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:11:24,514 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:13:12,743 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 09:13:16,439 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 09:13:16,691 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 09:13:16,692 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 09:13:16,692 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 09:13:16,692 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 09:13:16,769 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:13:45,990 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:43:45.9900650Z, Method: POST, Path: /api/v1/Users, User: Chandler
2025-07-02 09:13:46,045 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 09:13:46,311 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 09:13:46,327 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:13:46,337 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:13:46,355 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:13:46,359 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:13:46,361 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:13:46,363 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:13:46,364 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:13:46,366 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:13:46,368 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:13:46,370 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:13:46,371 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:13:46,373 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:13:46,375 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:13:46,378 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:13:46,403 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 09:13:50,536 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:43:50.5362220Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:13:50,543 [11] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:13:50,585 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:13:54,873 [11] ERROR LeaveManagementSystem.Controllers.UsersController - Error occurred while creating a user.
System.Exception: Failed to create user.
 ---> MailKit.Security.AuthenticationException: 535: 5.7.8 Username and Password not accepted. For more information, go to
5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-74af55c6a45sm13058323b3a.114 - gsmtp
 ---> MailKit.Net.Smtp.SmtpCommandException: 5.7.8 Username and Password not accepted. For more information, go to
5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-74af55c6a45sm13058323b3a.114 - gsmtp
   --- End of inner exception stack trace ---
   at MailKit.Net.Smtp.SmtpClient.AuthenticateAsync(Encoding encoding, ICredentials credentials, CancellationToken cancellationToken)
   at LeaveManagementSystem.Services.EmailService.SendAsync(String to, String subject, String body) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/EmailService.cs:line 27
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 125
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 157
   at LeaveManagementSystem.Controllers.UsersController.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/UserController.cs:line 180
2025-07-02 09:16:12,536 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 09:16:16,318 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 09:16:16,566 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 09:16:16,567 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 09:16:16,567 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 09:16:16,567 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 09:16:16,675 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:16:23,361 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:46:23.3614540Z, Method: DELETE, Path: /api/v1/Users/875b303a-2ae9-4d08-857c-f3073cbcd766, User: Chandler
2025-07-02 09:16:23,408 [7] INFO  LeaveManagementSystem.Controllers.UsersController - Deleting user with ID: 875b303a-2ae9-4d08-857c-f3073cbcd766
2025-07-02 09:16:23,439 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:16:23,448 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:16:23,489 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "DeletedAt" = @p2, "Email" = @p3, "Gender" = @p4, "IsActive" = @p5, "IsDeleted" = @p6, "LastLoginAt" = @p7, "PasswordHash" = @p8, "Role" = @p9, "Username" = @p10
WHERE "Id" = @p11;
2025-07-02 09:16:23,514 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 09:16:23,540 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:46:23.5405020Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:16:23,544 [11] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:16:23,568 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:16:25,268 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:46:25.2684150Z, Method: DELETE, Path: /api/v1/Users/5d07de73-690d-4277-950b-19c8ab22f7c6, User: Chandler
2025-07-02 09:16:25,272 [11] INFO  LeaveManagementSystem.Controllers.UsersController - Deleting user with ID: 5d07de73-690d-4277-950b-19c8ab22f7c6
2025-07-02 09:16:25,277 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:16:25,279 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:16:25,282 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "DeletedAt" = @p2, "Email" = @p3, "Gender" = @p4, "IsActive" = @p5, "IsDeleted" = @p6, "LastLoginAt" = @p7, "PasswordHash" = @p8, "Role" = @p9, "Username" = @p10
WHERE "Id" = @p11;
2025-07-02 09:16:25,285 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 09:16:25,289 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:46:25.2898880Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:16:25,290 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:16:25,292 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:16:39,550 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:46:39.5508800Z, Method: POST, Path: /api/v1/Users, User: Chandler
2025-07-02 09:16:39,577 [7] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 09:16:39,809 [13] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 09:16:39,820 [13] ERROR Microsoft.EntityFrameworkCore.Update - An exception occurred in the database while saving changes for context type 'LeaveManagementSystem.Contexts.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Email"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Email"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Email
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Email"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Email"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Email
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-02 09:16:39,824 [13] ERROR LeaveManagementSystem.Controllers.UsersController - Error occurred while creating a user.
LeaveManagementSystem.Exceptions.DuplicateKeyException: A user with the same unique field (like email or username) already exists.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Email"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Email"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Email
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeaveManagementSystem.Repositories.Repository`2.Add(T item) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Repositories/Repository.cs:line 19
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 119
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 151
   at LeaveManagementSystem.Controllers.UsersController.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/UserController.cs:line 180
2025-07-02 09:16:56,514 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:46:56.5147860Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:16:56,517 [11] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:16:56,523 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:17:00,112 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:47:00.1119960Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:17:00,112 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:17:00,114 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:17:00,307 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:47:00.3076890Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:17:00,308 [11] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:17:00,310 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:17:03,356 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:47:03.3568620Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:17:03,358 [11] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:17:03,359 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:17:03,737 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:47:03.7376720Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:17:03,739 [13] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:17:03,741 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:17:24,252 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:47:24.2527980Z, Method: POST, Path: /api/v1/Users, User: Chandler
2025-07-02 09:17:24,259 [13] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 09:17:24,437 [11] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 09:17:24,439 [11] ERROR Microsoft.EntityFrameworkCore.Update - An exception occurred in the database while saving changes for context type 'LeaveManagementSystem.Contexts.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Username"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Username"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Username
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Username"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Username"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Username
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-02 09:17:24,441 [11] ERROR LeaveManagementSystem.Controllers.UsersController - Error occurred while creating a user.
LeaveManagementSystem.Exceptions.DuplicateKeyException: A user with the same unique field (like email or username) already exists.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Username"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Username"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Username
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeaveManagementSystem.Repositories.Repository`2.Add(T item) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Repositories/Repository.cs:line 19
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 119
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 151
   at LeaveManagementSystem.Controllers.UsersController.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/UserController.cs:line 180
2025-07-02 09:17:55,012 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:47:55.0126820Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:17:55,015 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:17:55,024 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:17:57,781 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:47:57.7812790Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:17:57,782 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:17:57,784 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:17:59,559 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:47:59.5597410Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:17:59,560 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:17:59,562 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:18:03,447 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:03.4473200Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:18:03,448 [14] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:18:03,449 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:18:03,809 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:03.8093130Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:18:03,809 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:18:03,811 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:18:37,508 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:37.5086110Z, Method: POST, Path: /api/v1/Users, User: Chandler
2025-07-02 09:18:37,512 [3] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 09:18:37,693 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 09:18:37,706 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:18:37,709 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:18:37,714 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:18:37,715 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:18:37,716 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:18:37,717 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:18:37,718 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:18:37,719 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:18:37,720 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:18:37,720 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:18:37,721 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:18:37,722 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:18:37,723 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:18:37,724 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 09:18:37,725 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 09:18:45,031 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:45.0314660Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:18:45,032 [11] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:18:45,032 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:45.0326830Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 09:18:45,033 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:45.0332400Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 09:18:45,034 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:18:45,040 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:18:45,042 [14] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:18:45,044 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:18:45,047 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:18:45,064 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:45.0639660Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 09:18:45,064 [16] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:18:45,065 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:45.0650700Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 09:18:45,065 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:18:45,065 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:18:45,068 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:18:46,642 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:46.6424700Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 09:18:46,646 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:18:46,649 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:18:47,739 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:47.7393940Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:18:47,739 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:18:47,741 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:18:52,374 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:52.3745890Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 09:18:52,389 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:52.3898710Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:18:52,390 [11] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:18:52,392 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 09:18:52,419 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:18:54,813 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:48:54.8131960Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:18:54,813 [11] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:18:54,815 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:19:06,318 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:49:06.3186650Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 09:19:06,318 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:49:06.3186240Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 09:19:06,319 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:49:06.3193220Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 09:19:06,319 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:49:06.3199560Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 09:19:06,322 [18] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:19:06,322 [17] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:19:06,329 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:19:06,331 [11] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 09:19:06,340 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:19:06,341 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 09:19:06,469 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:19:12,290 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:49:12.2905030Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 09:19:12,299 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:49:12.2994200Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 09:19:12,300 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:49:12.2999520Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 09:19:12,300 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:19:12,300 [18] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:19:12,303 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:49:12.3038450Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 09:19:12,304 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 09:19:12,306 [11] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 09:19:12,308 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:19:12,308 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:19:12,360 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:24:48,471 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:54:48.4717180Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 09:24:48,477 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:24:48,489 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:24:49,792 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:54:49.7926300Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 09:24:49,793 [27] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:24:49,796 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:24:50,736 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:54:50.7367250Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 09:24:50,737 [23] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:24:50,741 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:54:50.7411200Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 09:24:50,741 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:54:50.7411470Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 09:24:50,743 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:24:50,747 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:24:50,747 [25] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-07-02 09:24:50,748 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:24:50,769 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:24:51,569 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:54:51.5690560Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 09:24:51,569 [23] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:24:51,578 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:24:54,440 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:54:54.4401990Z, Method: GET, Path: /api/v1/leave-requests/e6c0b54f-f883-453e-b8a9-68c19ada3b17, User: Chandler
2025-07-02 09:24:54,453 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:24:54,489 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 09:24:54,496 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:54:54.4964750Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e6c0b54f-f883-453e-b8a9-68c19ada3b17, User: Chandler
2025-07-02 09:24:54,496 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:54:54.4965970Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Chandler
2025-07-02 09:24:54,499 [9] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 09:24:54,501 [28] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:24:54,505 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:24:54,509 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 09:24:54,522 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 09:24:54,524 [9] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:25:04,283 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:55:04.2836820Z, Method: POST, Path: /api/v1/leave-attachments, User: Chandler
2025-07-02 09:25:04,324 [24] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Creating new leave attachment
2025-07-02 09:25:04,357 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Binary), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveAttachments" ("Id", "DeletedAt", "FileContent", "FileName", "IsDeleted", "LeaveRequestId", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-02 09:25:04,381 [24] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (22ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 09:26:29,765 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:56:29.7651230Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 09:26:29,775 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:56:29.7750240Z, Method: GET, Path: /api/v1/leave-requests/e6c0b54f-f883-453e-b8a9-68c19ada3b17, User: Chandler
2025-07-02 09:26:29,776 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:26:29,883 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 09:26:29,891 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 09:26:29,896 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:56:29.8964490Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e6c0b54f-f883-453e-b8a9-68c19ada3b17, User: Chandler
2025-07-02 09:26:29,896 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:56:29.8964890Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Chandler
2025-07-02 09:26:29,896 [23] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 09:26:29,900 [28] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:26:29,908 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 09:26:29,910 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 09:26:29,913 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:27:24,595 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:57:24.5953080Z, Method: GET, Path: /api/v1/leave-attachments/902be2bd-31b8-4e86-8524-b662c514e95e, User: Anonymous
2025-07-02 09:27:24,617 [9] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachment with ID: 902be2bd-31b8-4e86-8524-b662c514e95e
2025-07-02 09:27:24,749 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (106ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 09:27:26,642 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:57:26.6420630Z, Method: GET, Path: /favicon.ico, User: Anonymous
2025-07-02 09:27:33,197 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:57:33.1970050Z, Method: DELETE, Path: /api/v1/leave-attachments/902be2bd-31b8-4e86-8524-b662c514e95e, User: Chandler
2025-07-02 09:27:33,202 [23] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Deleting leave attachment with ID: 902be2bd-31b8-4e86-8524-b662c514e95e
2025-07-02 09:27:33,212 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 09:27:33,241 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Binary), @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveAttachments" SET "DeletedAt" = @p0, "FileContent" = @p1, "FileName" = @p2, "IsDeleted" = @p3, "LeaveRequestId" = @p4, "UploadedAt" = @p5
WHERE "Id" = @p6;
2025-07-02 09:27:33,249 [9] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 09:28:30,970 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:58:30.9701820Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 09:28:30,970 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:58:30.9705130Z, Method: GET, Path: /api/v1/leave-requests/e6c0b54f-f883-453e-b8a9-68c19ada3b17, User: Chandler
2025-07-02 09:28:30,973 [23] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:28:31,025 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 09:28:31,047 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 09:28:31,051 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:58:31.0513760Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e6c0b54f-f883-453e-b8a9-68c19ada3b17, User: Chandler
2025-07-02 09:28:31,051 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:58:31.0515970Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Chandler
2025-07-02 09:28:31,052 [28] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:28:31,052 [23] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 09:28:31,056 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 09:28:31,062 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 09:28:31,064 [28] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:28:31,072 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:28:45,734 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:58:45.7338110Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 09:28:45,737 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:58:45.7370620Z, Method: GET, Path: /api/v1/leave-requests/e6c0b54f-f883-453e-b8a9-68c19ada3b17, User: Chandler
2025-07-02 09:28:45,737 [23] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:28:45,744 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 09:28:45,758 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 09:28:45,773 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:58:45.7729980Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e6c0b54f-f883-453e-b8a9-68c19ada3b17, User: Chandler
2025-07-02 09:28:45,773 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:58:45.7730720Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Chandler
2025-07-02 09:28:45,773 [33] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:28:45,774 [9] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 09:28:45,776 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:28:45,777 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 09:28:45,781 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 09:28:45,783 [23] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:28:46,582 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:58:46.5828950Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 09:28:46,592 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 09:28:46,594 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:58:46.5944450Z, Method: GET, Path: /api/v1/leave-requests/e6c0b54f-f883-453e-b8a9-68c19ada3b17, User: Chandler
2025-07-02 09:28:46,594 [23] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:28:46,604 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 09:28:46,607 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:58:46.6071010Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e6c0b54f-f883-453e-b8a9-68c19ada3b17, User: Chandler
2025-07-02 09:28:46,607 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T03:58:46.6071200Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Chandler
2025-07-02 09:28:46,607 [33] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 09:28:46,607 [32] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:28:46,610 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 09:28:46,612 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 09:28:46,613 [9] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: e6c0b54f-f883-453e-b8a9-68c19ada3b17
2025-07-02 09:28:46,618 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:35:04,270 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:04.2700990Z, Method: GET, Path: /api/v1/leave-balance/user/5bfcb31a-61ef-44d9-bf86-a6bc60a381b3, User: Tony
2025-07-02 09:35:04,272 [9] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 5bfcb31a-61ef-44d9-bf86-a6bc60a381b3
2025-07-02 09:35:04,315 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:35:09,484 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:09.4849420Z, Method: POST, Path: /api/v1/leave-balance/initialize/user/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Tony
2025-07-02 09:35:09,494 [9] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Initializing leave balances for user ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718
2025-07-02 09:35:09,499 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:11,321 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:11.3217200Z, Method: POST, Path: /api/v1/leave-balance/initialize/user/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Tony
2025-07-02 09:35:11,322 [35] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Initializing leave balances for user ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718
2025-07-02 09:35:11,324 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:12,888 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:12.8881790Z, Method: POST, Path: /api/v1/leave-balance/initialize/user/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Tony
2025-07-02 09:35:12,888 [35] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Initializing leave balances for user ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718
2025-07-02 09:35:12,890 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:15,320 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:15.3204190Z, Method: POST, Path: /api/v1/leave-balance/initialize/user/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Tony
2025-07-02 09:35:15,320 [35] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Initializing leave balances for user ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718
2025-07-02 09:35:15,322 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:21,917 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:21.9172870Z, Method: POST, Path: /api/v1/leave-balance/initialize/user/5bfcb31a-61ef-44d9-bf86-a6bc60a381b3/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 09:35:21,928 [32] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Initializing leave balance for user ID: 5bfcb31a-61ef-44d9-bf86-a6bc60a381b3 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420 with standard leave count: 12
2025-07-02 09:35:21,933 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:23,521 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:23.5215280Z, Method: POST, Path: /api/v1/leave-balance/initialize/user/5bfcb31a-61ef-44d9-bf86-a6bc60a381b3/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 09:35:23,522 [34] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Initializing leave balance for user ID: 5bfcb31a-61ef-44d9-bf86-a6bc60a381b3 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420 with standard leave count: 12
2025-07-02 09:35:23,524 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:25,091 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:25.0911390Z, Method: POST, Path: /api/v1/leave-balance/initialize/user/5bfcb31a-61ef-44d9-bf86-a6bc60a381b3/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 09:35:25,091 [32] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Initializing leave balance for user ID: 5bfcb31a-61ef-44d9-bf86-a6bc60a381b3 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420 with standard leave count: 12
2025-07-02 09:35:25,094 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:29,143 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:29.1435210Z, Method: POST, Path: /api/v1/leave-balance/reset/user/5bfcb31a-61ef-44d9-bf86-a6bc60a381b3, User: Tony
2025-07-02 09:35:29,150 [35] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Resetting leave balances for user ID: 5bfcb31a-61ef-44d9-bf86-a6bc60a381b3
2025-07-02 09:35:29,155 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:29,183 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:29,189 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:29,191 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:29,192 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:29,194 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:29,195 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:29,196 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:29,198 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:29,206 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
2025-07-02 09:35:29,207 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:31,186 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:31.1867280Z, Method: POST, Path: /api/v1/leave-balance/reset/user/5bfcb31a-61ef-44d9-bf86-a6bc60a381b3, User: Tony
2025-07-02 09:35:31,187 [32] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Resetting leave balances for user ID: 5bfcb31a-61ef-44d9-bf86-a6bc60a381b3
2025-07-02 09:35:31,189 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:31,197 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:31,200 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:31,202 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:31,204 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:31,206 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:31,208 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:31,210 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:31,220 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:31,225 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:36,445 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:36.4459660Z, Method: POST, Path: /api/v1/leave-balance/deduct, User: Tony
2025-07-02 09:35:36,453 [35] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Deducting 1 days from leave balance for user ID: 5bfcb31a-61ef-44d9-bf86-a6bc60a381b3 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 09:35:36,457 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:36,461 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:36,463 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
2025-07-02 09:35:40,438 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:40.4387980Z, Method: POST, Path: /api/v1/leave-balance/reset/user/5bfcb31a-61ef-44d9-bf86-a6bc60a381b3, User: Tony
2025-07-02 09:35:40,439 [35] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Resetting leave balances for user ID: 5bfcb31a-61ef-44d9-bf86-a6bc60a381b3
2025-07-02 09:35:40,440 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:40,442 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:40,444 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:40,445 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:40,446 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:40,447 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:40,448 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:40,451 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:40,455 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:40,457 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
2025-07-02 09:35:40,457 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 09:35:41,956 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:41.9568410Z, Method: POST, Path: /api/v1/leave-balance/initialize/user/5bfcb31a-61ef-44d9-bf86-a6bc60a381b3/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 09:35:41,957 [35] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Initializing leave balance for user ID: 5bfcb31a-61ef-44d9-bf86-a6bc60a381b3 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420 with standard leave count: 12
2025-07-02 09:35:41,961 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:43,720 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:43.7209390Z, Method: POST, Path: /api/v1/leave-balance/initialize/user/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Tony
2025-07-02 09:35:43,722 [34] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Initializing leave balances for user ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718
2025-07-02 09:35:43,725 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 09:35:48,489 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:05:48.4891350Z, Method: GET, Path: /api/v1/leave-balance/user/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Tony
2025-07-02 09:35:48,489 [32] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718
2025-07-02 09:35:48,496 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:36:04,215 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:06:04.2153980Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 09:36:04,215 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:06:04.2150670Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 09:36:04,215 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:06:04.2150190Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 09:36:04,221 [34] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:36:04,221 [32] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:36:04,221 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:36:04,230 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:36:04,304 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:36:04,310 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:06:04.3103990Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 09:36:04,310 [27] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:36:04,311 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:36:04,318 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:36:45,294 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:06:45.2936180Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 09:36:45,332 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:36:45,505 [34] INFO  LeaveManagementSystem.Services.AuthenticationService - User tony@example.com logged in successfully
2025-07-02 09:36:45,505 [34] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User tony@example.com logged in successfully.
2025-07-02 09:36:45,531 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:06:45.5318260Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 09:36:45,531 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:06:45.5319440Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 09:36:45,531 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:06:45.5319530Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 09:36:45,532 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:36:45,532 [32] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:36:45,532 [25] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:36:45,536 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:36:45,536 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:36:45,539 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:06:45.5399510Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 09:36:45,540 [32] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:36:45,541 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:36:45,564 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:36:45,579 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:06:45.5798530Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 09:36:45,580 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:36:45,598 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:39:25,035 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:09:25.0353580Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 09:39:25,046 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:39:25,198 [30] INFO  LeaveManagementSystem.Services.AuthenticationService - User aryastark@example.com logged in successfully
2025-07-02 09:39:25,198 [30] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User aryastark@example.com logged in successfully.
2025-07-02 09:39:25,264 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:09:25.2643900Z, Method: GET, Path: /api/v1/leave-requests, User: Arya
2025-07-02 09:39:25,265 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:39:25,273 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:09:25.2730190Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 09:39:25,273 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:39:25,284 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:39:25,284 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:39:25,284 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:09:25.2847720Z, Method: GET, Path: /api/v1/Users, User: Arya
2025-07-02 09:39:25,284 [17] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:39:25,286 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:39:25,286 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:09:25.2869610Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 09:39:25,287 [17] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:39:25,289 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:39:25,296 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:09:25.2967540Z, Method: GET, Path: /api/v1/leave-requests, User: Arya
2025-07-02 09:39:25,297 [18] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:39:25,304 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:39:40,487 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:09:40.4878430Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 09:39:40,488 [18] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:39:40,489 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:40:04,293 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:10:04.2933160Z, Method: POST, Path: /api/v1/leave-requests, User: Arya
2025-07-02 09:40:04,323 [18] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 09:40:04,340 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:40:04,356 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 09:40:04,362 [9] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Only male employees can apply for Paternity Leave.
 ---> System.InvalidOperationException: Only male employees can apply for Paternity Leave.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateGenderBasedLeaveAsync(Guid userId, Guid leaveTypeId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 487
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 133
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 09:40:23,302 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:10:23.3029780Z, Method: GET, Path: /api/v1/leave-requests, User: Arya
2025-07-02 09:40:23,302 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:10:23.3029780Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 09:40:23,303 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:10:23.3031570Z, Method: GET, Path: /api/v1/Users, User: Arya
2025-07-02 09:40:23,303 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:40:23,303 [18] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:40:23,303 [14] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 09:40:23,314 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:40:23,319 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 09:40:23,319 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:40:23,319 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:10:23.3197960Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 09:40:23,320 [14] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:40:23,322 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:40:23,325 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:10:23.3256040Z, Method: GET, Path: /api/v1/leave-requests, User: Arya
2025-07-02 09:40:23,326 [11] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 09:40:23,329 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:40:47,732 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:10:47.7322980Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 09:40:47,732 [14] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 09:40:47,734 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 09:41:04,371 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:11:04.3715050Z, Method: POST, Path: /api/v1/leave-requests, User: Arya
2025-07-02 09:41:04,373 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 09:41:04,381 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:41:04,384 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 09:41:04,385 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 09:41:04,388 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:41:04,391 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:41:04,396 [11] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Monthly leave limit exceeded. Allowed: 1 days, Used: 2 days, Requested: 1 days.
 ---> System.InvalidOperationException: Monthly leave limit exceeded. Allowed: 1 days, Used: 2 days, Requested: 1 days.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateMonthlyLimitAsync(Guid userId, Guid leaveTypeId, DateTime startDate, Int32 requestedDays, LeaveType leaveType) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 244
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 147
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 09:41:13,686 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:11:13.6863120Z, Method: POST, Path: /api/v1/leave-requests, User: Arya
2025-07-02 09:41:13,686 [14] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 09:41:13,689 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 09:41:13,690 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 09:41:13,691 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 09:41:13,696 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 09:41:13,703 [14] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(Guid userId, Guid leaveTypeId, DateTime startDate, DateTime endDate) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 216
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 150
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 10:13:36,966 [72] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:43:36.9659150Z, Method: GET, Path: /api/v1/Users, User: Arya
2025-07-02 10:13:36,966 [74] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:43:36.9659150Z, Method: GET, Path: /api/v1/leave-requests, User: Arya
2025-07-02 10:13:36,966 [66] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:43:36.9659150Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 10:13:36,969 [74] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:13:36,969 [66] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:13:36,969 [72] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 10:13:37,038 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:13:37,038 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 10:13:37,042 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:43:37.0420850Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 10:13:37,042 [70] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:13:37,047 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:13:37,050 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:43:37.0500100Z, Method: GET, Path: /api/v1/leave-requests, User: Arya
2025-07-02 10:13:37,050 [70] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:13:37,053 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:13:37,059 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:14:21,160 [72] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:44:21.1602910Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 10:14:21,162 [72] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:14:21,165 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:14:21,834 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:44:21.8343680Z, Method: GET, Path: /api/v1/leave-requests, User: Arya
2025-07-02 10:14:21,834 [70] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:14:21,837 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:14:57,163 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:44:57.1636370Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 10:14:57,164 [70] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:14:57,166 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:15:02,625 [76] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:45:02.6254320Z, Method: GET, Path: /api/notifications/unread/a236adc4-995f-4b67-b3fd-180cedd5f663, User: Arya
2025-07-02 10:15:02,631 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 10:15:02,688 [66] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:45:02.6888800Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 10:15:02,689 [66] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:15:02,690 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:16:48,337 [80] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:46:48.3375530Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 10:16:48,340 [80] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 10:16:48,382 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 10:17:06,967 [80] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:06.9673920Z, Method: POST, Path: /api/v1/Users, User: Tony
2025-07-02 10:17:06,971 [80] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 10:17:07,161 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 10:17:07,168 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 10:17:07,170 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:17:07,176 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 10:17:07,178 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 10:17:07,179 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 10:17:07,180 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 10:17:07,181 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 10:17:07,182 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 10:17:07,185 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 10:17:07,186 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 10:17:07,187 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 10:17:07,188 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 10:17:07,197 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 10:17:07,198 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 10:17:07,216 [77] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 10:17:11,279 [78] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:11.2791550Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 10:17:11,279 [78] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 10:17:11,304 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 10:17:26,191 [81] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:26.1910180Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 10:17:26,210 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 10:17:26,370 [81] INFO  LeaveManagementSystem.Services.AuthenticationService - User vasu@example.com logged in successfully
2025-07-02 10:17:26,370 [81] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User vasu@example.com logged in successfully.
2025-07-02 10:17:26,448 [81] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:26.4480260Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:17:26,448 [81] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:17:26,449 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:26.4491870Z, Method: GET, Path: /api/v1/Users, User: Vasu
2025-07-02 10:17:26,449 [78] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:26.4492030Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 10:17:26,449 [77] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 10:17:26,449 [78] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:17:26,451 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 10:17:26,469 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:17:26,470 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:26.4705220Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 10:17:26,470 [77] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:17:26,472 [81] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:26.4720520Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:17:26,472 [81] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:17:26,475 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:17:26,485 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:17:26,485 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:17:28,268 [78] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:28.2682720Z, Method: GET, Path: /api/v1/auth/me, User: Vasu
2025-07-02 10:17:28,282 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 10:17:28,283 [77] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-02 10:17:30,019 [78] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:30.0196090Z, Method: GET, Path: /api/notifications/all/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 10:17:30,029 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 10:17:33,551 [79] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:33.5510790Z, Method: GET, Path: /api/v1/Users, User: Vasu
2025-07-02 10:17:33,551 [81] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:33.5511360Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:17:33,551 [81] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:17:33,551 [79] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 10:17:33,551 [78] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:33.5519190Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 10:17:33,552 [78] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:17:33,553 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:17:33,553 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 10:17:33,555 [80] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:33.5550810Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 10:17:33,555 [80] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:17:33,560 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:17:33,560 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:17:33,560 [80] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:33.5607530Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:17:33,560 [80] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:17:33,567 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:17:36,930 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:47:36.9302830Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 10:17:36,930 [77] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:17:36,931 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:18:19,961 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:48:19.9615070Z, Method: POST, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:18:19,975 [77] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 10:18:20,005 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (25ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:18:20,008 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 10:18:20,012 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 10:18:20,013 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:18:20,016 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:18:20,029 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:18:20,056 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 10:18:20,059 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 10:18:20,062 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 10:18:20,067 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:18:20,068 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 10:18:20,078 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:18:20,081 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:18:20,083 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:18:20,084 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:18:20,084 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:18:20,085 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:18:20,092 [81] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:48:20.0925530Z, Method: POST, Path: /api/v1/leave-attachments, User: Vasu
2025-07-02 10:18:20,097 [81] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Creating new leave attachment
2025-07-02 10:18:20,099 [81] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Binary), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveAttachments" ("Id", "DeletedAt", "FileContent", "FileName", "IsDeleted", "LeaveRequestId", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-02 10:18:20,102 [77] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 10:18:23,406 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:48:23.4063730Z, Method: GET, Path: /api/notifications/unread/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 10:18:23,419 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 10:18:23,460 [79] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:48:23.4605530Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:18:23,460 [79] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:18:23,463 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:18:33,836 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:48:33.8363050Z, Method: GET, Path: /api/v1/leave-requests/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Vasu
2025-07-02 10:18:33,841 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 10:18:33,856 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 10:18:33,861 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:48:33.8618050Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Vasu
2025-07-02 10:18:33,861 [79] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:48:33.8618890Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Vasu
2025-07-02 10:18:33,862 [79] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 10:18:33,862 [84] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 10:18:33,868 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:18:33,868 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 10:18:33,871 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 10:18:46,796 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:48:46.7962370Z, Method: DELETE, Path: /api/v1/leave-attachments/ef125040-355f-4bbe-a781-b828d71ab538, User: Vasu
2025-07-02 10:18:46,797 [84] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Deleting leave attachment with ID: ef125040-355f-4bbe-a781-b828d71ab538
2025-07-02 10:18:46,802 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 10:18:46,816 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Binary), @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveAttachments" SET "DeletedAt" = @p0, "FileContent" = @p1, "FileName" = @p2, "IsDeleted" = @p3, "LeaveRequestId" = @p4, "UploadedAt" = @p5
WHERE "Id" = @p6;
2025-07-02 10:18:46,821 [77] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 10:18:59,315 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:48:59.3158220Z, Method: POST, Path: /api/v1/leave-attachments, User: Vasu
2025-07-02 10:18:59,319 [84] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Creating new leave attachment
2025-07-02 10:18:59,326 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Binary), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveAttachments" ("Id", "DeletedAt", "FileContent", "FileName", "IsDeleted", "LeaveRequestId", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-02 10:18:59,346 [80] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 10:19:07,378 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:49:07.3788910Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:19:07,379 [84] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:19:07,409 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:19:08,759 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:49:08.7593090Z, Method: GET, Path: /api/v1/leave-requests/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Vasu
2025-07-02 10:19:08,759 [77] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 10:19:08,763 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 10:19:08,766 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:49:08.7661720Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Vasu
2025-07-02 10:19:08,766 [79] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:49:08.7662410Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Vasu
2025-07-02 10:19:08,766 [77] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 10:19:08,766 [79] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 10:19:08,771 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 10:19:08,773 [79] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 10:19:08,785 [84] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:19:16,839 [79] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T04:49:16.8397700Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 10:19:16,840 [79] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:19:16,843 [80] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:20:14,769 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 10:43:16,261 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 10:43:16,516 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 10:43:16,517 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 10:43:16,518 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 10:43:16,518 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 10:43:16,624 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:44:41,870 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:14:41.8699080Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 10:44:41,927 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 10:46:56,077 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:16:56.0768180Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 10:46:56,145 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:46:56,201 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:46:57,749 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:16:57.7491640Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 10:46:57,758 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 10:47:14,706 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:14.7061610Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 10:47:14,717 [17] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:47:14,728 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:47:17,355 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:17.3558760Z, Method: GET, Path: /api/v1/leave-requests/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Tony
2025-07-02 10:47:17,362 [13] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 10:47:17,414 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 10:47:17,422 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:17.4226220Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Tony
2025-07-02 10:47:17,423 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:17.4235010Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 10:47:17,425 [13] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 10:47:17,426 [15] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 10:47:17,429 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 10:47:17,436 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 10:47:17,445 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:47:19,355 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:19.3558210Z, Method: GET, Path: /api/v1/leave-attachments/09d0b3a4-bcf6-4412-a587-7b1f71138624, User: Anonymous
2025-07-02 10:47:19,363 [15] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachment with ID: 09d0b3a4-bcf6-4412-a587-7b1f71138624
2025-07-02 10:47:19,371 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 10:47:19,830 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:19.8306580Z, Method: GET, Path: /favicon.ico, User: Anonymous
2025-07-02 10:47:24,084 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:24.0841230Z, Method: PUT, Path: /api/v1/leave-requests/5ae03d7d-beb0-4f47-9bed-18335115500a/status, User: Tony
2025-07-02 10:47:24,113 [15] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 5ae03d7d-beb0-4f47-9bed-18335115500a by approver ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 10:47:24,119 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 10:47:24,140 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 10:47:24,151 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 10:47:24,213 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p5='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
UPDATE "LeaveRequests" SET "ReviewedById" = @p2, "Status" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
2025-07-02 10:47:24,227 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 10:47:24,254 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 10:47:24,273 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:47:24,282 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:47:24,287 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 10:47:24,292 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:47:24,294 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:47:24,296 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:47:24,298 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:47:24,299 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:47:24,300 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:47:24,301 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:47:24,302 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 10:47:24,312 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:24.3125090Z, Method: GET, Path: /api/v1/leave-requests/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Tony
2025-07-02 10:47:24,312 [15] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 10:47:24,314 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 10:47:45,487 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:45.4879400Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 10:47:45,501 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 10:47:45,733 [18] INFO  LeaveManagementSystem.Services.AuthenticationService - User vasu@example.com logged in successfully
2025-07-02 10:47:45,733 [18] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User vasu@example.com logged in successfully.
2025-07-02 10:47:45,801 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:45.8010580Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:47:45,801 [18] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:47:45,804 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:45.8044810Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 10:47:45,805 [17] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:47:45,805 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:47:45,805 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:45.8058410Z, Method: GET, Path: /api/v1/Users, User: Vasu
2025-07-02 10:47:45,806 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:47:45,808 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:45.8085930Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 10:47:45,809 [17] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:47:45,811 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:47:45,812 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:45.8129710Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:47:45,813 [18] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 10:47:45,813 [22] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:47:45,814 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 10:47:45,822 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:47:53,440 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:17:53.4404830Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 10:47:53,441 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:47:53,442 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:48:04,857 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:18:04.8577040Z, Method: POST, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:48:04,862 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 10:48:04,865 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:48:04,869 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 10:48:04,870 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 10:48:04,871 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:48:04,873 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:48:04,892 [21] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Monthly leave limit exceeded. Allowed: 1 days, Used: 1 days, Requested: 1 days.
 ---> System.InvalidOperationException: Monthly leave limit exceeded. Allowed: 1 days, Used: 1 days, Requested: 1 days.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateMonthlyLimitAsync(Guid userId, Guid leaveTypeId, DateTime startDate, Int32 requestedDays, LeaveType leaveType) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 245
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 147
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 10:48:24,102 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:18:24.1024770Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:48:24,103 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:18:24.1031160Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 10:48:24,103 [23] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:48:24,103 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:18:24.1033580Z, Method: GET, Path: /api/v1/Users, User: Vasu
2025-07-02 10:48:24,103 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:48:24,103 [17] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 10:48:24,104 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:48:24,107 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:18:24.1078600Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 10:48:24,108 [17] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:48:24,108 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:18:24.1087760Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:48:24,108 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 10:48:24,109 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:48:24,124 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 10:48:24,129 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:48:24,131 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:48:30,595 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:18:30.5956920Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 10:48:30,596 [17] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 10:48:30,598 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 10:48:42,676 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:18:42.6766270Z, Method: POST, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:48:42,677 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 10:48:42,685 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:48:42,687 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 10:48:42,688 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 10:48:42,692 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 10:48:42,696 [17] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(Guid userId, Guid leaveTypeId, DateTime startDate, DateTime endDate) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 217
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 150
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 10:49:00,930 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:19:00.9300020Z, Method: POST, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:49:00,931 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 10:49:00,933 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:49:00,934 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 10:49:00,935 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 10:49:00,937 [20] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: You cannot apply for more than 15 consecutive leave days.
 ---> System.InvalidOperationException: You cannot apply for more than 15 consecutive leave days.
   at LeaveManagementSystem.Services.LeaveRequestService.GetAndValidateRequestedDays(DateTime startDate, DateTime endDate) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 189
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 140
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 10:49:18,628 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:19:18.6288490Z, Method: POST, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 10:49:18,630 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 10:49:18,632 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:49:18,634 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 10:49:18,635 [20] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Only male employees can apply for Paternity Leave.
 ---> System.InvalidOperationException: Only male employees can apply for Paternity Leave.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateGenderBasedLeaveAsync(Guid userId, Guid leaveTypeId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 488
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 133
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 10:58:44,160 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:28:44.1601290Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 10:58:44,169 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:28:44.1690550Z, Method: GET, Path: /api/v1/leave-requests/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Tony
2025-07-02 10:58:44,169 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 10:58:44,294 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 10:58:44,297 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 10:58:44,302 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:28:44.3022820Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Tony
2025-07-02 10:58:44,302 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:28:44.3028320Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 10:58:44,303 [30] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 10:58:44,303 [31] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 10:58:44,305 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 10:58:44,306 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 10:58:44,309 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 10:58:48,724 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:28:48.7248730Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 10:58:48,727 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 11:07:50,274 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:37:50.2742280Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 11:07:50,566 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (210ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 11:11:01,097 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:01.0974010Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 11:11:01,104 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:01.1045800Z, Method: GET, Path: /api/v1/leave-requests/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Tony
2025-07-02 11:11:01,105 [44] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 11:11:01,110 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 11:11:01,157 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 11:11:01,162 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:01.1628280Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Tony
2025-07-02 11:11:01,162 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:01.1628790Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 11:11:01,163 [45] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 11:11:01,164 [42] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 11:11:01,168 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 11:11:01,168 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 11:11:01,172 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 11:11:03,105 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:03.1053820Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 11:11:03,105 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:03.1054780Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 11:11:03,105 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:03.1053790Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:11:03,105 [42] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:11:03,105 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 11:11:03,105 [45] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 11:11:03,108 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 11:11:03,111 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:11:03,112 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:03.1129540Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:11:03,113 [48] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:11:03,114 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:11:03,125 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:11:03,145 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:03.1459100Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 11:11:03,146 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 11:11:03,149 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:11:03,720 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:03.7204850Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:11:03,720 [44] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:11:03,722 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:11:16,181 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:16.1815200Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 11:11:16,182 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:16.1822230Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 11:11:16,182 [42] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 11:11:16,182 [48] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 11:11:16,184 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:16.1843680Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:11:16,184 [48] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:11:16,185 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 11:11:16,187 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:11:16,188 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:11:16,190 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:16.1903370Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:11:16,190 [42] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:11:16,192 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:11:16,204 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:16.2043410Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 11:11:16,204 [42] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 11:11:16,225 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:11:28,398 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:28.3982320Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 11:11:28,398 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 11:11:28,402 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:11:50,728 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:50.7284470Z, Method: GET, Path: /api/v1/leave-requests/69d4a975-26b0-473f-a9fd-a1645b365f00, User: Tony
2025-07-02 11:11:50,729 [47] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 69d4a975-26b0-473f-a9fd-a1645b365f00
2025-07-02 11:11:50,741 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 11:11:50,747 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:50.7470240Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/69d4a975-26b0-473f-a9fd-a1645b365f00, User: Tony
2025-07-02 11:11:50,747 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:50.7470640Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 11:11:50,747 [47] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 11:11:50,747 [45] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 69d4a975-26b0-473f-a9fd-a1645b365f00
2025-07-02 11:11:50,751 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 11:11:50,752 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 11:11:50,757 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 11:11:50,758 [44] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 69d4a975-26b0-473f-a9fd-a1645b365f00
2025-07-02 11:11:57,258 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:57.2584590Z, Method: PUT, Path: /api/v1/leave-requests/69d4a975-26b0-473f-a9fd-a1645b365f00/status, User: Tony
2025-07-02 11:11:57,261 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 69d4a975-26b0-473f-a9fd-a1645b365f00 by approver ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 11:11:57,265 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 11:11:57,269 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 11:11:57,274 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 11:11:57,282 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p5='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
UPDATE "LeaveRequests" SET "ReviewedById" = @p2, "Status" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
2025-07-02 11:11:57,287 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 11:11:57,295 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 11:11:57,295 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 11:11:57,298 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 11:11:57,299 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 11:11:57,300 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 11:11:57,302 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 11:11:57,305 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 11:11:57,307 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 11:11:57,308 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 11:11:57,310 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 11:11:57,311 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 11:11:57,312 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 11:11:57,319 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:57.3191640Z, Method: GET, Path: /api/v1/leave-requests/69d4a975-26b0-473f-a9fd-a1645b365f00, User: Tony
2025-07-02 11:11:57,319 [51] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 69d4a975-26b0-473f-a9fd-a1645b365f00
2025-07-02 11:11:57,321 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 11:11:59,785 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:41:59.7857970Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 11:11:59,789 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 11:12:05,341 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:42:05.3414020Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 11:12:05,343 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:42:05.3437780Z, Method: GET, Path: /api/v1/leave-requests/69d4a975-26b0-473f-a9fd-a1645b365f00, User: Tony
2025-07-02 11:12:05,344 [44] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 69d4a975-26b0-473f-a9fd-a1645b365f00
2025-07-02 11:12:05,352 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 11:12:05,362 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 11:12:05,366 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:42:05.3661930Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/69d4a975-26b0-473f-a9fd-a1645b365f00, User: Tony
2025-07-02 11:12:05,366 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:42:05.3663130Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 11:12:05,366 [39] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 69d4a975-26b0-473f-a9fd-a1645b365f00
2025-07-02 11:12:05,366 [45] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 11:12:05,369 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 11:12:05,370 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 11:12:05,373 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 11:12:05,375 [44] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 69d4a975-26b0-473f-a9fd-a1645b365f00
2025-07-02 11:12:06,804 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:42:06.8048090Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 11:12:06,806 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 11:12:13,501 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:42:13.5017370Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 11:12:13,502 [44] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 11:12:13,505 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:12:24,813 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:42:24.8138990Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 11:12:24,814 [51] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 11:12:24,818 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:14:31,094 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:44:31.0943960Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 11:14:31,094 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:44:31.0949090Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:14:31,095 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:44:31.0953610Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 11:14:31,096 [49] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:14:31,096 [42] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 11:14:31,114 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:14:31,114 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 11:14:31,123 [48] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 11:14:31,130 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 11:14:36,035 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:44:36.0351870Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:14:36,035 [48] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:14:36,038 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:22:09,897 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:52:09.8968730Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 11:22:09,904 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T05:52:09.9045350Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:22:09,907 [32] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:22:09,988 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 11:22:09,988 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:38:03,831 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:08:03.8308280Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 11:38:03,837 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:08:03.8378320Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:38:03,838 [19] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:38:03,903 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 11:38:03,903 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:48:21,812 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 11:48:28,519 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 11:48:28,773 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 11:48:28,773 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 11:48:28,774 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 11:48:28,774 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 11:48:28,847 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:48:38,004 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 11:48:42,416 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 11:48:42,666 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 11:48:42,667 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 11:48:42,667 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 11:48:42,667 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 11:48:42,723 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:48:47,277 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:18:47.2772750Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 11:48:47,321 [11] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 11:48:47,330 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 11:49:13,450 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:13.4507180Z, Method: POST, Path: /api/v1/Users, User: Tony
2025-07-02 11:49:13,473 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 11:49:13,755 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 11:49:13,771 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 11:49:13,779 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:49:13,791 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:49:13,792 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:49:13,794 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:49:13,795 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:49:13,797 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:49:13,798 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:49:13,800 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:49:13,801 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:49:13,802 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:49:13,804 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:49:13,805 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:49:13,806 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:49:13,831 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 11:49:38,305 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:38.3056710Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:49:38,305 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:38.3056740Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 11:49:38,306 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:38.3068450Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 11:49:38,310 [15] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 11:49:38,313 [16] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:49:38,313 [11] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 11:49:38,314 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 11:49:38,318 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:49:38,331 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:49:38,337 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:38.3374650Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:49:38,338 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:49:38,344 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:49:38,349 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:38.3496230Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 11:49:38,350 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 11:49:38,352 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:49:40,450 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:40.4501260Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 11:49:40,459 [11] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 11:49:40,461 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 11:49:43,313 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:43.3138860Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 11:49:43,314 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:43.3147190Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:49:43,315 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:43.3151040Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 11:49:43,315 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:49:43,315 [15] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 11:49:43,317 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 11:49:43,318 [19] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 11:49:43,327 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:49:43,341 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:49:43,343 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:43.3431900Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 11:49:43,343 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 11:49:43,344 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:49:43,350 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:43.3509800Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 11:49:43,351 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 11:49:43,356 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 11:49:45,289 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:19:45.2893510Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 11:49:45,289 [17] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 11:49:45,291 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 11:50:03,421 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:20:03.4218700Z, Method: POST, Path: /api/v1/Users, User: Tony
2025-07-02 11:50:03,423 [17] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 11:50:03,609 [17] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 11:50:03,623 [17] ERROR Microsoft.EntityFrameworkCore.Update - An exception occurred in the database while saving changes for context type 'LeaveManagementSystem.Contexts.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Email"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Email"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Email
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Email"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Email"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Email
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-02 11:50:03,628 [17] ERROR LeaveManagementSystem.Controllers.UsersController - Error occurred while creating a user.
LeaveManagementSystem.Exceptions.DuplicateKeyException: A user with the same unique field (like email or username) already exists.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Email"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Email"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Email
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeaveManagementSystem.Repositories.Repository`2.Add(T item) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Repositories/Repository.cs:line 19
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 119
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 151
   at LeaveManagementSystem.Controllers.UsersController.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/UserController.cs:line 180
2025-07-02 11:50:17,939 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:20:17.9390050Z, Method: POST, Path: /api/v1/Users, User: Tony
2025-07-02 11:50:17,940 [15] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 11:50:18,121 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 11:50:18,127 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 11:50:18,128 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:50:18,131 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:50:18,132 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:50:18,134 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:50:18,135 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:50:18,136 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:50:18,137 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:50:18,138 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:50:18,139 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:50:18,140 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:50:18,141 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:50:18,142 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:50:18,143 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:50:18,146 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 11:54:14,702 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:24:14.7019820Z, Method: POST, Path: /api/v1/Users, User: Tony
2025-07-02 11:54:14,708 [3] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 11:54:14,908 [3] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 11:54:14,916 [3] ERROR Microsoft.EntityFrameworkCore.Update - An exception occurred in the database while saving changes for context type 'LeaveManagementSystem.Contexts.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Username"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Username"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Username
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Username"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Username"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Username
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-02 11:54:14,920 [3] ERROR LeaveManagementSystem.Controllers.UsersController - Error occurred while creating a user.
LeaveManagementSystem.Exceptions.DuplicateKeyException: A user with the same unique field (like email or username) already exists.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Username"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Username"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Username
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeaveManagementSystem.Repositories.Repository`2.Add(T item) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Repositories/Repository.cs:line 19
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 119
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 151
   at LeaveManagementSystem.Controllers.UsersController.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/UserController.cs:line 180
2025-07-02 11:54:18,249 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:24:18.2495980Z, Method: POST, Path: /api/v1/Users, User: Tony
2025-07-02 11:54:18,251 [21] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 11:54:18,433 [21] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 11:54:18,435 [21] ERROR Microsoft.EntityFrameworkCore.Update - An exception occurred in the database while saving changes for context type 'LeaveManagementSystem.Contexts.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Username"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Username"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Username
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Username"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Username"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Username
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-02 11:54:18,436 [21] ERROR LeaveManagementSystem.Controllers.UsersController - Error occurred while creating a user.
LeaveManagementSystem.Exceptions.DuplicateKeyException: A user with the same unique field (like email or username) already exists.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_Users_Username"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_Users_Username"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ConstraintName: IX_Users_Username
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LeaveManagementSystem.Repositories.Repository`2.Add(T item) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Repositories/Repository.cs:line 19
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 119
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.UserService.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/UserService.cs:line 151
   at LeaveManagementSystem.Controllers.UsersController.CreateUser(CreateUserDto createUserDto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/UserController.cs:line 180
2025-07-02 11:54:23,761 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:24:23.7616830Z, Method: POST, Path: /api/v1/Users, User: Tony
2025-07-02 11:54:23,769 [20] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 11:54:23,941 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 11:54:23,951 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 11:54:23,953 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 11:54:23,957 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:54:23,958 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:54:23,959 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:54:23,959 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:54:23,960 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:54:23,962 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:54:23,963 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:54:23,964 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:54:23,965 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:54:23,966 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:54:23,967 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:54:23,968 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 11:54:23,974 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:00:13,021 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:13.0218720Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:00:13,021 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:13.0218700Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:00:13,022 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:13.0221950Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:00:13,024 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:00:13,024 [26] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:00:13,024 [27] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:00:13,063 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:00:13,063 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:00:13,065 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:13.0659860Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:00:13,066 [23] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:00:13,070 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:00:13,072 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:00:13,073 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:13.0730440Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:00:13,073 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:00:13,083 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:00:13,725 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:13.7259310Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:00:13,726 [26] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:00:13,727 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:00:14,904 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:14.9048610Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:00:14,905 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:14.9055210Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:00:14,906 [26] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:00:14,906 [23] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:00:14,906 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:14.9064000Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:00:14,906 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:00:14,907 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:00:14,907 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:00:14,910 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:00:14,911 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:14.9115120Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:00:14,911 [23] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:00:14,913 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:00:14,926 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:14.9263730Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:00:14,926 [26] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:00:14,955 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:00:44,951 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:44.9516050Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 12:00:44,975 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:00:44,980 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Failed login attempt for vasu@gmail.com
2025-07-02 12:00:44,982 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Unauthorized login attempt for vasu@gmail.com.
System.UnauthorizedAccessException: Invalid credentials
   at LeaveManagementSystem.Services.AuthenticationService.LoginAsync(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 41
   at LeaveManagementSystem.Controllers.AuthenticationController.Login(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 36
2025-07-02 12:00:51,533 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:51.5331540Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 12:00:51,537 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:00:51,537 [25] WARN  LeaveManagementSystem.Services.AuthenticationService - Failed login attempt for vasu@gmail.com
2025-07-02 12:00:51,537 [25] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Unauthorized login attempt for vasu@gmail.com.
System.UnauthorizedAccessException: Invalid credentials
   at LeaveManagementSystem.Services.AuthenticationService.LoginAsync(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 41
   at LeaveManagementSystem.Controllers.AuthenticationController.Login(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 36
2025-07-02 12:00:53,212 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:30:53.2123270Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 12:00:53,215 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:00:53,215 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Failed login attempt for vasu@gmail.com
2025-07-02 12:00:53,215 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Unauthorized login attempt for vasu@gmail.com.
System.UnauthorizedAccessException: Invalid credentials
   at LeaveManagementSystem.Services.AuthenticationService.LoginAsync(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 41
   at LeaveManagementSystem.Controllers.AuthenticationController.Login(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 36
2025-07-02 12:01:06,417 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:06.4174390Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:01:06,418 [29] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:01:06,419 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:01:07,060 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:07.0601020Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:01:07,061 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:01:07,068 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:01:10,255 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:10.2559050Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:01:10,256 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:01:10,258 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:10.2582890Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:01:10,258 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:10.2586450Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:01:10,258 [29] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:01:10,259 [31] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:01:10,261 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:01:10,261 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:01:10,263 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:01:10,264 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:10.2644700Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:01:10,264 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:01:10,266 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:01:10,277 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:10.2777090Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:01:10,278 [31] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:01:10,281 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:01:12,670 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:12.6702680Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:01:12,670 [31] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:01:12,677 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:01:13,573 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:13.5736700Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:01:13,574 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:13.5742510Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:01:13,574 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:13.5744760Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:01:13,574 [27] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:01:13,575 [33] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:01:13,576 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:01:13,576 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:01:13,586 [29] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 12:01:13,627 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:01:18,152 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:18.1525730Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:01:18,153 [25] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:01:18,154 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:01:19,341 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:19.3411330Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:01:19,341 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:01:19,348 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:01:19,921 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:19.9212950Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:01:19,921 [31] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:01:19,923 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:01:50,225 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:50.2258690Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 12:01:50,238 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:01:50,239 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Failed login attempt for aryastark@gmail.com
2025-07-02 12:01:50,240 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Unauthorized login attempt for aryastark@gmail.com.
System.UnauthorizedAccessException: Invalid credentials
   at LeaveManagementSystem.Services.AuthenticationService.LoginAsync(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 41
   at LeaveManagementSystem.Controllers.AuthenticationController.Login(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 36
2025-07-02 12:01:56,727 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:56.7273450Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 12:01:56,732 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:01:56,732 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Failed login attempt for aryastark@gmail.com
2025-07-02 12:01:56,733 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Unauthorized login attempt for aryastark@gmail.com.
System.UnauthorizedAccessException: Invalid credentials
   at LeaveManagementSystem.Services.AuthenticationService.LoginAsync(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 41
   at LeaveManagementSystem.Controllers.AuthenticationController.Login(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 36
2025-07-02 12:01:57,660 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:31:57.6606070Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 12:01:57,662 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:01:57,663 [25] WARN  LeaveManagementSystem.Services.AuthenticationService - Failed login attempt for aryastark@gmail.com
2025-07-02 12:01:57,663 [25] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Unauthorized login attempt for aryastark@gmail.com.
System.UnauthorizedAccessException: Invalid credentials
   at LeaveManagementSystem.Services.AuthenticationService.LoginAsync(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 41
   at LeaveManagementSystem.Controllers.AuthenticationController.Login(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 36
2025-07-02 12:02:02,406 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:02.4067540Z, Method: GET, Path: /api/v1/auth/me, User: Tony
2025-07-02 12:02:02,421 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:02:02,422 [25] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-02 12:02:19,068 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:19.0685800Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 12:02:19,071 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:02:19,261 [25] INFO  LeaveManagementSystem.Services.AuthenticationService - User tony@example.com logged in successfully
2025-07-02 12:02:19,261 [25] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User tony@example.com logged in successfully.
2025-07-02 12:02:19,275 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:19.2755950Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:02:19,276 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:19.2769490Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:02:19,276 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:19.2769510Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:02:19,276 [35] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:02:19,277 [31] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:02:19,278 [24] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:02:19,279 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:02:19,280 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:02:19,283 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:19.2832280Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:02:19,283 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:02:19,284 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:02:19,285 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:02:19,292 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:19.2926840Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:02:19,293 [31] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:02:19,298 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:02:29,388 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:29.3888980Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 12:02:29,395 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:02:29,564 [29] INFO  LeaveManagementSystem.Services.AuthenticationService - User aryastark@example.com logged in successfully
2025-07-02 12:02:29,565 [29] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User aryastark@example.com logged in successfully.
2025-07-02 12:02:29,642 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:29.6427940Z, Method: GET, Path: /api/v1/leave-requests, User: Arya
2025-07-02 12:02:29,643 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:02:29,643 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:29.6439790Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 12:02:29,643 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:29.6436300Z, Method: GET, Path: /api/v1/Users, User: Arya
2025-07-02 12:02:29,645 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:02:29,645 [36] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:02:29,650 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:02:29,651 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:02:29,657 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:02:29,658 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:29.6583800Z, Method: GET, Path: /api/v1/leavetypes, User: Arya
2025-07-02 12:02:29,658 [36] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:02:29,659 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:02:29,663 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:29.6635250Z, Method: GET, Path: /api/v1/leave-requests, User: Arya
2025-07-02 12:02:29,664 [35] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:02:29,666 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:02:45,651 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:32:45.6510330Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:02:45,652 [25] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:02:45,659 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:03:00,940 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:33:00.9399680Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 12:03:00,958 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:03:01,119 [34] INFO  LeaveManagementSystem.Services.AuthenticationService - User vasu@example.com logged in successfully
2025-07-02 12:03:01,119 [34] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User vasu@example.com logged in successfully.
2025-07-02 12:03:01,183 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:33:01.1838110Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 12:03:01,184 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:03:01,185 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:33:01.1850730Z, Method: GET, Path: /api/v1/Users, User: Vasu
2025-07-02 12:03:01,185 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:33:01.1850920Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:03:01,185 [35] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:03:01,185 [25] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:03:01,189 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:03:01,190 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:03:01,195 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:03:01,195 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:33:01.1953890Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:03:01,195 [25] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:03:01,197 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:03:01,200 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:33:01.2001140Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 12:03:01,200 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:03:01,203 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:03:48,801 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:33:48.8011760Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:03:48,802 [36] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:03:48,805 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:03:59,852 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:33:59.8525760Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 12:03:59,861 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:04:00,034 [39] INFO  LeaveManagementSystem.Services.AuthenticationService - User vasu@example.com logged in successfully
2025-07-02 12:04:00,034 [39] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User vasu@example.com logged in successfully.
2025-07-02 12:04:00,090 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:34:00.0906970Z, Method: GET, Path: /api/v1/Users, User: Vasu
2025-07-02 12:04:00,090 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:34:00.0908950Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 12:04:00,091 [36] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:04:00,091 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:34:00.0915820Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:04:00,091 [39] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:04:00,092 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:04:00,098 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:04:00,099 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:04:00,100 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:34:00.1003090Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:04:00,100 [34] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:04:00,100 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:04:00,101 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:04:00,103 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:34:00.1036600Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 12:04:00,103 [37] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:04:00,110 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:04:04,617 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:34:04.6170380Z, Method: GET, Path: /api/notifications/all/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:04:04,639 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:04:07,264 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:34:07.2648710Z, Method: GET, Path: /api/v1/auth/me, User: Vasu
2025-07-02 12:04:07,266 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:04:07,266 [41] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-02 12:04:56,257 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:34:56.2578090Z, Method: PUT, Path: /api/v1/Users/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:04:56,280 [41] INFO  LeaveManagementSystem.Controllers.UsersController - Updating user with ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:04:56,300 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:04:56,310 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:04:56,327 [35] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:05:08,133 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:35:08.1339160Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:05:08,134 [41] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:05:08,135 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:05:27,482 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:35:27.4822100Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:05:27,482 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:05:27,484 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:35:27.4844710Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:05:27,484 [41] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:05:27,502 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:05:27,506 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:05:39,414 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:35:39.4148150Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 12:05:39,415 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:35:39.4151870Z, Method: GET, Path: /api/v1/Users, User: Vasu
2025-07-02 12:05:39,415 [41] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:05:39,415 [35] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:05:39,416 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:35:39.4161310Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:05:39,416 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:05:39,417 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:05:39,418 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:05:39,418 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:35:39.4185040Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:05:39,418 [38] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:05:39,419 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:05:39,421 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:35:39.4218480Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 12:05:39,422 [41] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:05:39,432 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:05:39,440 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:05:48,802 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:35:48.8022620Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:05:48,802 [38] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:05:48,804 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:05:51,965 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:35:51.9652170Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:05:51,965 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:35:51.9652110Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:05:51,966 [24] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:05:51,966 [38] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:05:51,967 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:05:51,969 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:06:09,815 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:36:09.8156340Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:06:09,816 [24] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:06:09,818 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:06:11,781 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:36:11.7810140Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:06:11,781 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:36:11.7810360Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:06:11,781 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:06:11,781 [37] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:06:11,782 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:06:11,783 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:06:12,656 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:36:12.6568830Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 12:06:12,657 [37] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:06:12,663 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:06:22,382 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:36:22.3822380Z, Method: GET, Path: /api/v1/leave-requests/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Vasu
2025-07-02 12:06:22,387 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 12:06:22,406 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:06:22,411 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:36:22.4116530Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Vasu
2025-07-02 12:06:22,411 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:36:22.4117190Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/5ae03d7d-beb0-4f47-9bed-18335115500a, User: Vasu
2025-07-02 12:06:22,414 [35] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 12:06:22,415 [37] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 5ae03d7d-beb0-4f47-9bed-18335115500a
2025-07-02 12:06:22,417 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:06:22,418 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:06:22,425 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 12:06:29,841 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:36:29.8415680Z, Method: GET, Path: /api/v1/leave-attachments/09d0b3a4-bcf6-4412-a587-7b1f71138624, User: Anonymous
2025-07-02 12:06:29,845 [38] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachment with ID: 09d0b3a4-bcf6-4412-a587-7b1f71138624
2025-07-02 12:06:29,853 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:06:30,000 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:36:30.0003900Z, Method: GET, Path: /favicon.ico, User: Anonymous
2025-07-02 12:06:40,815 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:36:40.8150530Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:06:40,815 [40] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:06:40,816 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:07:04,475 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:04.4754510Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:07:04,501 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:07:20,603 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:20.6036910Z, Method: POST, Path: /api/v1/auth/login, User: Tony
2025-07-02 12:07:20,625 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:07:20,787 [37] WARN  LeaveManagementSystem.Services.AuthenticationService - Failed login attempt for chandler@example.com
2025-07-02 12:07:20,794 [37] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Unauthorized login attempt for chandler@example.com.
System.UnauthorizedAccessException: Invalid credentials
   at LeaveManagementSystem.Services.AuthenticationService.LoginAsync(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 41
   at LeaveManagementSystem.Controllers.AuthenticationController.Login(UserLoginRequest request) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 36
2025-07-02 12:07:24,534 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:24.5343770Z, Method: POST, Path: /api/v1/auth/login, User: Tony
2025-07-02 12:07:24,537 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:07:24,683 [35] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-07-02 12:07:24,683 [35] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-07-02 12:07:24,713 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:24.7131410Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 12:07:24,713 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:24.7131800Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-02 12:07:24,713 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:24.7132690Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-02 12:07:24,713 [40] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:07:24,713 [37] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:07:24,714 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:07:24,727 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:07:24,731 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:07:24,760 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:24.7601450Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 12:07:24,760 [40] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:07:24,782 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:07:24,782 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:07:28,899 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:28.8993670Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 12:07:28,900 [33] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:07:28,906 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:07:32,667 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:32.6676210Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-02 12:07:32,668 [37] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:07:32,674 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:07:39,940 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:39.9403440Z, Method: GET, Path: /api/v1/leave-requests/efb9304f-937e-4e42-88ee-803f258017b7, User: Chandler
2025-07-02 12:07:39,941 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: efb9304f-937e-4e42-88ee-803f258017b7
2025-07-02 12:07:39,963 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:07:39,975 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:39.9758200Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/efb9304f-937e-4e42-88ee-803f258017b7, User: Chandler
2025-07-02 12:07:39,976 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:39.9762660Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Chandler
2025-07-02 12:07:39,976 [29] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 12:07:39,979 [38] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: efb9304f-937e-4e42-88ee-803f258017b7
2025-07-02 12:07:39,983 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:07:39,986 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:07:39,988 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 12:07:39,989 [29] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: efb9304f-937e-4e42-88ee-803f258017b7
2025-07-02 12:07:40,801 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:37:40.8018100Z, Method: PUT, Path: /api/v1/leave-requests/efb9304f-937e-4e42-88ee-803f258017b7/status, User: Chandler
2025-07-02 12:07:40,831 [37] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: efb9304f-937e-4e42-88ee-803f258017b7 by approver ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-07-02 12:07:40,837 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:07:40,839 [37] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error updating leave request status for ID: efb9304f-937e-4e42-88ee-803f258017b7
System.Exception: Failed to update leave request status You cannot approve or reject your own leave request.
 ---> System.InvalidOperationException: You cannot approve or reject your own leave request.
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 317
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 354
   at LeaveManagementSystem.Controllers.LeaveRequestController.UpdateStatus(Guid id, UpdateLeaveRequestStatusDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 185
2025-07-02 12:10:57,680 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 12:11:34,293 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 12:11:34,557 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 12:11:34,558 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 12:11:34,558 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 12:11:34,558 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 12:11:34,645 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:13:40,839 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:43:40.8390720Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:13:40,839 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:43:40.8390690Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:13:40,894 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:13:40,894 [14] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:13:40,919 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:13:40,945 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:13:41,059 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:43:41.0597580Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:13:41,062 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:13:41,098 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:13:51,804 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:43:51.8048300Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:13:51,811 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:13:51,823 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:13:56,803 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:43:56.8031290Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:13:56,811 [17] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:13:56,819 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:14:28,442 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:28.4426260Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:14:28,444 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:28.4442890Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:14:28,444 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:14:28,444 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:28.4449320Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:14:28,445 [19] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:14:28,446 [22] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:14:28,448 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:14:28,448 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:14:28,455 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:28.4550710Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:14:28,456 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:14:28,461 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:14:28,467 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:28.4673460Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:14:28,469 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:14:28,488 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:14:28,489 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:14:35,736 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:35.7366930Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:14:35,737 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:14:35,739 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:14:36,518 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:36.5180150Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:14:36,519 [19] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:14:36,523 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:14:37,704 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:37.7040360Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:14:37,706 [23] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:14:37,706 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:37.7066790Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:14:37,707 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:37.7071050Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:14:37,710 [19] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:14:37,714 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:14:37,714 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:14:37,718 [15] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 12:14:37,777 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:14:38,237 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:38.2372280Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:14:38,237 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:14:38,240 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:14:39,220 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:39.2208940Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:14:39,222 [22] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:14:39,226 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:14:39,751 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:44:39.7510810Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:14:39,751 [21] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:14:39,753 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:16:10,476 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:46:10.4767770Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:16:10,479 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:16:10,491 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:16:11,207 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:46:11.2073150Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:16:11,207 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:46:11.2073380Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:16:11,208 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:16:11,208 [26] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:16:11,210 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:46:11.2102790Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:16:11,212 [21] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 12:16:11,216 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:16:11,216 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:16:11,221 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:16:12,255 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:46:12.2550990Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:16:12,255 [28] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:16:12,257 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:16:12,752 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:46:12.7526990Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:16:12,753 [28] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:16:12,768 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:16:13,371 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:46:13.3719340Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:16:13,372 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:16:13,374 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:16:17,161 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:46:17.1615810Z, Method: GET, Path: /api/v1/Users/612545d2-5c40-49f6-baad-a0482c76b2db, User: Tony
2025-07-02 12:16:17,168 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching user with ID: 612545d2-5c40-49f6-baad-a0482c76b2db
2025-07-02 12:16:17,171 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:16:21,677 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:46:21.6772210Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:16:21,677 [21] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:16:21,679 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:17:08,146 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:47:08.1460810Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:17:08,146 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:47:08.1461610Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:17:08,146 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:47:08.1466490Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:17:08,147 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:17:08,147 [29] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:17:08,147 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:17:08,149 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:17:08,177 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:17:08,178 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:47:08.1789520Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:17:08,179 [29] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:17:08,181 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:17:08,183 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:17:08,185 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:47:08.1851070Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:17:08,185 [30] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:17:08,201 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:17:08,842 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:47:08.8427670Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:17:08,843 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:17:08,845 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:17:18,339 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:47:18.3394370Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:17:18,340 [30] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:17:18,343 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:17:19,038 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:47:19.0387790Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:17:19,041 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:47:19.0412930Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:17:19,041 [31] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 12:17:19,041 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:17:19,043 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:47:19.0433970Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:17:19,043 [21] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:17:19,045 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:17:19,047 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:17:19,049 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:17:32,304 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:47:32.3045970Z, Method: POST, Path: /api/v1/leave-balance/initialize/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Tony
2025-07-02 12:17:32,312 [31] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Initializing leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:17:32,331 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 12:17:41,543 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:47:41.5431080Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:17:41,543 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:17:41,544 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:18:05,240 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:05.2407570Z, Method: POST, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:18:05,267 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Creating new leave type.
2025-07-02 12:18:05,333 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveTypes" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Description", "IsDeleted", "Name", "StandardLeaveCount", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-02 12:18:05,355 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:18:05,365 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:05.3654420Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:18:05,365 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:18:05,366 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:18:10,494 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:10.4943250Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:18:10,495 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:18:10,497 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:18:11,840 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:11.8406760Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:18:11,842 [35] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:18:11,851 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:18:14,555 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:14.5555950Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:18:14,556 [9] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 12:18:14,558 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:14.5589810Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:18:14,559 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:14.5589950Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:18:14,559 [34] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:18:14,559 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:18:14,560 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:18:14,560 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:18:14,565 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:18:28,016 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:28.0160290Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:18:28,016 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:18:28,018 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:18:28,546 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:28.5466220Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:18:28,547 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:28.5474030Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:18:28,547 [31] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:18:28,547 [21] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:18:28,549 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:18:28,554 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:18:30,930 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:30.9304440Z, Method: GET, Path: /api/notifications/unread/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:18:30,942 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:18:30,989 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:30.9893540Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:18:30,989 [35] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:18:30,990 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:30.9907630Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:18:30,990 [34] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:18:30,992 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:18:30,993 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:18:45,595 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:45.5958080Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:18:45,604 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:45.6041600Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:18:45,604 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:45.6044750Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:18:45,604 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:48:45.6048570Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:18:45,605 [34] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:18:45,605 [35] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 12:18:45,605 [31] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:18:45,667 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (61ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:18:45,667 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:18:45,667 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (61ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:18:45,680 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:19:07,452 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:07.4526420Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:19:07,453 [35] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:19:07,475 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:19:09,306 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:09.3069750Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:19:09,308 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:09.3085310Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:19:09,308 [31] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:19:09,329 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:19:09,339 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:19:10,019 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:10.0198540Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:19:10,028 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:19:10,029 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:10.0293890Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:19:10,029 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:19:10,048 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:19:10,784 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:10.7847550Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:19:10,809 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:19:10,810 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:10.8102160Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:19:10,810 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:19:10,815 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:19:12,835 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:12.8352120Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:19:12,836 [34] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:19:12,855 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:19:14,396 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:14.3963050Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:19:14,396 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:14.3963050Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:19:14,396 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:19:14,398 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:19:14,398 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:19:41,566 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:41.5668900Z, Method: POST, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:19:41,574 [25] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Creating new leave type.
2025-07-02 12:19:41,592 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveTypes" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Description", "IsDeleted", "Name", "StandardLeaveCount", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-02 12:19:41,622 [25] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (24ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:19:46,303 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:46.3032600Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:19:46,303 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:19:46,304 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:46.3042560Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:19:46,312 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:19:46,314 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:19:47,024 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:47.0242990Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:19:47,037 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:19:47,037 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:47.0378050Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:19:47,037 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:19:47,042 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:19:47,579 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:47.5795810Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:19:47,591 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:47.5913840Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:19:47,592 [25] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:19:47,594 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:19:47,597 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:19:48,190 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:48.1908660Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:19:48,197 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:48.1975890Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:19:48,198 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:19:48,201 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:19:48,204 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:19:48,896 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:48.8960510Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:19:48,901 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:48.9016680Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:19:48,901 [25] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:19:48,905 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:19:48,905 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:19:49,487 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:49.4871350Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:19:49,502 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:49:49.5023210Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:19:49,502 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:19:49,504 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:19:49,510 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:20:30,350 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 12:21:05,833 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 12:21:06,112 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 12:21:06,113 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 12:21:06,113 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 12:21:06,113 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 12:21:06,173 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:21:09,039 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:09.0393480Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:21:09,039 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:09.0393490Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:21:09,059 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:21:09,083 [13] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:21:09,108 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:21:12,074 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:12.0746570Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:21:12,074 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:12.0749110Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:21:12,075 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:21:12,079 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:21:12,096 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:21:12,742 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:12.7420710Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:21:12,749 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:12.7499800Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:21:12,750 [16] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:21:12,751 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:21:12,753 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:21:13,300 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:13.3008940Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:21:13,310 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:21:13,311 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:13.3109960Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:21:13,311 [14] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:21:13,315 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:21:13,517 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:13.5176120Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:21:13,523 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:13.5231160Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:21:13,523 [13] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:21:13,524 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:21:13,530 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:21:13,712 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:13.7128170Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:21:13,722 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:21:13,725 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:13.7250940Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:21:13,725 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:21:13,729 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:21:13,929 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:13.9292010Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:21:13,935 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:21:13,935 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:13.9357430Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:21:13,936 [14] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:21:13,940 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:21:14,128 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:14.1283430Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:21:14,129 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:14.1298180Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:21:14,130 [11] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:21:14,132 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:21:14,132 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:21:14,313 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:14.3134260Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:21:14,319 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:14.3194910Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:21:14,319 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:21:14,321 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:21:14,330 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:21:14,814 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:14.8147870Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:21:14,816 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:14.8168790Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:21:14,817 [16] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:21:14,817 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:21:14,829 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:21:15,594 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:15.5942280Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:21:15,597 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:15.5974750Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:21:15,597 [11] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:21:15,598 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:21:15,598 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:21:30,299 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:51:30.2997470Z, Method: GET, Path: /api/v1/leavetypes, User: Anonymous
2025-07-02 12:21:30,301 [16] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:21:30,302 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:25:27,394 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:55:27.3941280Z, Method: POST, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:25:27,414 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Creating new leave type.
2025-07-02 12:25:27,486 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveTypes" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Description", "IsDeleted", "Name", "StandardLeaveCount", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-02 12:25:27,525 [7] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (21ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:26:56,420 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:56:56.4190100Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:26:56,420 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:56:56.4190280Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:26:56,424 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:26:56,483 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:26:56,486 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:27:18,448 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T06:57:18.4479840Z, Method: POST, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:27:18,453 [18] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Creating new leave type.
2025-07-02 12:27:18,460 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveTypes" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Description", "IsDeleted", "Name", "StandardLeaveCount", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-02 12:27:18,476 [20] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:29:03,063 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 12:30:08,512 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 12:30:08,761 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 12:30:08,762 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 12:30:08,762 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 12:30:08,762 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 12:30:08,832 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:30:16,094 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:00:16.0941940Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:30:16,094 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:00:16.0941930Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:30:16,119 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:30:16,144 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:30:16,174 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:32:18,657 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:02:18.6574810Z, Method: GET, Path: /api/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-02 12:32:18,666 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:02:18.6666310Z, Method: GET, Path: /api/v1/leave-requests/efb9304f-937e-4e42-88ee-803f258017b7, User: Chandler
2025-07-02 12:32:18,673 [20] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: efb9304f-937e-4e42-88ee-803f258017b7
2025-07-02 12:32:18,691 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:32:18,718 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:32:18,734 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:02:18.7346590Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/efb9304f-937e-4e42-88ee-803f258017b7, User: Chandler
2025-07-02 12:32:18,735 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:02:18.7354490Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Chandler
2025-07-02 12:32:18,738 [20] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: efb9304f-937e-4e42-88ee-803f258017b7
2025-07-02 12:32:18,738 [9] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 12:32:18,742 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:32:18,752 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 12:32:18,758 [9] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: efb9304f-937e-4e42-88ee-803f258017b7
2025-07-02 12:32:18,794 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:32:40,082 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:02:40.0822080Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:32:40,088 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:02:40.0883430Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:32:40,100 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:32:40,120 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:32:40,120 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:34:31,043 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:04:31.0436120Z, Method: GET, Path: /api/notifications/unread/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:34:31,108 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:04:31.1081640Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:34:31,110 [3] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:34:31,113 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:04:31.1133290Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:34:31,131 [19] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:34:31,161 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:34:31,192 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (140ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:34:31,322 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:34:52,616 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 12:34:57,316 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 12:34:57,578 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 12:34:57,579 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 12:34:57,579 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 12:34:57,579 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 12:34:57,632 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:35:01,142 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:05:01.1423090Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:35:01,142 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:05:01.1422810Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:35:01,164 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:35:01,190 [14] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:35:01,220 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:35:13,063 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:05:13.0630890Z, Method: DELETE, Path: /api/v1/leavetypes/8de0bb9b-a6cf-4be7-aaff-37f8688b37f9, User: Tony
2025-07-02 12:35:13,069 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Deleting leave type with ID: 8de0bb9b-a6cf-4be7-aaff-37f8688b37f9
2025-07-02 12:35:13,098 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:35:13,103 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:35:13,146 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveTypes" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "DeletedAt" = @p2, "Description" = @p3, "IsDeleted" = @p4, "Name" = @p5, "StandardLeaveCount" = @p6, "UpdatedAt" = @p7, "UpdatedBy" = @p8
WHERE "Id" = @p9;
2025-07-02 12:35:13,176 [15] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:35:16,526 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:05:16.5268920Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:35:16,536 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:05:16.5369240Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:35:16,538 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:35:16,553 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:35:16,553 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:35:24,118 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:05:24.1183750Z, Method: DELETE, Path: /api/v1/leavetypes/1c321e9b-d976-485e-8ab1-051fade0ad07, User: Tony
2025-07-02 12:35:24,120 [14] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Deleting leave type with ID: 1c321e9b-d976-485e-8ab1-051fade0ad07
2025-07-02 12:35:24,123 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:35:24,125 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:35:24,128 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveTypes" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "DeletedAt" = @p2, "Description" = @p3, "IsDeleted" = @p4, "Name" = @p5, "StandardLeaveCount" = @p6, "UpdatedAt" = @p7, "UpdatedBy" = @p8
WHERE "Id" = @p9;
2025-07-02 12:35:24,133 [14] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:35:28,264 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:05:28.2645900Z, Method: DELETE, Path: /api/v1/leavetypes/a126c001-1c6e-43fc-a635-a6677bd53f32, User: Tony
2025-07-02 12:35:28,265 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Deleting leave type with ID: a126c001-1c6e-43fc-a635-a6677bd53f32
2025-07-02 12:35:28,268 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:35:28,270 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:35:28,273 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveTypes" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "DeletedAt" = @p2, "Description" = @p3, "IsDeleted" = @p4, "Name" = @p5, "StandardLeaveCount" = @p6, "UpdatedAt" = @p7, "UpdatedBy" = @p8
WHERE "Id" = @p9;
2025-07-02 12:35:28,278 [14] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:35:30,710 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:05:30.7102090Z, Method: DELETE, Path: /api/v1/leavetypes/149d9ac0-9dce-4188-a826-31aa6ef81677, User: Tony
2025-07-02 12:35:30,713 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Deleting leave type with ID: 149d9ac0-9dce-4188-a826-31aa6ef81677
2025-07-02 12:35:30,729 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:35:30,730 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:35:30,732 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveTypes" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "DeletedAt" = @p2, "Description" = @p3, "IsDeleted" = @p4, "Name" = @p5, "StandardLeaveCount" = @p6, "UpdatedAt" = @p7, "UpdatedBy" = @p8
WHERE "Id" = @p9;
2025-07-02 12:35:30,736 [15] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:35:34,547 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:05:34.5471010Z, Method: DELETE, Path: /api/v1/leavetypes/6c4e5700-2b02-4499-a459-f99d0fd1245b, User: Tony
2025-07-02 12:35:34,547 [14] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Deleting leave type with ID: 6c4e5700-2b02-4499-a459-f99d0fd1245b
2025-07-02 12:35:34,563 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:35:34,564 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:35:34,566 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveTypes" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "DeletedAt" = @p2, "Description" = @p3, "IsDeleted" = @p4, "Name" = @p5, "StandardLeaveCount" = @p6, "UpdatedAt" = @p7, "UpdatedBy" = @p8
WHERE "Id" = @p9;
2025-07-02 12:35:34,571 [9] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:35:37,997 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:05:37.9976750Z, Method: DELETE, Path: /api/v1/leavetypes/e2567bc9-778d-4c65-8a4e-321a51a1c722, User: Tony
2025-07-02 12:35:37,998 [17] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Deleting leave type with ID: e2567bc9-778d-4c65-8a4e-321a51a1c722
2025-07-02 12:35:38,012 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:35:38,013 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:35:38,015 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveTypes" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "DeletedAt" = @p2, "Description" = @p3, "IsDeleted" = @p4, "Name" = @p5, "StandardLeaveCount" = @p6, "UpdatedAt" = @p7, "UpdatedBy" = @p8
WHERE "Id" = @p9;
2025-07-02 12:35:38,020 [14] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:36:11,301 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-02 12:37:19,417 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 12:37:19,665 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 12:37:19,666 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 12:37:19,666 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 12:37:19,666 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 12:37:19,728 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:37:22,856 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:22.8562170Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:37:22,856 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:22.8562450Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:37:22,856 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:22.8562420Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:37:22,856 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:22.8562470Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:37:22,878 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:37:22,902 [18] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:37:22,902 [16] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 12:37:22,903 [17] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:37:22,928 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:37:22,937 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:37:22,959 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:37:25,195 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:25.1952720Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:37:25,196 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:37:25,199 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:37:36,387 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:36.3871320Z, Method: POST, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:37:36,408 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Creating new leave type.
2025-07-02 12:37:36,481 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveTypes" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Description", "IsDeleted", "Name", "StandardLeaveCount", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-07-02 12:37:36,520 [7] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (20ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:37:39,144 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:39.1440880Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:37:39,144 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:39.1442100Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:37:39,145 [17] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:37:39,147 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:37:39,172 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:37:41,275 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:41.2750890Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:37:41,282 [11] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:37:41,290 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:37:44,342 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:44.3420820Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:37:44,343 [17] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:37:44,346 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:37:45,937 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:45.9370360Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:37:45,938 [17] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 12:37:45,939 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:45.9392470Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:37:45,939 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:45.9392470Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:37:45,939 [16] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:37:45,941 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:37:45,942 [7] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:37:45,944 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:37:45,947 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:37:58,898 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:07:58.8980290Z, Method: POST, Path: /api/v1/leave-balance/initialize/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069/leaveType/0eaa8a59-10c4-4bdf-8054-017b5cbc0912, User: Tony
2025-07-02 12:37:58,906 [19] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Initializing leave balance for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069 and leave type ID: 0eaa8a59-10c4-4bdf-8054-017b5cbc0912 with standard leave count: 12
2025-07-02 12:37:58,923 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 12:37:58,941 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 12:38:03,475 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:08:03.4758880Z, Method: GET, Path: /api/notifications/unread/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:38:03,480 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:38:03,534 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:08:03.5348270Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:38:03,535 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:08:03.5354270Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:38:03,535 [7] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:38:03,535 [18] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:38:03,536 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:38:03,537 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:38:27,372 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:08:27.3722450Z, Method: POST, Path: /api/v1/leave-balance/deduct, User: Tony
2025-07-02 12:38:27,386 [7] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Deducting 12 days from leave balance for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069 and leave type ID: 0eaa8a59-10c4-4bdf-8054-017b5cbc0912
2025-07-02 12:38:27,396 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 12:38:27,415 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:38:27,426 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
2025-07-02 12:38:33,049 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:08:33.0491460Z, Method: GET, Path: /api/notifications/unread/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:38:33,053 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:38:33,103 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:08:33.1030820Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:38:33,103 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:08:33.1034410Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:38:33,103 [17] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:38:33,103 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:38:33,104 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:38:33,105 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:38:51,017 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:08:51.0175980Z, Method: POST, Path: /api/v1/leave-balance/reset/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Tony
2025-07-02 12:38:51,027 [21] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Resetting leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:38:51,043 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 12:38:51,047 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:38:51,050 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:38:51,052 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:38:51,054 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:38:51,056 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:38:51,057 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:38:51,059 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:38:51,061 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:38:51,062 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:38:51,064 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:38:51,067 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
2025-07-02 12:38:51,068 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:38:51,070 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
2025-07-02 12:39:04,409 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:04.4090600Z, Method: GET, Path: /api/notifications/unread/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:39:04,427 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:39:04,462 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:04.4628870Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:39:04,463 [17] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:39:04,464 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:04.4641570Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:39:04,464 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:39:04,465 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:39:04,466 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:39:05,706 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:05.7063860Z, Method: GET, Path: /api/notifications/unread/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:39:05,707 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:39:05,761 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:05.7616020Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:39:05,761 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:05.7616790Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:39:05,762 [21] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:39:05,762 [22] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:39:05,763 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:39:05,764 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:39:06,708 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:06.7086110Z, Method: GET, Path: /api/notifications/unread/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:39:06,711 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:39:06,765 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:06.7654350Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:39:06,765 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:06.7654660Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:39:06,765 [22] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:39:06,765 [20] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:39:06,767 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:39:06,768 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:39:23,568 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:23.5682710Z, Method: POST, Path: /api/v1/leave-balance/deduct, User: Tony
2025-07-02 12:39:23,571 [20] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Deducting 1 days from leave balance for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 12:39:23,576 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 12:39:23,581 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 12:39:23,585 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
2025-07-02 12:39:27,099 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:27.0994730Z, Method: GET, Path: /api/notifications/unread/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:39:27,108 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 12:39:27,151 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:27.1511980Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:39:27,152 [21] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:39:27,152 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:27.1525430Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:39:27,153 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:39:27,155 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:39:27,156 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:39:35,792 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:09:35.7921130Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:39:35,792 [23] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:39:35,793 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:40:41,377 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:10:41.3770810Z, Method: POST, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 12:40:41,395 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 12:40:41,410 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:40:41,426 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:40:41,427 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:40:41,431 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:40:41,441 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:40:41,460 [20] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Monthly leave limit exceeded. Allowed: 1 days, Used: 1 days, Requested: 1 days.
 ---> System.InvalidOperationException: Monthly leave limit exceeded. Allowed: 1 days, Used: 1 days, Requested: 1 days.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateMonthlyLimitAsync(Guid userId, Guid leaveTypeId, DateTime startDate, Int32 requestedDays, LeaveType leaveType) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 245
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 147
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 12:40:57,264 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:10:57.2643090Z, Method: POST, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 12:40:57,267 [20] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 12:40:57,270 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:40:57,272 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:40:57,272 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:40:57,274 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:40:57,276 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:40:57,280 [20] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Monthly leave limit exceeded. Allowed: 1 days, Used: 1 days, Requested: 1 days.
 ---> System.InvalidOperationException: Monthly leave limit exceeded. Allowed: 1 days, Used: 1 days, Requested: 1 days.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateMonthlyLimitAsync(Guid userId, Guid leaveTypeId, DateTime startDate, Int32 requestedDays, LeaveType leaveType) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 245
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 147
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 12:41:09,013 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:11:09.0135180Z, Method: POST, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 12:41:09,015 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 12:41:09,017 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:41:09,018 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:41:09,019 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:41:09,022 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:41:09,026 [24] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: You have already applied for leave in this date range.
 ---> System.InvalidOperationException: You have already applied for leave in this date range.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateOverlappingLeaveAsync(Guid userId, Guid leaveTypeId, DateTime startDate, DateTime endDate) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 217
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 150
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 12:41:12,501 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:11:12.5018380Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 12:41:12,502 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:11:12.5023240Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:41:12,502 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:11:12.5024280Z, Method: GET, Path: /api/v1/Users, User: Vasu
2025-07-02 12:41:12,502 [23] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:41:12,502 [3] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:41:12,502 [21] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:41:12,504 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:41:12,513 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:41:12,521 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:41:12,522 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:11:12.5228250Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:41:12,522 [23] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:41:12,523 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:41:12,526 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:11:12.5267870Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 12:41:12,527 [20] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:41:12,534 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:41:22,743 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:11:22.7429740Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 12:41:22,744 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:11:22.7442990Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 12:41:22,746 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:41:22,746 [24] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 12:41:22,749 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:41:22,752 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:43:08,687 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:13:08.6872750Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:43:08,687 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:13:08.6872960Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:43:08,687 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:13:08.6874950Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:43:08,691 [23] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:43:08,691 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:43:08,691 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:43:08,705 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:43:08,707 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:13:08.7075480Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:43:08,708 [24] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:43:08,710 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:13:08.7106400Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:43:08,710 [23] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:43:08,711 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:43:08,731 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:43:08,737 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:43:08,737 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:44:47,889 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:14:47.8895360Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:44:47,893 [27] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:44:47,897 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:45:12,277 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:12.2779140Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:45:12,278 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:12.2782340Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:45:12,278 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:12.2784700Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:45:12,278 [31] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:45:12,279 [25] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:45:12,280 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:45:12,282 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:45:12,282 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:45:12,285 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:12.2853010Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:45:12,285 [34] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:45:12,286 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:45:12,294 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:12.2946740Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:45:12,295 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:45:12,308 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:45:12,308 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:45:22,122 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:22.1220860Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:45:22,123 [23] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:45:22,130 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:45:43,183 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:43.1836020Z, Method: POST, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:45:43,186 [23] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 12:45:43,197 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:45:43,200 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:45:43,202 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 12:45:43,211 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:45:43,248 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 12:45:43,293 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:45:43,298 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:45:43,301 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:45:43,305 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 12:45:43,311 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 12:45:43,314 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 12:45:43,315 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 12:45:43,317 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 12:45:43,318 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 12:45:43,337 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:43.3377810Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:45:43,338 [31] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:45:43,343 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:45:49,136 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:49.1364630Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:45:49,137 [31] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:45:49,141 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:45:51,303 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:51.3037070Z, Method: GET, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 12:45:51,312 [31] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 12:45:51,316 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:45:51,331 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:51.3319200Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/dac2458b-31e3-462d-9f2c-874dd78ccefc, User: Tony
2025-07-02 12:45:51,331 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:51.3319160Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 12:45:51,338 [34] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 12:45:51,338 [24] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: dac2458b-31e3-462d-9f2c-874dd78ccefc
2025-07-02 12:45:51,342 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:45:51,352 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 12:45:51,353 [34] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 12:45:51,367 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (28ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:45:54,745 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:15:54.7458910Z, Method: PUT, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09/status, User: Tony
2025-07-02 12:45:54,761 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09 by approver ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 12:45:54,766 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:45:54,771 [24] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error updating leave request status for ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
System.Exception: You cannot approve or reject your own leave request.
 ---> System.InvalidOperationException: You cannot approve or reject your own leave request.
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 317
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 354
   at LeaveManagementSystem.Controllers.LeaveRequestController.UpdateStatus(Guid id, UpdateLeaveRequestStatusDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 185
2025-07-02 12:46:10,053 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:16:10.0536890Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:46:10,054 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:46:10,059 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:46:23,021 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:16:23.0218300Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:46:23,021 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:16:23.0219580Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:46:23,023 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:16:23.0231200Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:46:23,023 [34] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:46:23,023 [33] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 12:46:23,023 [24] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:46:23,027 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:46:23,028 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:46:23,028 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:46:40,301 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:16:40.3019440Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:46:40,302 [29] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:46:40,304 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:46:42,835 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:16:42.8352530Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:46:42,835 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:16:42.8355190Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 12:46:42,835 [34] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:46:42,836 [24] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 12:46:42,837 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:16:42.8371150Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:46:42,837 [33] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:46:42,838 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:46:42,839 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 12:46:42,845 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:46:46,205 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:16:46.2055010Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 12:46:46,206 [29] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 12:46:46,208 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 12:47:09,736 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:17:09.7368310Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:47:09,738 [28] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:47:09,746 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:47:30,088 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:17:30.0887680Z, Method: GET, Path: /api/v1/leave-requests/efb9304f-937e-4e42-88ee-803f258017b7, User: Tony
2025-07-02 12:47:30,089 [33] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: efb9304f-937e-4e42-88ee-803f258017b7
2025-07-02 12:47:30,116 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:47:30,121 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:17:30.1212270Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/efb9304f-937e-4e42-88ee-803f258017b7, User: Tony
2025-07-02 12:47:30,121 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:17:30.1213090Z, Method: GET, Path: /api/v1/leave-balance/user/0728af92-6d38-4547-be7c-bca1f3dcdcc6/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 12:47:30,121 [33] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 12:47:30,123 [28] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: efb9304f-937e-4e42-88ee-803f258017b7
2025-07-02 12:47:30,132 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 12:47:30,141 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 12:47:30,144 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 12:47:30,145 [23] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: efb9304f-937e-4e42-88ee-803f258017b7
2025-07-02 12:47:36,925 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:17:36.9254820Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 12:47:36,925 [33] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 12:47:36,929 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 12:47:41,904 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:17:41.9040000Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 12:47:41,905 [23] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 12:47:41,907 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:14:34,542 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:44:34.5414870Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 13:14:34,613 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:14:34,831 [41] INFO  LeaveManagementSystem.Services.AuthenticationService - User tony@example.com logged in successfully
2025-07-02 13:14:34,832 [41] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User tony@example.com logged in successfully.
2025-07-02 13:14:34,855 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:44:34.8551560Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:14:34,855 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:44:34.8551960Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 13:14:34,855 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:44:34.8553410Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:14:34,855 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:14:34,855 [39] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 13:14:34,855 [41] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:14:34,858 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:14:34,881 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:14:34,882 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:44:34.8827360Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:14:34,882 [43] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:14:34,884 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:14:34,892 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:44:34.8927720Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:14:34,892 [43] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:14:34,909 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:14:34,912 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:16:10,307 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:46:10.3071150Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:16:10,310 [44] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:16:10,316 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:16:24,204 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:46:24.2048470Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:16:24,206 [42] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:16:24,217 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:16:35,419 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:46:35.4196200Z, Method: GET, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 13:16:35,420 [45] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 13:16:35,439 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 13:16:35,447 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:46:35.4469910Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 13:16:35,447 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:46:35.4472160Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/dac2458b-31e3-462d-9f2c-874dd78ccefc, User: Tony
2025-07-02 13:16:35,447 [45] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: dac2458b-31e3-462d-9f2c-874dd78ccefc
2025-07-02 13:16:35,449 [42] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 13:16:35,467 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 13:16:35,470 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 13:16:35,471 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 13:16:35,472 [42] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 13:16:44,902 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:46:44.9022060Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 13:16:44,909 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:46:44.9094800Z, Method: GET, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 13:16:44,909 [45] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 13:16:44,949 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 13:16:44,951 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 13:16:44,956 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:46:44.9561390Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 13:16:44,956 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:46:44.9562010Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/dac2458b-31e3-462d-9f2c-874dd78ccefc, User: Tony
2025-07-02 13:16:44,956 [42] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: dac2458b-31e3-462d-9f2c-874dd78ccefc
2025-07-02 13:16:44,956 [45] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 13:16:44,959 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 13:16:44,959 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 13:16:44,962 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 13:16:44,968 [39] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 13:16:57,926 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:46:57.9264640Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 13:16:57,927 [42] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 13:16:57,929 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:17:00,151 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:00.1515930Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 13:17:00,155 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:00.1558640Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 13:17:00,156 [42] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 13:17:00,157 [40] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 13:17:00,163 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:00.1632410Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:17:00,163 [44] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:17:00,165 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:17:00,165 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:17:00,166 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 13:17:03,162 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:03.1623770Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:17:03,162 [39] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:17:03,164 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:17:06,979 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:06.9795570Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:17:06,981 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:17:06,991 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:17:15,366 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:15.3660400Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 13:17:15,366 [39] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 13:17:15,368 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:17:30,934 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:30.9342190Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 13:17:30,974 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:17:31,134 [40] INFO  LeaveManagementSystem.Services.AuthenticationService - User zoro@example.com logged in successfully
2025-07-02 13:17:31,134 [40] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User zoro@example.com logged in successfully.
2025-07-02 13:17:31,193 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:31.1939590Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 13:17:31,194 [45] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:17:31,197 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:31.1974900Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 13:17:31,197 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:31.1977880Z, Method: GET, Path: /api/v1/Users, User: Zoro
2025-07-02 13:17:31,197 [39] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:17:31,198 [40] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 13:17:31,209 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:17:31,210 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:17:31,210 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:31.2108210Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 13:17:31,211 [45] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:17:31,215 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:17:31,215 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:17:31,218 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:31.2182750Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 13:17:31,218 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:17:31,225 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:17:41,557 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:47:41.5578990Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 13:17:41,558 [45] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:17:41,561 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:18:19,794 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:19.7948670Z, Method: POST, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 13:18:19,802 [45] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 13:18:19,815 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 13:18:19,818 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 13:18:19,820 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 13:18:19,823 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:18:19,846 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 13:18:19,856 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 13:18:19,858 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:18:19,862 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 13:18:19,866 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 13:18:19,867 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:19,868 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:19,870 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:19,871 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:19,872 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:19,872 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:19,877 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:19.8778960Z, Method: POST, Path: /api/v1/leave-attachments, User: Zoro
2025-07-02 13:18:19,902 [49] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Creating new leave attachment
2025-07-02 13:18:19,910 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Binary), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveAttachments" ("Id", "DeletedAt", "FileContent", "FileName", "IsDeleted", "LeaveRequestId", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-02 13:18:19,913 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 13:18:19,970 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:19.9702500Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 13:18:19,970 [40] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:18:19,974 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:18:30,434 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:30.4343740Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 13:18:30,447 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:30.4473790Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 13:18:30,447 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 13:18:30,447 [45] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 13:18:30,457 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:18:33,124 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:33.1248800Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 13:18:33,137 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 13:18:37,703 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:37.7039390Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:18:37,705 [49] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:18:37,710 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:18:41,949 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:41.9491770Z, Method: GET, Path: /api/v1/leave-requests/7aabe643-ac00-4d35-8078-25541ba729d5, User: Tony
2025-07-02 13:18:41,949 [48] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 7aabe643-ac00-4d35-8078-25541ba729d5
2025-07-02 13:18:41,956 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 13:18:41,965 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:41.9650580Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/7aabe643-ac00-4d35-8078-25541ba729d5, User: Tony
2025-07-02 13:18:41,965 [50] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 7aabe643-ac00-4d35-8078-25541ba729d5
2025-07-02 13:18:41,966 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:41.9661100Z, Method: GET, Path: /api/v1/leave-balance/user/a9878ee5-34ba-4ec4-8a5c-4466310b9718/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-02 13:18:41,966 [48] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-02 13:18:41,972 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 13:18:41,972 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 13:18:41,975 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 13:18:43,301 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:43.3011560Z, Method: GET, Path: /api/v1/leave-attachments/0dbc75e4-0faf-41f5-b2ca-fb615dd2e61e, User: Anonymous
2025-07-02 13:18:43,309 [46] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachment with ID: 0dbc75e4-0faf-41f5-b2ca-fb615dd2e61e
2025-07-02 13:18:43,320 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 13:18:43,731 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:43.7316600Z, Method: GET, Path: /favicon.ico, User: Anonymous
2025-07-02 13:18:48,112 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:48.1121420Z, Method: PUT, Path: /api/v1/leave-requests/7aabe643-ac00-4d35-8078-25541ba729d5/status, User: Tony
2025-07-02 13:18:48,115 [46] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 7aabe643-ac00-4d35-8078-25541ba729d5 by approver ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 13:18:48,120 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 13:18:48,124 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 13:18:48,130 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 13:18:48,161 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p5='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
UPDATE "LeaveRequests" SET "ReviewedById" = @p2, "Status" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
2025-07-02 13:18:48,174 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 13:18:48,177 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 13:18:48,180 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 13:18:48,183 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:48,187 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:18:48,189 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 13:18:48,191 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 13:18:48,192 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:48,193 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:48,194 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:48,195 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:48,195 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:48,196 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 13:18:48,208 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:48.2089580Z, Method: GET, Path: /api/v1/leave-requests/7aabe643-ac00-4d35-8078-25541ba729d5, User: Tony
2025-07-02 13:18:48,209 [40] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 7aabe643-ac00-4d35-8078-25541ba729d5
2025-07-02 13:18:48,212 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 13:18:53,195 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:48:53.1954900Z, Method: GET, Path: /api/notifications/all/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Zoro
2025-07-02 13:18:53,197 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 13:20:14,488 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:50:14.4880150Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:20:14,491 [48] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:20:14,515 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:20:15,087 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T07:50:15.0878040Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:20:15,088 [40] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:20:15,095 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:54:03,434 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 13:54:03,702 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 13:54:03,703 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 13:54:03,704 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 13:54:03,704 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 13:54:04,463 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:54:43,001 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:24:43.0012630Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 13:54:43,163 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (126ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 13:54:46,762 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:24:46.7624600Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:54:46,765 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:24:46.7656630Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 13:54:46,770 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:24:46.7701540Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:54:46,821 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:54:46,822 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:54:46,822 [13] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 13:54:46,858 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:54:46,870 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:54:46,870 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:54:46,877 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:24:46.8779160Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:54:46,878 [17] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:54:46,879 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:54:46,887 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:24:46.8871180Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:54:46,887 [17] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:54:46,893 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:56:26,478 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:26.4786780Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:56:26,481 [24] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:56:26,484 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:56:27,009 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:27.0090180Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:56:27,014 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:56:27,017 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:56:27,508 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:27.5086650Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:56:27,508 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:27.5089640Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 13:56:27,509 [3] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:56:27,510 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:27.5107460Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 13:56:27,511 [24] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 13:56:27,513 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:56:27,513 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:56:27,535 [21] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 13:56:27,801 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (236ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 13:56:27,969 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:27.9697360Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:56:27,970 [3] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:56:27,972 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:56:28,440 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:28.4407570Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:56:28,441 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:56:28,449 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:56:28,907 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:28.9078840Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 13:56:28,909 [20] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 13:56:28,911 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:56:29,953 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:29.9531930Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:56:29,953 [3] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:56:29,955 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:56:30,570 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:30.5703740Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:56:30,571 [20] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:56:30,575 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:56:31,017 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:31.0178290Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 13:56:31,018 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 13:56:31,020 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:56:32,275 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:32.2753710Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 13:56:32,275 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:32.2754590Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:56:32,275 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:32.2758330Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:56:32,275 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:56:32,275 [21] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 13:56:32,276 [3] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:56:32,277 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:56:32,277 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:56:32,281 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:32.2814000Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:56:32,281 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:56:32,281 [3] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:56:32,283 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:56:32,298 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:26:32.2982170Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:56:32,298 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:56:32,301 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:57:07,383 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:27:07.3830030Z, Method: GET, Path: /api/v1/auth/me, User: Tony
2025-07-02 13:57:07,398 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:57:07,401 [27] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-02 13:57:20,332 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:27:20.3328820Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:57:20,332 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:27:20.3328820Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 13:57:20,333 [31] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 13:57:20,333 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:27:20.3332090Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:57:20,334 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:57:20,333 [29] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:57:20,342 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:57:20,342 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 13:57:20,345 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:27:20.3450320Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 13:57:20,345 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 13:57:20,346 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 13:57:20,347 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:57:20,351 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:27:20.3513120Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 13:57:20,351 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 13:57:20,360 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 13:57:21,735 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:27:21.7351450Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 13:57:21,742 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 13:58:23,282 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:28:23.2829480Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 13:58:23,287 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 14:01:08,709 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:31:08.7097960Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 14:01:08,729 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 14:01:08,745 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:31:08.7453810Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 14:01:08,745 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:31:08.7455830Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 14:01:08,745 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:31:08.7457040Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 14:01:08,745 [19] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:01:08,746 [34] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 14:01:08,746 [33] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:01:08,748 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:01:08,751 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:31:08.7518390Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 14:01:08,752 [19] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:01:08,752 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:01:08,761 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 14:01:08,767 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:01:08,780 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:31:08.7807280Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 14:01:08,781 [28] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:01:08,790 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:06:51,681 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:36:51.6809910Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 14:06:51,684 [38] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:06:51,707 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:07:06,102 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:37:06.1028360Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 14:07:06,103 [41] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:07:06,107 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:07:22,781 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:37:22.7811400Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 14:07:22,782 [43] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 14:07:22,782 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:37:22.7822610Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 14:07:22,782 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:37:22.7822840Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 14:07:22,782 [44] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:07:22,782 [39] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 14:07:22,784 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 14:07:22,784 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:07:22,789 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:09:40,367 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:39:40.3670940Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 14:09:40,372 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:39:40.3723840Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 14:09:40,376 [41] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:09:40,379 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:39:40.3797670Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 14:09:40,388 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:39:40.3881900Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 14:09:40,389 [48] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 14:09:40,431 [46] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 14:09:40,525 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 14:09:40,525 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:09:40,525 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 14:09:40,531 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:12:43,058 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:42:43.0587250Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 14:12:43,060 [48] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:12:43,068 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:12:57,732 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:42:57.7321590Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 14:12:57,733 [46] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:12:57,750 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:15:16,307 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:45:16.3076790Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 14:15:16,318 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 14:15:16,330 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:45:16.3304840Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 14:15:16,331 [53] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:15:16,384 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (52ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:19:52,244 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:49:52.2435070Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 14:19:52,270 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T08:49:52.2700370Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 14:19:52,272 [52] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:19:52,717 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (257ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 14:19:52,733 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (274ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:34:15,087 [66] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:04:15.0871330Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 14:34:15,087 [61] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:04:15.0875550Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 14:34:15,088 [62] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:04:15.0884980Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 14:34:15,090 [61] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:34:15,090 [62] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:34:15,090 [66] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 14:34:15,143 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:34:15,143 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 14:34:15,145 [62] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:04:15.1457180Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 14:34:15,145 [62] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:34:15,148 [62] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:34:15,149 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:34:15,152 [62] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:04:15.1528450Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 14:34:15,153 [62] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:34:15,158 [62] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:34:32,587 [64] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:04:32.5875220Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 14:34:32,622 [62] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 14:34:32,834 [62] INFO  LeaveManagementSystem.Services.AuthenticationService - User zoro@example.com logged in successfully
2025-07-02 14:34:32,834 [62] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User zoro@example.com logged in successfully.
2025-07-02 14:34:32,899 [62] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:04:32.8991350Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:34:32,899 [62] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:34:32,901 [61] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:04:32.9016220Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:34:32,901 [62] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:04:32.9017270Z, Method: GET, Path: /api/v1/Users, User: Zoro
2025-07-02 14:34:32,902 [61] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:34:32,902 [62] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 14:34:32,902 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:34:32,903 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:34:32,903 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 14:34:32,906 [63] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:04:32.9069010Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:34:32,907 [63] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:34:32,909 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:34:32,916 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:04:32.9162350Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:34:32,916 [69] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:34:32,925 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:35:00,798 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:00.7982020Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:35:00,798 [69] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:35:00,801 [61] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:35:06,420 [63] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:06.4205570Z, Method: GET, Path: /api/notifications/unread/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Zoro
2025-07-02 14:35:06,428 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 14:35:06,473 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:06.4734340Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:35:06,474 [69] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:35:06,477 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:35:07,418 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:07.4186480Z, Method: GET, Path: /api/notifications/unread/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Zoro
2025-07-02 14:35:07,428 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 14:35:07,474 [63] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:07.4744910Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:35:07,475 [63] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:35:07,478 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:35:13,078 [64] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:13.0784390Z, Method: GET, Path: /api/v1/leave-requests/07b319ed-5190-425f-9cc1-3e7ea0d8bb3a, User: Zoro
2025-07-02 14:35:13,081 [64] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 07b319ed-5190-425f-9cc1-3e7ea0d8bb3a
2025-07-02 14:35:13,107 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 14:35:13,112 [65] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:13.1121640Z, Method: GET, Path: /api/v1/leave-balance/user/a9878ee5-34ba-4ec4-8a5c-4466310b9718/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Zoro
2025-07-02 14:35:13,112 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:13.1122310Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/07b319ed-5190-425f-9cc1-3e7ea0d8bb3a, User: Zoro
2025-07-02 14:35:13,114 [65] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-02 14:35:13,114 [70] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 07b319ed-5190-425f-9cc1-3e7ea0d8bb3a
2025-07-02 14:35:13,117 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 14:35:13,118 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:35:13,123 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 14:35:23,853 [65] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:23.8534810Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:35:23,854 [65] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:35:23,857 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:35:25,009 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:25.0092780Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:35:25,009 [69] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:35:25,011 [63] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:25.0117170Z, Method: GET, Path: /api/v1/Users, User: Zoro
2025-07-02 14:35:25,011 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:25.0117170Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:35:25,011 [70] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:35:25,011 [63] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 14:35:25,012 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:35:25,012 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 14:35:25,013 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:35:25,013 [65] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:25.0136480Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:35:25,013 [65] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:35:25,014 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:35:25,019 [65] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:25.0190380Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:35:25,019 [65] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:35:25,022 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:35:29,898 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:29.8981240Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:35:29,898 [70] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:35:29,899 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:35:31,603 [64] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:31.6037520Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:35:31,604 [64] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:35:31,605 [64] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:31.6056150Z, Method: GET, Path: /api/v1/Users, User: Zoro
2025-07-02 14:35:31,605 [64] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 14:35:31,606 [64] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:31.6059990Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:35:31,606 [64] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:35:31,606 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 14:35:31,607 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:35:31,608 [64] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:31.6081790Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:35:31,608 [64] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:35:31,608 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:35:31,612 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:35:31,615 [63] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:31.6156260Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:35:31,615 [63] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:35:31,623 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:35:40,703 [67] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:40.7038870Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:35:40,704 [67] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:35:40,705 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:35:50,215 [65] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:50.2157310Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:35:50,216 [63] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:50.2160610Z, Method: GET, Path: /api/v1/Users, User: Zoro
2025-07-02 14:35:50,216 [65] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:35:50,216 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:50.2162240Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:35:50,216 [63] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 14:35:50,216 [70] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:35:50,218 [67] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 14:35:50,218 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:35:50,221 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:35:50,222 [67] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:50.2221940Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:35:50,222 [67] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:35:50,223 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:50.2235490Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:35:50,223 [70] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:35:50,223 [63] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:35:50,228 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:35:55,612 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:05:55.6125030Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:35:55,613 [70] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:35:55,613 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:36:15,695 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:06:15.6959590Z, Method: POST, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:36:15,710 [70] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 14:36:15,725 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:36:15,730 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 14:36:15,731 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 14:36:15,733 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:36:15,735 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:36:15,757 [64] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Monthly leave limit exceeded. Allowed: 1 days, Used: 2 days, Requested: 1 days.
 ---> System.InvalidOperationException: Monthly leave limit exceeded. Allowed: 1 days, Used: 2 days, Requested: 1 days.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateMonthlyLimitAsync(Guid userId, Guid leaveTypeId, DateTime startDate, Int32 requestedDays, LeaveType leaveType) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 245
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 147
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 14:36:23,103 [66] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:06:23.1032820Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:36:23,104 [66] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:36:23,105 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:36:24,267 [66] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:06:24.2675650Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:36:24,267 [66] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:36:24,269 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:36:25,278 [66] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:06:25.2785690Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:36:25,278 [66] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:36:25,279 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:38:23,100 [66] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:08:23.1007760Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:38:23,100 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:08:23.1007770Z, Method: GET, Path: /api/v1/leave-balance/user/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Zoro
2025-07-02 14:38:23,101 [66] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:38:23,101 [70] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718
2025-07-02 14:38:23,102 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:38:23,104 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:38:23,783 [66] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:08:23.7830160Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:38:23,783 [66] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:38:23,787 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:38:24,961 [64] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:08:24.9612290Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:38:24,961 [64] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:38:24,962 [66] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:38:35,518 [64] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:08:35.5182820Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:38:35,518 [64] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:38:35,519 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:38:55,982 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:08:55.9825240Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:38:55,982 [70] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:38:55,985 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:38:58,446 [57] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:08:58.4464240Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:38:58,446 [57] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:38:58,448 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:39:26,962 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:09:26.9624010Z, Method: POST, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:39:26,964 [70] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 14:39:26,992 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:39:26,993 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 14:39:26,994 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 14:39:26,996 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:39:26,998 [68] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Leave Balance for LeaveType 8829590b-abc7-4f20-b0de-28e8975bfd0c not found for User a9878ee5-34ba-4ec4-8a5c-4466310b9718
 ---> System.Collections.Generic.KeyNotFoundException: Leave Balance for LeaveType 8829590b-abc7-4f20-b0de-28e8975bfd0c not found for User a9878ee5-34ba-4ec4-8a5c-4466310b9718
   at LeaveManagementSystem.Services.LeaveBalanceService.GetLeaveBalanceForTypeAsync(Guid userId, Guid leaveTypeId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveBalanceService.cs:line 54
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateLeaveBalanceAsync(Guid userId, Guid leaveTypeId, Int32 requestedDays, LeaveType leaveType) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 222
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 146
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 14:39:47,179 [57] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:09:47.1792870Z, Method: GET, Path: /api/v1/leave-balance/user/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Zoro
2025-07-02 14:39:47,179 [64] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:09:47.1793210Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:39:47,179 [64] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:39:47,179 [57] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718
2025-07-02 14:39:47,181 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:39:47,198 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:39:52,662 [64] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:09:52.6620350Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:39:52,662 [64] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:39:52,663 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:39:55,373 [57] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:09:55.3738150Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:39:55,374 [57] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:39:55,375 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:39:58,057 [57] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:09:58.0578560Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:39:58,058 [57] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:39:58,064 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:39:59,323 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:09:59.3236020Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:39:59,323 [70] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:39:59,324 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:40:14,600 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:10:14.6007170Z, Method: POST, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:40:14,601 [56] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 14:40:14,603 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:40:14,604 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 14:40:14,605 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 14:40:14,606 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:40:14,608 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:40:14,616 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:40:14,699 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 14:40:14,705 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 14:40:14,716 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 14:40:14,718 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 14:40:14,718 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:40:14,729 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 14:40:14,731 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 14:40:14,731 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 14:40:14,732 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 14:40:14,734 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 14:40:14,734 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-02 14:40:14,808 [57] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:10:14.8083950Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:40:14,808 [57] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:40:14,811 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:40:20,741 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:10:20.7414490Z, Method: GET, Path: /api/v1/leavetypes, User: Zoro
2025-07-02 14:40:20,741 [51] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:40:20,743 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:40:34,483 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:10:34.4836400Z, Method: POST, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:40:34,485 [70] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-02 14:40:34,487 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:40:34,488 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 14:40:34,489 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 14:40:34,490 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 14:40:34,492 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:40:34,495 [51] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Monthly leave limit exceeded. Allowed: 1 days, Used: 1 days, Requested: 1 days.
 ---> System.InvalidOperationException: Monthly leave limit exceeded. Allowed: 1 days, Used: 1 days, Requested: 1 days.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateMonthlyLimitAsync(Guid userId, Guid leaveTypeId, DateTime startDate, Int32 requestedDays, LeaveType leaveType) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 245
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 147
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 148
2025-07-02 14:40:39,557 [57] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:10:39.5570480Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 14:40:39,557 [57] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:40:39,560 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:40:50,177 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:10:50.1774980Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 14:40:50,179 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 14:40:58,762 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:10:58.7621530Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 14:40:58,768 [64] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 14:40:58,777 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:10:58.7770370Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 14:40:58,777 [64] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:10:58.7770370Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 14:40:58,777 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:10:58.7771970Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 14:40:58,777 [70] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 14:40:58,777 [64] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:40:58,777 [51] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:40:58,778 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:40:58,778 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 14:40:58,782 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:10:58.7826100Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 14:40:58,782 [70] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 14:40:58,784 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 14:40:58,800 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:40:58,808 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:10:58.8083370Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 14:40:58,808 [56] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 14:40:58,811 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 14:41:20,569 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:11:20.5692550Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 14:41:20,570 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 14:55:24,032 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:25:24.0324290Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 14:55:24,066 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 15:09:00,462 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:39:00.4623750Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 15:09:00,466 [24] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 15:09:00,495 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 15:09:15,357 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:39:15.3573690Z, Method: POST, Path: /api/v1/Users, User: Tony
2025-07-02 15:09:15,393 [24] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 15:09:15,562 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 15:09:15,584 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 15:09:15,586 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 15:09:15,595 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 15:09:15,597 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 15:09:15,599 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 15:09:15,600 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 15:09:15,601 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 15:09:15,603 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 15:09:15,605 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 15:09:15,606 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 15:09:15,608 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 15:09:15,609 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 15:09:15,610 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 15:09:15,641 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 15:21:15,956 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:15.9568220Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 15:21:15,962 [20] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 15:21:15,991 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 15:21:18,947 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:18.9477910Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 15:21:18,948 [24] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 15:21:18,952 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 15:21:19,297 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:19.2972330Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 15:21:19,297 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 15:21:19,299 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 15:21:29,960 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:29.9607010Z, Method: GET, Path: /api/v1/Users/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Tony
2025-07-02 15:21:29,980 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching user with ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 15:21:29,989 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 15:21:31,869 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:31.8690780Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 15:21:31,869 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 15:21:31,871 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 15:21:36,708 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:36.7084360Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 15:21:36,708 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 15:21:36,715 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 15:21:37,949 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:37.9495110Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 15:21:37,950 [24] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 15:21:37,952 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 15:21:38,662 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:38.6622080Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 15:21:38,663 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 15:21:38,663 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:38.6634310Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 15:21:38,665 [24] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 15:21:38,666 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:38.6661120Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 15:21:38,666 [7] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 15:21:38,667 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 15:21:38,682 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 15:21:38,685 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 15:21:39,227 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:39.2272650Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 15:21:39,227 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 15:21:39,231 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 15:21:40,080 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:40.0801480Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 15:21:40,080 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 15:21:40,083 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 15:21:40,824 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:40.8242590Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 15:21:40,825 [73] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:40.8250970Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 15:21:40,825 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 15:21:40,826 [73] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 15:21:40,828 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:40.8280370Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 15:21:40,828 [7] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 15:21:40,836 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 15:21:40,839 [73] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:40.8397540Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 15:21:40,840 [73] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 15:21:40,865 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 15:21:40,866 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 15:21:40,866 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 15:21:40,872 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:51:40.8720980Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 15:21:40,872 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 15:21:40,923 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 15:22:24,203 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:52:24.2037150Z, Method: GET, Path: /api/v1/auth/me, User: Tony
2025-07-02 15:22:24,214 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 15:22:24,215 [9] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-02 15:22:36,897 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:52:36.8976020Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 15:22:36,898 [72] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:52:36.8982740Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 15:22:36,898 [73] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:52:36.8987350Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 15:22:36,899 [72] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 15:22:36,899 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 15:22:36,899 [73] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 15:22:36,924 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 15:22:36,926 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 15:22:36,929 [74] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:52:36.9290310Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 15:22:36,929 [74] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 15:22:36,933 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 15:22:36,935 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T09:52:36.9359250Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 15:22:36,936 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 15:22:36,936 [72] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 15:22:36,943 [74] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 17:10:17,072 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:40:17.0724190Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 17:10:17,076 [44] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 17:10:17,115 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 17:10:17,984 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:40:17.9841970Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 17:10:17,984 [44] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 17:10:17,996 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 17:10:18,897 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:40:18.8972020Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 17:10:18,897 [42] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 17:10:18,899 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:40:18.8997590Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 17:10:18,899 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:40:18.8998860Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 17:10:18,900 [44] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 17:10:18,901 [40] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 17:10:18,902 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 17:10:18,915 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 17:10:18,929 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 17:10:19,666 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:40:19.6662650Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 17:10:19,666 [34] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 17:10:19,668 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 17:10:20,517 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:40:20.5179020Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 17:10:20,518 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 17:10:20,526 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 17:10:21,663 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:40:21.6630690Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 17:10:21,663 [44] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 17:10:21,665 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 17:10:28,226 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:40:28.2263600Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 17:10:28,231 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 17:14:51,542 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:44:51.5427610Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 17:14:51,545 [49] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 17:14:51,548 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 17:14:54,424 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:44:54.4242340Z, Method: GET, Path: /api/v1/Users/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Tony
2025-07-02 17:14:54,424 [44] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching user with ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718
2025-07-02 17:14:54,430 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 17:14:58,948 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:44:58.9483090Z, Method: PUT, Path: /api/v1/Users/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Tony
2025-07-02 17:14:58,976 [40] INFO  LeaveManagementSystem.Controllers.UsersController - Updating user with ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718
2025-07-02 17:14:58,984 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 17:14:58,994 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 17:14:59,016 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "Gender" = @p0
WHERE "Id" = @p1;
2025-07-02 17:14:59,042 [44] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (22ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 17:15:04,884 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:45:04.8845130Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 17:15:04,900 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:45:04.9008740Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 17:15:04,901 [49] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 17:15:04,901 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 17:15:04,930 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 17:15:08,229 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:45:08.2292440Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 17:15:08,229 [48] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 17:15:08,234 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 17:16:57,079 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:46:57.0789800Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 17:16:57,079 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:46:57.0789950Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 17:16:57,081 [48] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 17:16:57,131 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 17:16:57,131 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 17:16:58,008 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:46:58.0084110Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 17:16:58,008 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:46:58.0088450Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 17:16:58,008 [51] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 17:16:58,009 [50] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 17:16:58,009 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:46:58.0097120Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 17:16:58,009 [44] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 17:16:58,021 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 17:16:58,022 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 17:16:58,024 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:46:58.0244960Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 17:16:58,024 [55] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 17:16:58,026 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 17:16:58,034 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 17:16:58,037 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:46:58.0373920Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 17:16:58,037 [48] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 17:16:58,050 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 17:17:13,331 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:47:13.3310480Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 17:17:13,336 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 17:18:12,857 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:48:12.8570000Z, Method: GET, Path: /api/v1/auth/me, User: Tony
2025-07-02 17:18:12,864 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 17:18:12,865 [51] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-02 17:18:49,582 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:48:49.5829490Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 17:18:49,582 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:48:49.5829060Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 17:18:49,583 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:48:49.5829290Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 17:18:49,585 [55] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 17:18:49,585 [51] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 17:18:49,585 [50] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 17:18:49,596 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 17:18:49,604 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 17:18:49,607 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:48:49.6071320Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 17:18:49,607 [51] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 17:18:49,609 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 17:18:49,612 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 17:18:49,614 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:48:49.6143360Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 17:18:49,614 [53] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 17:18:49,618 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 17:21:30,622 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:51:30.6224760Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 17:21:30,625 [50] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 17:21:30,680 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 17:21:44,892 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:51:44.8926730Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 17:21:44,893 [54] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 17:21:44,916 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 17:21:51,730 [68] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:51:51.7299870Z, Method: GET, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 17:21:51,732 [68] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 17:21:51,744 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 17:21:51,749 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:51:51.7494800Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 17:21:51,749 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:51:51.7496410Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/dac2458b-31e3-462d-9f2c-874dd78ccefc, User: Tony
2025-07-02 17:21:51,750 [56] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: dac2458b-31e3-462d-9f2c-874dd78ccefc
2025-07-02 17:21:51,751 [50] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 17:21:51,767 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 17:21:51,779 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 17:21:51,780 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 17:21:51,781 [55] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 17:22:06,677 [59] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:06.6774510Z, Method: POST, Path: /api/v1/leave-attachments, User: Tony
2025-07-02 17:22:06,736 [60] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Creating new leave attachment
2025-07-02 17:22:06,766 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Binary), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveAttachments" ("Id", "DeletedAt", "FileContent", "FileName", "IsDeleted", "LeaveRequestId", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-02 17:22:06,785 [59] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 17:22:08,751 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:08.7513410Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 17:22:08,751 [56] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 17:22:08,759 [60] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 17:22:08,761 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 17:22:11,679 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:11.6792670Z, Method: GET, Path: /api/v1/leave-attachments/146f1f8e-4598-4c63-9ef2-fa726a9aa730, User: Anonymous
2025-07-02 17:22:11,685 [56] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachment with ID: 146f1f8e-4598-4c63-9ef2-fa726a9aa730
2025-07-02 17:22:11,707 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 17:22:11,779 [60] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:11.7796020Z, Method: GET, Path: /favicon.ico, User: Anonymous
2025-07-02 17:22:17,531 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:17.5310430Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 17:22:17,531 [59] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:17.5310710Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 17:22:17,531 [56] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 17:22:17,531 [59] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 17:22:17,532 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:17.5324930Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 17:22:17,532 [50] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 17:22:17,534 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 17:22:17,551 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 17:22:17,557 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 17:22:18,787 [59] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:18.7876830Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 17:22:18,788 [59] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 17:22:18,792 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 17:22:21,039 [68] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:21.0398950Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 17:22:21,039 [59] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:21.0399260Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 17:22:21,040 [60] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:21.0400200Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 17:22:21,040 [59] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 17:22:21,040 [68] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 17:22:21,040 [60] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 17:22:21,049 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 17:22:21,049 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 17:22:21,049 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 17:22:22,537 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:22.5377130Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 17:22:22,538 [54] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 17:22:22,544 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 17:22:24,739 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:24.7394350Z, Method: GET, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 17:22:24,740 [53] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 17:22:24,744 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 17:22:24,750 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:24.7501640Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 17:22:24,750 [54] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 17:22:24,750 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:24.7506670Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/dac2458b-31e3-462d-9f2c-874dd78ccefc, User: Tony
2025-07-02 17:22:24,751 [56] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: dac2458b-31e3-462d-9f2c-874dd78ccefc
2025-07-02 17:22:24,754 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 17:22:24,757 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 17:22:24,759 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 17:22:29,546 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:29.5469320Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 17:22:29,557 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 17:22:29,557 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:29.5578970Z, Method: GET, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 17:22:29,558 [55] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 17:22:29,569 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 17:22:29,574 [68] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:29.5747560Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 17:22:29,574 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:52:29.5748980Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/dac2458b-31e3-462d-9f2c-874dd78ccefc, User: Tony
2025-07-02 17:22:29,575 [68] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 17:22:29,575 [50] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: dac2458b-31e3-462d-9f2c-874dd78ccefc
2025-07-02 17:22:29,579 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 17:22:29,580 [59] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 17:22:29,582 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 17:26:32,771 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:56:32.7718220Z, Method: GET, Path: /api/notifications/unread/a9878ee5-34ba-4ec4-8a5c-4466310b9718, User: Zoro
2025-07-02 17:26:32,940 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:56:32.9404900Z, Method: GET, Path: /api/v1/leave-requests, User: Zoro
2025-07-02 17:26:32,942 [54] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 17:26:33,377 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 17:26:33,431 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (111ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 17:26:34,868 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:56:34.8682470Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 17:26:34,873 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 17:26:34,933 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:56:34.9330800Z, Method: GET, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 17:26:34,933 [54] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 17:26:34,948 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 17:26:34,954 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:56:34.9549770Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 17:26:34,955 [49] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 17:26:34,956 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T11:56:34.9568070Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/dac2458b-31e3-462d-9f2c-874dd78ccefc, User: Tony
2025-07-02 17:26:34,957 [49] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: dac2458b-31e3-462d-9f2c-874dd78ccefc
2025-07-02 17:26:34,964 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 17:26:34,965 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 17:26:34,988 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 18:35:21,639 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-02 18:35:21,893 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-02 18:35:21,894 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-02 18:35:21,894 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-02 18:35:21,894 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-02 18:35:21,989 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:36:24,365 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:06:24.3649460Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 18:36:24,387 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 18:37:13,964 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:13.9641310Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 18:37:14,063 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:37:14,280 [9] INFO  LeaveManagementSystem.Services.AuthenticationService - User tony@example.com logged in successfully
2025-07-02 18:37:14,283 [9] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User tony@example.com logged in successfully.
2025-07-02 18:37:14,311 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:14.3112980Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:37:14,313 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:14.3130900Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:37:14,315 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:14.3158520Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:37:14,317 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:37:14,320 [19] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:37:14,322 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:37:14,323 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:37:14,329 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:37:14,338 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:37:14,347 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:14.3470650Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:37:14,347 [14] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:37:14,351 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:37:14,356 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:14.3560250Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:37:14,356 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:37:14,362 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:37:25,054 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:25.0547620Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:37:25,057 [19] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:37:25,059 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:37:34,346 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:34.3462940Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:37:34,347 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:34.3475190Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:37:34,347 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:34.3476520Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:37:34,348 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:37:34,348 [19] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:37:34,352 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:37:34,352 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:37:34,353 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:37:34,355 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:34.3552110Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:37:34,355 [16] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:37:34,356 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:37:34,357 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:37:34,368 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:34.3689120Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:37:34,369 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:37:34,381 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:37:38,529 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:38.5292290Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:37:38,530 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:37:38,533 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:37:49,010 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:49.0108330Z, Method: GET, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 18:37:49,017 [19] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 18:37:49,067 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 18:37:49,074 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:49.0746860Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 18:37:49,075 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:07:49.0750430Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/dac2458b-31e3-462d-9f2c-874dd78ccefc, User: Tony
2025-07-02 18:37:49,078 [19] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 18:37:49,078 [21] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: dac2458b-31e3-462d-9f2c-874dd78ccefc
2025-07-02 18:37:49,088 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 18:37:49,094 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 18:37:49,094 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 18:39:21,963 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:09:21.9631870Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:39:21,963 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:09:21.9633340Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 18:39:21,963 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:09:21.9639660Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:39:21,964 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:39:21,966 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:39:21,967 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:39:21,969 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:39:21,976 [19] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 18:39:21,982 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 18:39:28,927 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:09:28.9278770Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:39:28,928 [19] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:39:28,930 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:39:38,094 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:09:38.0940230Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:39:38,094 [23] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:39:38,100 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:39:59,844 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:09:59.8442910Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:39:59,846 [23] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:39:59,848 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:40:09,355 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:10:09.3558010Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:40:09,356 [24] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:40:09,358 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:42:39,907 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:12:39.9078100Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 18:42:39,926 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 18:42:39,929 [23] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:12:39.9293970Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:42:39,929 [23] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:42:39,942 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:47:08,684 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:17:08.6849460Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 18:47:08,687 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 18:47:08,702 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:17:08.7027200Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:47:08,703 [30] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:47:08,703 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:51:09,025 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:09.0259140Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:51:09,025 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:09.0259130Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:51:09,026 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:09.0259880Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:51:09,026 [38] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:51:09,026 [29] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:51:09,026 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:51:09,032 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:51:09,037 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:09.0371060Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:51:09,037 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:51:09,039 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:51:09,048 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:51:09,053 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:51:09,061 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:09.0616210Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:51:09,061 [36] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:51:09,067 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:51:11,035 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:11.0357550Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:51:11,036 [36] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:51:11,048 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:51:17,402 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:17.4029720Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:51:17,403 [36] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:51:17,403 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:17.4036700Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:51:17,403 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:17.4037410Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 18:51:17,404 [34] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:51:17,404 [38] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 18:51:17,405 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:51:17,405 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:51:17,419 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 18:51:27,052 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:27.0529790Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:51:27,053 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:27.0532960Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:51:27,053 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:27.0534070Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:51:27,053 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:51:27,053 [36] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:51:27,053 [34] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:51:27,055 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:51:27,055 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:51:27,058 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:27.0585590Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:51:27,058 [36] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:51:27,060 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:51:27,062 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:51:27,083 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:27.0832040Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:51:27,086 [36] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:51:27,093 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:51:27,686 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:27.6860790Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:51:27,686 [34] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:51:27,688 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:51:28,250 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:28.2501850Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:51:28,250 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:51:28,254 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:51:28,798 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:28.7986710Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:51:28,799 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:28.7992270Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 18:51:28,799 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:51:28,799 [39] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 18:51:28,799 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:28.7996850Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:51:28,799 [29] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:51:28,800 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:51:28,800 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:51:28,803 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 18:51:29,777 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:29.7778190Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:51:29,778 [36] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:51:29,779 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:51:30,250 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:30.2505310Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:51:30,251 [36] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:51:30,255 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:51:31,948 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:31.9480000Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:51:31,948 [39] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:51:31,951 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:51:58,597 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:21:58.5971650Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:51:58,598 [37] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:51:58,599 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:52:00,812 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:00.8126400Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:52:00,813 [30] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:52:00,815 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:52:03,362 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:03.3627020Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:52:03,363 [37] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:52:03,377 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:52:03,914 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:03.9143530Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:52:03,914 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:52:03,916 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:52:04,414 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:04.4142380Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:52:04,414 [36] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:52:04,415 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:04.4151900Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 18:52:04,415 [30] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 18:52:04,415 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:04.4157570Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:52:04,416 [36] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:52:04,416 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:52:04,417 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:52:04,419 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 18:52:06,762 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:06.7624680Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:52:06,763 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:52:06,764 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:52:15,917 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:15.9171880Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 18:52:15,917 [30] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 18:52:15,918 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:15.9185380Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:52:15,919 [36] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:52:15,919 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:15.9199290Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:52:15,920 [30] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:52:15,923 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:52:15,923 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:52:15,927 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 18:52:20,865 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:20.8656460Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:52:20,866 [37] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:52:20,869 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:52:21,513 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:21.5131830Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:52:21,513 [31] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:52:21,515 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:52:22,850 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:22.8508050Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:52:22,851 [31] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:52:22,851 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:22.8516840Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:52:22,851 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:22.8517770Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 18:52:22,851 [30] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:52:22,852 [37] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:52:22,853 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:52:22,853 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:52:22,857 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:52:22,858 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:22.8581100Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 18:52:22,858 [32] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:52:22,859 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:52:22,873 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:22.8739500Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 18:52:22,874 [33] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:52:22,877 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:52:42,894 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:42.8948490Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 18:52:42,898 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:52:43,077 [31] INFO  LeaveManagementSystem.Services.AuthenticationService - User vasu@example.com logged in successfully
2025-07-02 18:52:43,077 [31] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User vasu@example.com logged in successfully.
2025-07-02 18:52:43,093 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:43.0935640Z, Method: GET, Path: /api/v1/Users, User: Vasu
2025-07-02 18:52:43,093 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:43.0936710Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 18:52:43,093 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:43.0937850Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 18:52:43,093 [32] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:52:43,093 [28] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:52:43,093 [33] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:52:43,094 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:52:43,094 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:52:43,096 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:52:43,096 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:43.0968550Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 18:52:43,096 [31] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:52:43,103 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:52:43,109 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:22:43.1090630Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 18:52:43,109 [28] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:52:43,113 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:53:16,933 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:16.9338110Z, Method: GET, Path: /api/v1/auth/me, User: Vasu
2025-07-02 18:53:16,945 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:53:16,946 [28] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-02 18:53:23,114 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:23.1140190Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 18:53:23,114 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:23.1140190Z, Method: GET, Path: /api/v1/Users, User: Vasu
2025-07-02 18:53:23,114 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:23.1140890Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 18:53:23,114 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:53:23,114 [28] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:53:23,114 [20] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 18:53:23,116 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 18:53:23,116 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:53:23,117 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:53:23,119 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:23.1190600Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 18:53:23,119 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:53:23,120 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:53:23,126 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:23.1266610Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 18:53:23,126 [22] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:53:23,129 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:53:40,454 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:40.4548050Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 18:53:40,455 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:53:40,456 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:53:41,611 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:41.6115550Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 18:53:41,612 [22] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 18:53:41,615 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 18:53:42,162 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:42.1624170Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 18:53:42,162 [22] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:53:42,163 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:42.1630750Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 18:53:42,163 [21] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 18:53:42,164 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:53:42,168 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 18:53:42,780 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:42.7804340Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 18:53:42,781 [28] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:53:42,782 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:53:44,130 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:44.1300780Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 18:53:44,130 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:44.1301710Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 18:53:44,130 [22] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 18:53:44,130 [27] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:53:44,131 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:53:44,133 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 18:53:45,330 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:23:45.3306570Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 18:53:45,331 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:53:45,332 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 18:59:17,825 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:29:17.8255230Z, Method: GET, Path: /api/notifications/unread/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 18:59:17,835 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:29:17.8359670Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 18:59:17,836 [11] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 18:59:17,846 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 18:59:17,849 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:00:01,454 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:30:01.4540450Z, Method: GET, Path: /api/notifications/unread/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 19:00:01,455 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 19:00:01,460 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:30:01.4600970Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 19:00:01,460 [13] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:00:01,461 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:03:41,365 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:33:41.3650340Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 19:03:41,366 [46] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:03:41,366 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:33:41.3664100Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 19:03:41,366 [49] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 19:03:41,369 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:03:41,373 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:03:43,297 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:33:43.2975480Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 19:03:43,298 [50] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:03:43,315 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:03:55,298 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:33:55.2986890Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 19:03:55,299 [49] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:03:55,300 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:01,338 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:01.3380430Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 19:04:01,338 [51] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:04:01,339 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:01.3396730Z, Method: GET, Path: /api/v1/Users, User: Vasu
2025-07-02 19:04:01,339 [49] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 19:04:01,340 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:01.3408970Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 19:04:01,341 [50] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:01,345 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:04:01,349 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:04:01,380 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:01,382 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:01.3829120Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 19:04:01,383 [53] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:01,387 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:01,395 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:01.3958630Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 19:04:01,396 [46] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:04:01,398 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:04:05,466 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:05.4665460Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 19:04:05,466 [53] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:05,468 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:06,978 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:06.9787000Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 19:04:06,979 [49] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:04:06,984 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:04:08,294 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:08.2949060Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 19:04:08,294 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:08.2949350Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 19:04:08,295 [53] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 19:04:08,295 [47] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:08,297 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:08,301 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:04:09,011 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:09.0112050Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 19:04:09,011 [50] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:09,013 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:10,378 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:10.3789570Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 19:04:10,379 [51] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:04:10,383 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:04:11,444 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:11.4448650Z, Method: GET, Path: /api/v1/leave-balance/user/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069, User: Vasu
2025-07-02 19:04:11,444 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:11.4449560Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 19:04:11,445 [44] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 8c321ea8-a7d3-4f64-b6d8-9da1ebbff069
2025-07-02 19:04:11,445 [50] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:11,446 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:11,447 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:04:12,177 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:12.1773840Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 19:04:12,177 [50] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:12,178 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:13,196 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:13.1961010Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 19:04:13,196 [50] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:13,198 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:13.1982530Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 19:04:13,198 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:13.1984080Z, Method: GET, Path: /api/v1/Users, User: Vasu
2025-07-02 19:04:13,198 [47] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:04:13,198 [50] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 19:04:13,199 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:13,200 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:04:13,203 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:13.2035910Z, Method: GET, Path: /api/v1/leavetypes, User: Vasu
2025-07-02 19:04:13,203 [44] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:04:13,203 [46] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:13,205 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:13,220 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:13.2209110Z, Method: GET, Path: /api/v1/leave-requests, User: Vasu
2025-07-02 19:04:13,221 [44] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:04:13,223 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:04:48,089 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:48.0898810Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-02 19:04:48,092 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:04:48,271 [48] INFO  LeaveManagementSystem.Services.AuthenticationService - User tony@example.com logged in successfully
2025-07-02 19:04:48,271 [48] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User tony@example.com logged in successfully.
2025-07-02 19:04:48,287 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:48.2873890Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:04:48,287 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:48.2873900Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 19:04:48,287 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:48.2873940Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:04:48,287 [50] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 19:04:48,287 [43] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:04:48,287 [51] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:48,289 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:04:48,304 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:48,307 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:48.3072400Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:04:48,307 [48] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:48,308 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:48,310 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:48.3106000Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:04:48,310 [43] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:04:48,311 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:04:48,320 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:04:55,569 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:55.5698650Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:04:55,570 [50] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:55,571 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:56,877 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:56.8778530Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:04:56,878 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:56.8781640Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 19:04:56,878 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:56.8782660Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:04:56,878 [43] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:56,878 [50] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:04:56,878 [51] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 19:04:56,879 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:04:56,880 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:56,882 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:04:56,883 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:56.8834730Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:04:56,883 [43] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:04:56,885 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:04:56,898 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:34:56.8988750Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:04:56,899 [51] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:04:56,901 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:05:07,894 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:07.8944460Z, Method: GET, Path: /api/v1/auth/me, User: Tony
2025-07-02 19:05:07,896 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:05:07,896 [50] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-02 19:05:10,335 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:10.3351050Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:05:10,335 [43] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:05:10,342 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:10.3426270Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 19:05:10,343 [43] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 19:05:10,343 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:05:10,345 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:05:10,347 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:10.3471370Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:05:10,347 [50] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:05:10,349 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:05:10,351 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:10.3515210Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:05:10,351 [48] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:05:10,352 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:10.3527300Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:05:10,352 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:05:10,353 [49] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:05:10,355 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:05:17,822 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:17.8222790Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 19:05:17,824 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 19:05:17,836 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:17.8361230Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 19:05:17,836 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:17.8361340Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:05:17,836 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:17.8363270Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:05:17,836 [48] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 19:05:17,836 [41] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:05:17,836 [51] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:05:17,837 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:05:17,837 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:05:17,839 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:17.8394560Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:05:17,839 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:05:17,840 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:05:17,841 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:05:17,861 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:17.8617400Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:05:17,861 [51] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:05:17,864 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:05:25,604 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:35:25.6047100Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:05:25,605 [51] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:05:25,606 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:06:56,357 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:36:56.3574080Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:06:56,357 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:36:56.3579620Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 19:06:56,358 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:36:56.3584170Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:06:56,359 [42] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 19:06:56,359 [53] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:06:56,359 [51] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:06:56,361 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:06:56,362 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:06:56,367 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:06:56,368 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:36:56.3682980Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:06:56,368 [51] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:06:56,369 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:06:56,379 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:36:56.3795260Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:06:56,380 [53] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:06:56,383 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:07:29,375 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:37:29.3752490Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 19:07:29,385 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 19:13:09,057 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:43:09.0572210Z, Method: GET, Path: /api/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 19:13:09,082 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 19:15:36,279 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:45:36.2793080Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:15:36,279 [19] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:15:36,284 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:15:57,514 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:45:57.5142010Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:15:57,515 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:15:57,523 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:16:02,892 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:46:02.8921590Z, Method: GET, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 19:16:02,892 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 19:16:02,900 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 19:16:02,906 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:46:02.9064280Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 19:16:02,906 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:46:02.9064630Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/dac2458b-31e3-462d-9f2c-874dd78ccefc, User: Tony
2025-07-02 19:16:02,906 [14] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: dac2458b-31e3-462d-9f2c-874dd78ccefc
2025-07-02 19:16:02,909 [19] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 19:16:02,915 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:16:02,936 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 19:16:02,938 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 19:16:07,079 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:46:07.0799310Z, Method: GET, Path: /api/v1/leave-attachments/146f1f8e-4598-4c63-9ef2-fa726a9aa730, User: Anonymous
2025-07-02 19:16:07,094 [19] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachment with ID: 146f1f8e-4598-4c63-9ef2-fa726a9aa730
2025-07-02 19:16:07,112 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 19:16:07,499 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:46:07.4996470Z, Method: GET, Path: /favicon.ico, User: Anonymous
2025-07-02 19:16:18,322 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:46:18.3221170Z, Method: DELETE, Path: /api/v1/leave-attachments/146f1f8e-4598-4c63-9ef2-fa726a9aa730, User: Tony
2025-07-02 19:16:18,329 [24] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Deleting leave attachment with ID: 146f1f8e-4598-4c63-9ef2-fa726a9aa730
2025-07-02 19:16:18,337 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-02 19:16:18,431 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Binary), @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveAttachments" SET "DeletedAt" = @p0, "FileContent" = @p1, "FileName" = @p2, "IsDeleted" = @p3, "LeaveRequestId" = @p4, "UploadedAt" = @p5
WHERE "Id" = @p6;
2025-07-02 19:16:18,466 [21] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 19:16:32,569 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:46:32.5692530Z, Method: POST, Path: /api/v1/leave-attachments, User: Tony
2025-07-02 19:16:32,606 [19] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Creating new leave attachment
2025-07-02 19:16:32,621 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Binary), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveAttachments" ("Id", "DeletedAt", "FileContent", "FileName", "IsDeleted", "LeaveRequestId", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-02 19:16:32,624 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 19:16:33,836 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:46:33.8364010Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 19:16:33,836 [22] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 19:16:33,840 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 19:16:33,843 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 19:16:45,027 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:46:45.0276130Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 19:16:45,028 [24] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 19:16:45,031 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:46:45.0315220Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:16:45,031 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:46:45.0315300Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 19:16:45,032 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:16:45,032 [27] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 19:16:45,038 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:16:45,055 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:16:45,056 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:17:04,601 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:47:04.6016700Z, Method: GET, Path: /api/v1/leave-balance/user/5bfcb31a-61ef-44d9-bf86-a6bc60a381b3, User: Tony
2025-07-02 19:17:04,602 [21] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 5bfcb31a-61ef-44d9-bf86-a6bc60a381b3
2025-07-02 19:17:04,604 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:17:13,203 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:47:13.2033680Z, Method: POST, Path: /api/v1/leave-balance/initialize/user/58346c21-7932-48a9-9838-54ee24da72f7, User: Tony
2025-07-02 19:17:13,210 [19] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Initializing leave balances for user ID: 58346c21-7932-48a9-9838-54ee24da72f7
2025-07-02 19:17:13,232 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 19:17:30,351 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:47:30.3517890Z, Method: POST, Path: /api/v1/leave-balance/reset/user/58346c21-7932-48a9-9838-54ee24da72f7, User: Tony
2025-07-02 19:17:30,357 [14] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Resetting leave balances for user ID: 58346c21-7932-48a9-9838-54ee24da72f7
2025-07-02 19:17:30,364 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 19:17:30,380 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 19:17:30,395 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 19:17:30,398 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 19:17:30,400 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 19:17:30,403 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 19:17:30,406 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 19:17:30,409 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 19:17:30,410 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 19:17:30,413 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 19:17:30,415 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 19:17:37,352 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:47:37.3524640Z, Method: POST, Path: /api/v1/leave-balance/deduct, User: Tony
2025-07-02 19:17:37,360 [14] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Deducting 1 days from leave balance for user ID: 58346c21-7932-48a9-9838-54ee24da72f7 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 19:17:37,363 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 19:17:37,367 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-02 19:17:37,373 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
2025-07-02 19:17:44,400 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:47:44.4008110Z, Method: GET, Path: /api/v1/leave-balance/user/58346c21-7932-48a9-9838-54ee24da72f7, User: Tony
2025-07-02 19:17:44,401 [19] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 58346c21-7932-48a9-9838-54ee24da72f7
2025-07-02 19:17:44,404 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:17:58,867 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:47:58.8672380Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:17:58,867 [31] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:17:58,869 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:18:31,158 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:48:31.1587950Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:18:31,159 [14] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:18:31,164 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:18:41,591 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:48:41.5919360Z, Method: GET, Path: /api/v1/leave-requests/5ac54a8d-2216-4932-a793-ede2ae345f3a, User: Tony
2025-07-02 19:18:41,592 [28] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 5ac54a8d-2216-4932-a793-ede2ae345f3a
2025-07-02 19:18:41,597 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 19:18:41,605 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:48:41.6056860Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/5ac54a8d-2216-4932-a793-ede2ae345f3a, User: Tony
2025-07-02 19:18:41,606 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:48:41.6060670Z, Method: GET, Path: /api/v1/leave-balance/user/a9878ee5-34ba-4ec4-8a5c-4466310b9718/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-02 19:18:41,606 [33] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: a9878ee5-34ba-4ec4-8a5c-4466310b9718 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-02 19:18:41,606 [14] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 5ac54a8d-2216-4932-a793-ede2ae345f3a
2025-07-02 19:18:41,609 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:18:41,609 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 19:18:41,611 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 19:18:41,613 [33] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 5ac54a8d-2216-4932-a793-ede2ae345f3a
2025-07-02 19:18:51,029 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:48:51.0298970Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:18:51,030 [33] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:18:51,035 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:19:08,726 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:49:08.7260900Z, Method: GET, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 19:19:08,726 [19] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 19:19:08,732 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 19:19:08,738 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:49:08.7387180Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-02 19:19:08,738 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:49:08.7387390Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/dac2458b-31e3-462d-9f2c-874dd78ccefc, User: Tony
2025-07-02 19:19:08,739 [14] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-02 19:19:08,739 [20] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: dac2458b-31e3-462d-9f2c-874dd78ccefc
2025-07-02 19:19:08,741 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:19:08,742 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 19:19:08,744 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-02 19:19:10,501 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:49:10.5013170Z, Method: PUT, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09/status, User: Tony
2025-07-02 19:19:10,514 [19] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09 by approver ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 19:19:10,522 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 19:19:10,541 [28] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error updating leave request status for ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
System.Exception: You cannot approve or reject your own leave request.
 ---> System.InvalidOperationException: You cannot approve or reject your own leave request.
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 317
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 354
   at LeaveManagementSystem.Controllers.LeaveRequestController.UpdateStatus(Guid id, UpdateLeaveRequestStatusDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 185
2025-07-02 19:19:13,998 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:49:13.9985080Z, Method: PUT, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09/status, User: Tony
2025-07-02 19:19:13,999 [19] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09 by approver ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-02 19:19:14,004 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-02 19:19:14,007 [14] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error updating leave request status for ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
System.Exception: You cannot approve or reject your own leave request.
 ---> System.InvalidOperationException: You cannot approve or reject your own leave request.
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 317
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.UpdateStatusAsync(Guid id, String status, Guid approverId) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 354
   at LeaveManagementSystem.Controllers.LeaveRequestController.UpdateStatus(Guid id, UpdateLeaveRequestStatusDto dto) in /Users/presidio/Desktop/LeaveManagementSystem/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 185
2025-07-02 19:19:17,124 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:49:17.1241070Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 19:19:17,124 [14] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 19:19:17,125 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:19:32,467 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:49:32.4676010Z, Method: GET, Path: /api/v1/Users/727967f5-c2dd-44bc-81a4-32bc63da4993, User: Tony
2025-07-02 19:19:32,472 [20] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching user with ID: 727967f5-c2dd-44bc-81a4-32bc63da4993
2025-07-02 19:19:32,476 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:19:36,018 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:49:36.0184490Z, Method: PUT, Path: /api/v1/Users/727967f5-c2dd-44bc-81a4-32bc63da4993, User: Tony
2025-07-02 19:19:36,032 [27] INFO  LeaveManagementSystem.Controllers.UsersController - Updating user with ID: 727967f5-c2dd-44bc-81a4-32bc63da4993
2025-07-02 19:19:36,036 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:19:36,041 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:19:36,052 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "Email" = @p0
WHERE "Id" = @p1;
2025-07-02 19:19:36,056 [28] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 19:19:39,960 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:49:39.9600450Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-02 19:19:39,967 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-02 19:19:39,972 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:49:39.9723080Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 19:19:39,972 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 19:19:39,999 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:19:44,954 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:49:44.9548660Z, Method: DELETE, Path: /api/v1/Users/727967f5-c2dd-44bc-81a4-32bc63da4993, User: Tony
2025-07-02 19:19:44,959 [27] INFO  LeaveManagementSystem.Controllers.UsersController - Deleting user with ID: 727967f5-c2dd-44bc-81a4-32bc63da4993
2025-07-02 19:19:44,964 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:19:44,970 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id", t0."Id"
2025-07-02 19:19:44,974 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p11='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "DeletedAt" = @p2, "Email" = @p3, "Gender" = @p4, "IsActive" = @p5, "IsDeleted" = @p6, "LastLoginAt" = @p7, "PasswordHash" = @p8, "Role" = @p9, "Username" = @p10
WHERE "Id" = @p11;
2025-07-02 19:19:44,983 [27] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 19:19:44,994 [28] ERROR Microsoft.AspNetCore.Server.Kestrel - Connection id "0HNDPD4VLNR7R", Request id "0HNDPD4VLNR7R:00000004": An unhandled exception was thrown by the application.
Npgsql.NpgsqlException (0x80004005): Received backend message BindComplete while expecting ReadyForQueryMessage. Please file a bug.
   at Npgsql.Util.Statics.ThrowIfMsgWrongType[T](IBackendMessage msg, NpgsqlConnector connector)
   at Npgsql.Util.Statics.Expect[T](IBackendMessage msg, NpgsqlConnector connector)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.Consume(Boolean async, Exception firstException)
   at Npgsql.NpgsqlDataReader.Consume(Boolean async, Exception firstException)
   at Npgsql.NpgsqlDataReader.Close(Boolean connectionClosing, Boolean async, Boolean isDisposing)
   at Npgsql.Internal.NpgsqlConnector.CloseOngoingOperations(Boolean async)
   at Npgsql.NpgsqlConnection.CloseAsync(Boolean async)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.ResetStateAsync(Boolean disposeDbConnection)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.EntityFrameworkCore.DbContext.DisposeAsync()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.<DisposeAsync>g__Await|22_0(Int32 i, ValueTask vt, List`1 toDispose)
   at Microsoft.AspNetCore.Http.Features.RequestServicesFeature.<DisposeAsync>g__Awaited|9_0(RequestServicesFeature servicesFeature, ValueTask vt)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.<FireOnCompleted>g__ProcessEvents|242_0(HttpProtocol protocol, Stack`1 events)
2025-07-02 19:19:44,996 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:49:44.9967400Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 19:19:44,997 [27] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 19:19:44,997 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:20:04,487 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:50:04.4879410Z, Method: POST, Path: /api/v1/Users, User: Tony
2025-07-02 19:20:04,498 [20] INFO  LeaveManagementSystem.Controllers.UsersController - Creating new user.
2025-07-02 19:20:04,680 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?'], CommandType='Text', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "CreatedBy", "DeletedAt", "Email", "Gender", "IsActive", "IsDeleted", "LastLoginAt", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-02 19:20:04,682 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-02 19:20:04,683 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:20:04,690 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 19:20:04,691 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 19:20:04,692 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 19:20:04,693 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 19:20:04,694 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 19:20:04,695 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 19:20:04,696 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 19:20:04,696 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 19:20:04,697 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 19:20:04,698 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 19:20:04,700 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveBalances" ("Id", "LeaveTypeId", "TotalLeaves", "UsedLeaves", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-02 19:20:04,702 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-02 19:20:51,518 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:50:51.5186710Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:20:51,518 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:50:51.5187350Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-02 19:20:51,518 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:50:51.5186770Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:20:51,520 [28] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:20:51,520 [32] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-02 19:20:51,520 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:20:51,524 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:20:51,531 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:50:51.5319890Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-02 19:20:51,532 [22] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-02 19:20:51,533 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-02 19:20:51,550 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-02T13:50:51.5508090Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-02 19:20:51,551 [27] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-02 19:20:51,564 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-02 19:20:51,566 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-02 19:20:51,575 [32] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
