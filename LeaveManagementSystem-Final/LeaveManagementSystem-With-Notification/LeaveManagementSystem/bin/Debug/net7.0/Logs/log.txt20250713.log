2025-07-13 09:59:14,751 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 09:59:15,005 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5001
2025-07-13 09:59:15,006 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 09:59:15,006 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 09:59:15,006 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem copy/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 09:59:15,072 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 13:58:24,165 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-13 13:58:29,435 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 13:58:29,700 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5001
2025-07-13 13:58:29,701 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 13:58:29,701 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 13:58:29,701 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem copy/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 13:58:29,753 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 13:58:37,266 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-13 13:58:42,089 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 13:58:42,335 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5001
2025-07-13 13:58:42,335 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 13:58:42,336 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 13:58:42,336 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem copy/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 13:58:42,389 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 13:59:08,526 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-13 13:59:38,689 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 13:59:38,927 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5001
2025-07-13 13:59:38,928 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 13:59:38,928 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 13:59:38,928 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem copy/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 13:59:38,982 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 14:01:11,927 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-13 14:01:18,889 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 14:01:19,137 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5001
2025-07-13 14:01:19,137 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 14:01:19,138 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 14:01:19,138 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem copy/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 14:01:19,195 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 14:14:14,914 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:44:14.9143640Z, Method: GET, Path: /api/v1/Users/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/detail, User: Tony
2025-07-13 14:14:14,999 [3] WARN  Microsoft.EntityFrameworkCore.Query - Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-13 14:14:15,042 [23] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:14:22,989 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:44:22.9898380Z, Method: GET, Path: /api/v1/Users/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/detail, User: Tony
2025-07-13 14:14:23,017 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:14:28,148 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:44:28.1480880Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:14:28,157 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:14:48,627 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:44:48.6271800Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:14:48,638 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:15:45,960 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:45:45.9601610Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:15:45,975 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:16:49,561 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:46:49.5611690Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:16:49,577 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:21:43,064 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:51:43.0633390Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:21:43,099 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:22:35,841 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:52:35.8416390Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:22:35,871 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:23:17,410 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:53:17.4097620Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:23:17,444 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:23:52,421 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:53:52.4210030Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:23:52,434 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:24:05,478 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:54:05.4782320Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:24:05,495 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:24:34,228 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:54:34.2288470Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:24:34,241 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:25:03,809 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T08:55:03.8097440Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:25:03,820 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:31:16,949 [32] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:01:16.9489010Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:31:17,012 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (35ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:33:49,690 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:03:49.6901180Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:33:49,704 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:36:44,502 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:06:44.5029560Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:36:44,545 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:40:16,383 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:10:16.3831840Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:40:16,395 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:42:54,169 [44] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:12:54.1691210Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:42:54,199 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:43:06,010 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:13:06.0104320Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:43:06,026 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:43:56,418 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:13:56.4181110Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:43:56,431 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:45:47,321 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:15:47.3215030Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:45:47,335 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:45:57,141 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:15:57.1418900Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:45:57,147 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:45:57,954 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:15:57.9549060Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:45:57,960 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:45:58,520 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:15:58.5202660Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:45:58,524 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:45:59,123 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:15:59.1231670Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:45:59,128 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:50:37,403 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:20:37.4036300Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:50:37,450 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:50:40,670 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:20:40.6708260Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:50:40,676 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:52:07,760 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:22:07.7607500Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:52:07,789 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:55:43,081 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:25:43.0807900Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:55:43,124 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 14:57:24,294 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:27:24.2942870Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 14:57:24,309 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 15:12:07,526 [62] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:42:07.5256960Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 15:12:07,567 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 15:12:20,846 [65] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:42:20.8462920Z, Method: GET, Path: /api/v1/Users/b9988376-e649-45a9-880b-ecce93da316b/detail, User: Tony
2025-07-13 15:12:20,850 [65] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 15:14:29,188 [68] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:44:29.1884850Z, Method: GET, Path: /api/v1/Users/b9988376-e649-45a9-880b-ecce93da316b/detail, User: Tony
2025-07-13 15:14:29,228 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (25ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 15:21:45,596 [74] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T09:51:45.5960360Z, Method: GET, Path: /api/v1/Users/b9988376-e649-45a9-880b-ecce93da316b/detail, User: Tony
2025-07-13 15:21:45,748 [75] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 15:30:18,052 [68] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T10:00:18.0526790Z, Method: GET, Path: /api/v1/Users/b9988376-e649-45a9-880b-ecce93da316b/detail, User: Tony
2025-07-13 15:30:18,080 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 15:30:29,821 [77] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T10:00:29.8216290Z, Method: GET, Path: /api/v1/Users/58346c21-7932-48a9-9838-54ee24da72f7/detail, User: Tony
2025-07-13 15:30:29,825 [76] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 15:30:34,821 [79] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T10:00:34.8218280Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 15:30:34,825 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 15:31:12,724 [78] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T10:01:12.7242150Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 15:31:12,735 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 15:31:26,631 [78] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T10:01:26.6315730Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 15:31:26,657 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 15:31:30,486 [68] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T10:01:30.4863550Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 15:31:30,493 [78] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 15:58:17,637 [74] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T10:28:17.6370670Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 15:58:17,717 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 16:02:25,941 [84] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T10:32:25.9413400Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 16:02:25,955 [73] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 16:09:25,312 [68] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T10:39:25.3122640Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 16:09:25,369 [77] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 16:16:13,648 [68] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T10:46:13.6488530Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 16:16:13,663 [68] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 17:01:12,810 [68] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T11:31:12.8107640Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 17:01:12,823 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 17:01:13,539 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T11:31:13.5393430Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 17:01:13,551 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 17:01:23,322 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T11:31:23.3223020Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 17:01:23,333 [70] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 17:01:26,303 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T11:31:26.3039610Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 17:01:26,341 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 17:01:27,144 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T11:31:27.1447000Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 17:01:27,152 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 17:26:20,423 [70] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T11:56:20.4234470Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 17:26:20,435 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 17:46:52,017 [69] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T12:16:52.0177170Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 17:46:52,124 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (62ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 18:10:56,718 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T12:40:56.7181680Z, Method: GET, Path: /api/v1/Users/5753e4a3-33ff-4bbd-91a6-d75639dd7201/detail, User: Tony
2025-07-13 18:10:56,744 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 18:11:01,563 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T12:41:01.5634530Z, Method: GET, Path: /api/v1/Users/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/detail, User: Tony
2025-07-13 18:11:01,567 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 18:15:06,680 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T12:45:06.6805960Z, Method: GET, Path: /api/v1/Users/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/detail, User: Tony
2025-07-13 18:15:06,690 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 18:26:56,716 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T12:56:56.7160360Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 18:26:56,721 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 18:27:16,898 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T12:57:16.8986560Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 18:27:16,923 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 18:28:00,213 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T12:58:00.2132440Z, Method: GET, Path: /api/v1/Users/58346c21-7932-48a9-9838-54ee24da72f7/detail, User: Tony
2025-07-13 18:28:00,218 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 18:35:29,530 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 18:35:29,795 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5001
2025-07-13 18:35:29,796 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 18:35:29,796 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 18:35:29,796 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem copy/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 18:35:29,852 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:40:14,465 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-13 18:40:22,374 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 18:42:24,832 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 18:42:25,092 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-13 18:42:25,093 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 18:42:25,093 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 18:42:25,093 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 18:42:25,140 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:43:32,023 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:13:32.0231690Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 18:43:32,066 [16] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 18:43:32,075 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 18:43:43,709 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:13:43.7093450Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 18:43:43,709 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:13:43.7096470Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 18:43:43,722 [15] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 18:43:43,784 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 18:43:43,788 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 18:44:10,201 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-13 18:44:13,438 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 18:44:13,677 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-13 18:44:13,678 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 18:44:13,678 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 18:44:13,678 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 18:44:13,739 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:46:08,395 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:08.3955070Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:46:08,395 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:08.3955080Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 18:46:08,440 [3] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:46:08,440 [17] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 18:46:08,454 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:46:08,463 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 18:46:08,886 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:08.8869500Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:46:08,893 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:46:08,925 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:46:20,449 [17] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:20.4493470Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:46:20,450 [17] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:46:20,455 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:46:21,356 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:21.3565730Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:46:21,358 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:46:21,361 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:46:22,399 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:22.3992700Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:46:22,403 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:22.4036410Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 18:46:22,404 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 18:46:22,404 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:46:22,406 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:46:22,406 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 18:46:23,883 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:23.8835480Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:46:23,884 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:46:23,885 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:46:25,905 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:25.9050950Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:46:25,910 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:46:25,917 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:46:42,445 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:42.4450900Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:46:42,445 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:46:42,447 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:42.4473740Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:46:42,448 [18] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:46:42,449 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:46:42,450 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:46:42,467 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:42.4671250Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:46:42,467 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:46:42,470 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:46:43,074 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:43.0748930Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:46:43,075 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:46:43,077 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:46:43,908 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:43.9086450Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:46:43,909 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:46:43,914 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:46:44,390 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:44.3904890Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:46:44,390 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:44.3908040Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 18:46:44,391 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 18:46:44,391 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:46:44,393 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 18:46:44,396 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:46:45,474 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:45.4741420Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:46:45,474 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:46:45,476 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:46:47,257 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:47.2576080Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:46:47,258 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:46:47,262 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:46:47,775 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:47.7758710Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 18:46:47,776 [21] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 18:46:47,778 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 18:46:55,524 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:55.5246360Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:46:55,525 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:46:55,526 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:46:56,072 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:56.0725930Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:46:56,073 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:46:56,086 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:46:59,943 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:59.9437390Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:46:59,944 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:46:59,945 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:59.9451750Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 18:46:59,945 [21] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 18:46:59,946 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:46:59,947 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 18:46:59,951 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:59.9510140Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:46:59,951 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:46:59,952 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:46:59,965 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:16:59.9652590Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:46:59,965 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:46:59,968 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:47:03,510 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:03.5100330Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 18:47:03,519 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 18:47:03,525 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:03.5257240Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:47:03,526 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:47:03,527 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:03.5274230Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:47:03,527 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:47:03,529 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:47:03,538 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:47:03,540 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:03.5401540Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:47:03,540 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:47:03,541 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:47:03,557 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:03.5578130Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:47:03,559 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:47:03,569 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:47:05,566 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:05.5669700Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:47:05,567 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:47:05,568 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:47:06,241 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:06.2411210Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:47:06,241 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:06.2412350Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:47:06,241 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:06.2415820Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 18:47:06,241 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:47:06,241 [20] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 18:47:06,241 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:47:06,246 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:47:06,246 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 18:47:06,250 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:47:06,250 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:06.2501750Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:47:06,251 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:47:06,252 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:47:06,264 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:06.2641160Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:47:06,264 [21] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:47:06,267 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:47:07,760 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:07.7609870Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:47:07,761 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:47:07,764 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:47:08,373 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:08.3737910Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:47:08,374 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:47:08,374 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:08.3748390Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 18:47:08,375 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:08.3757710Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 18:47:08,376 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 18:47:08,376 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:47:08,377 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 18:47:08,384 [15] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-13 18:47:08,422 [15] WARN  Microsoft.EntityFrameworkCore.Query - Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-13 18:47:08,445 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 18:47:08,992 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:08.9926600Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:47:08,993 [24] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:47:08,994 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:47:09,675 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:09.6754440Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:47:09,675 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:47:09,679 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:47:10,227 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:10.2270540Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 18:47:10,227 [24] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 18:47:10,229 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 18:47:11,291 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:11.2911050Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:47:11,291 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:47:11,292 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:11.2923590Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 18:47:11,292 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:11.2924420Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:47:11,292 [24] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:47:11,292 [15] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 18:47:11,294 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:47:11,294 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 18:47:11,297 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:47:11,298 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:11.2981520Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:47:11,298 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:47:11,299 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:47:11,311 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:17:11.3112940Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:47:11,311 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:47:11,314 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:49:55,477 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:19:55.4777900Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 18:49:55,485 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 18:49:55,489 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:19:55.4894260Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 18:49:55,489 [27] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 18:49:55,490 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:19:55.4905840Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:49:55,490 [27] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:49:55,491 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:19:55.4911520Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:49:55,491 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 18:49:55,491 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:49:55,519 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:49:55,521 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:19:55.5218250Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 18:49:55,522 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 18:49:55,522 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 18:49:55,525 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:19:55.5251180Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 18:49:55,525 [28] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 18:49:55,537 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 18:49:55,537 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:09:46,263 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:39:46.2632210Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:09:46,263 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:39:46.2632210Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 19:09:46,264 [45] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:09:46,266 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:39:46.2665390Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 19:09:46,266 [45] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 19:09:46,267 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:39:46.2671510Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 19:09:46,267 [45] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 19:09:46,333 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 19:09:46,333 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 19:09:46,333 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 19:09:46,337 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:39:46.3370850Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 19:09:46,337 [48] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 19:09:46,344 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 19:09:46,344 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:09:46,353 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:39:46.3531710Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:09:46,353 [48] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:09:46,365 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:28:39,235 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:58:39.2354360Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 19:28:39,251 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 19:28:39,252 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:58:39.2521660Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 19:28:39,252 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:58:39.2521660Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:28:39,252 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:58:39.2526130Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 19:28:39,252 [55] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 19:28:39,252 [51] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 19:28:39,252 [54] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:28:39,265 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 19:28:39,265 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 19:28:39,267 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:58:39.2676600Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 19:28:39,267 [54] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 19:28:39,268 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 19:28:39,271 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:28:39,287 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:58:39.2873500Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:28:39,287 [54] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:28:39,295 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:28:49,460 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:58:49.4602880Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 19:28:49,462 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 19:28:49,476 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:58:49.4769140Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 19:28:49,476 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:58:49.4769130Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 19:28:49,477 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:58:49.4771610Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:28:49,477 [49] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 19:28:49,477 [54] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 19:28:49,477 [56] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:28:49,478 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 19:28:49,478 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 19:28:49,479 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:58:49.4792350Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 19:28:49,479 [47] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 19:28:49,479 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 19:28:49,484 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:28:49,502 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:58:49.5020390Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:28:49,502 [47] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:28:49,504 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:29:03,439 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:03.4394890Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 19:29:03,440 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 19:29:03,452 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:03.4526180Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 19:29:03,452 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:03.4526330Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 19:29:03,452 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:03.4526330Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:29:03,452 [51] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 19:29:03,452 [47] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 19:29:03,452 [49] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:29:03,453 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 19:29:03,453 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 19:29:03,454 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:03.4548210Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 19:29:03,454 [47] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 19:29:03,454 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:29:03,455 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 19:29:03,479 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:03.4799500Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:29:03,480 [55] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:29:03,484 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:29:08,763 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:08.7638920Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:29:08,764 [54] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:29:08,767 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:29:10,356 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:10.3569660Z, Method: GET, Path: /api/v1/leave-requests/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 19:29:10,367 [55] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 19:29:10,406 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:29:10,415 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:10.4155830Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 19:29:10,415 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:10.4157940Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 19:29:10,420 [49] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 19:29:10,421 [55] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 19:29:10,424 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:29:10,425 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:29:10,434 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:29:12,556 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:12.5568950Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:29:12,557 [47] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:29:12,561 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:29:13,753 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:13.7537580Z, Method: GET, Path: /api/v1/leave-requests/31a8c328-d3bd-4101-b199-214b55c04816, User: Tony
2025-07-13 19:29:13,754 [47] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:29:13,759 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:29:13,763 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:13.7634040Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 19:29:13,763 [54] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 19:29:13,763 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:13.7639460Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/31a8c328-d3bd-4101-b199-214b55c04816, User: Tony
2025-07-13 19:29:13,764 [56] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:29:13,768 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:29:13,771 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:29:13,772 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:29:13,774 [49] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:29:15,604 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:15.6048120Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:29:15,605 [47] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:29:15,608 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:29:17,169 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:17.1693090Z, Method: GET, Path: /api/v1/leave-requests/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-13 19:29:17,169 [55] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-13 19:29:17,173 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:29:17,179 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:17.1795940Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/24343bc4-ea7a-4dff-b9aa-e6b5319b5c09, User: Tony
2025-07-13 19:29:17,179 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:17.1796290Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/dac2458b-31e3-462d-9f2c-874dd78ccefc, User: Tony
2025-07-13 19:29:17,180 [49] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: dac2458b-31e3-462d-9f2c-874dd78ccefc
2025-07-13 19:29:17,181 [47] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 24343bc4-ea7a-4dff-b9aa-e6b5319b5c09
2025-07-13 19:29:17,183 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:29:17,184 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:29:17,187 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:29:34,577 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:34.5772590Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 19:29:34,582 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 19:29:34,590 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:34.5907790Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:29:34,591 [49] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:29:34,619 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:29:37,069 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:37.0697060Z, Method: GET, Path: /api/v1/leave-requests/31a8c328-d3bd-4101-b199-214b55c04816, User: Tony
2025-07-13 19:29:37,070 [49] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:29:37,075 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:29:37,650 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:37.6508250Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/31a8c328-d3bd-4101-b199-214b55c04816, User: Tony
2025-07-13 19:29:37,651 [49] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:29:37,653 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:37.6531090Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 19:29:37,654 [51] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 19:29:37,656 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:29:37,659 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:29:37,660 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:29:37,662 [47] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:29:45,917 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:45.9170180Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:29:45,917 [47] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:29:45,921 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:29:53,063 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:53.0630520Z, Method: GET, Path: /api/v1/leave-requests/31a8c328-d3bd-4101-b199-214b55c04816, User: Tony
2025-07-13 19:29:53,063 [49] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:29:53,068 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:29:53,639 [56] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:53.6393130Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/31a8c328-d3bd-4101-b199-214b55c04816, User: Tony
2025-07-13 19:29:53,639 [56] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:29:53,641 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T13:59:53.6413800Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 19:29:53,641 [54] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 19:29:53,647 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:29:53,647 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:29:53,649 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:29:53,651 [52] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:32:15,120 [53] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:02:15.1202710Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 19:32:15,128 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 19:32:15,132 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:02:15.1328670Z, Method: GET, Path: /api/v1/leave-requests/31a8c328-d3bd-4101-b199-214b55c04816, User: Tony
2025-07-13 19:32:15,133 [52] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:32:15,138 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:32:15,706 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:02:15.7061840Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/31a8c328-d3bd-4101-b199-214b55c04816, User: Tony
2025-07-13 19:32:15,706 [50] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:32:15,707 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:02:15.7075430Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 19:32:15,707 [51] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 19:32:15,710 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:32:15,712 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:32:15,712 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:32:15,715 [46] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:46:27,045 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:27.0452710Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:46:27,047 [46] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:46:27,056 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:46:36,667 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:36.6675150Z, Method: GET, Path: /api/v1/leave-requests/dfab23b8-4da4-4a15-a965-33643d705140, User: Tony
2025-07-13 19:46:36,668 [51] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: dfab23b8-4da4-4a15-a965-33643d705140
2025-07-13 19:46:36,674 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:46:36,680 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:36.6802810Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/dfab23b8-4da4-4a15-a965-33643d705140, User: Tony
2025-07-13 19:46:36,680 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:36.6803320Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-13 19:46:36,680 [51] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: dfab23b8-4da4-4a15-a965-33643d705140
2025-07-13 19:46:36,680 [46] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-13 19:46:36,685 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:46:36,685 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:46:36,687 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:46:41,357 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:41.3578370Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:46:41,358 [48] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:46:41,379 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:46:43,531 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:43.5310520Z, Method: GET, Path: /api/v1/leave-requests/a495c7b1-6757-4135-b7a8-0522620e90c2, User: Tony
2025-07-13 19:46:43,531 [51] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: a495c7b1-6757-4135-b7a8-0522620e90c2
2025-07-13 19:46:43,535 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:46:43,542 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:43.5425440Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/a495c7b1-6757-4135-b7a8-0522620e90c2, User: Tony
2025-07-13 19:46:43,542 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:43.5425640Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-13 19:46:43,542 [46] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-13 19:46:43,542 [51] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: a495c7b1-6757-4135-b7a8-0522620e90c2
2025-07-13 19:46:43,545 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:46:43,547 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:46:43,549 [46] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: a495c7b1-6757-4135-b7a8-0522620e90c2
2025-07-13 19:46:43,569 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:46:46,117 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:46.1173080Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:46:46,117 [51] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:46:46,121 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:46:47,585 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:47.5855540Z, Method: GET, Path: /api/v1/leave-requests/dfab23b8-4da4-4a15-a965-33643d705140, User: Tony
2025-07-13 19:46:47,586 [42] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: dfab23b8-4da4-4a15-a965-33643d705140
2025-07-13 19:46:47,590 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:46:47,594 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:47.5944270Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-13 19:46:47,594 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:47.5948860Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/dfab23b8-4da4-4a15-a965-33643d705140, User: Tony
2025-07-13 19:46:47,594 [52] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-13 19:46:47,595 [42] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: dfab23b8-4da4-4a15-a965-33643d705140
2025-07-13 19:46:47,599 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:46:47,601 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:46:47,602 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:46:49,551 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:49.5516220Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:46:49,552 [46] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:46:49,555 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:46:51,201 [43] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:51.2014220Z, Method: GET, Path: /api/v1/leave-requests/e4fec810-a78c-4daa-8d0d-3a8bc2d22285, User: Tony
2025-07-13 19:46:51,202 [43] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e4fec810-a78c-4daa-8d0d-3a8bc2d22285
2025-07-13 19:46:51,207 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:46:51,212 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:51.2125650Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-13 19:46:51,213 [46] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-13 19:46:51,213 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:51.2131310Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e4fec810-a78c-4daa-8d0d-3a8bc2d22285, User: Tony
2025-07-13 19:46:51,213 [42] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e4fec810-a78c-4daa-8d0d-3a8bc2d22285
2025-07-13 19:46:51,217 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:46:51,219 [43] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:46:51,220 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:46:51,222 [46] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: e4fec810-a78c-4daa-8d0d-3a8bc2d22285
2025-07-13 19:46:53,583 [42] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:53.5838230Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:46:53,584 [42] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:46:53,587 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:46:56,417 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:56.4170420Z, Method: GET, Path: /api/v1/leave-requests/31a8c328-d3bd-4101-b199-214b55c04816, User: Tony
2025-07-13 19:46:56,417 [52] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:46:56,420 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:46:56,427 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:56.4274890Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/31a8c328-d3bd-4101-b199-214b55c04816, User: Tony
2025-07-13 19:46:56,427 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:16:56.4275140Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 19:46:56,427 [52] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 19:46:56,427 [51] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:46:56,438 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:46:56,438 [42] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:46:56,441 [51] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:46:56,443 [46] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:47:03,226 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:17:03.2260470Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:47:03,226 [52] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:47:03,231 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:47:04,955 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:17:04.9559200Z, Method: GET, Path: /api/v1/leave-requests/31a8c328-d3bd-4101-b199-214b55c04816, User: Tony
2025-07-13 19:47:04,956 [46] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:47:04,959 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:47:05,533 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:17:05.5338240Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/31a8c328-d3bd-4101-b199-214b55c04816, User: Tony
2025-07-13 19:47:05,534 [46] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:47:05,534 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:17:05.5347280Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 19:47:05,534 [48] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 19:47:05,537 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:47:05,537 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:47:05,539 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:47:05,544 [51] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 31a8c328-d3bd-4101-b199-214b55c04816
2025-07-13 19:47:14,027 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:17:14.0275080Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:47:14,028 [45] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:47:14,032 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:47:16,646 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:17:16.6465810Z, Method: GET, Path: /api/v1/leave-requests/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 19:47:16,646 [51] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 19:47:16,649 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:47:17,225 [45] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:17:17.2250360Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 19:47:17,225 [45] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 19:47:17,226 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:17:17.2263150Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 19:47:17,226 [48] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 19:47:17,229 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:47:17,230 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:47:17,232 [45] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:53:21,039 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:23:21.0393690Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 19:53:21,054 [54] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:23:21.0544490Z, Method: GET, Path: /api/v1/leave-requests/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 19:53:21,054 [54] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 19:53:21,095 [57] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 19:53:21,109 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (24ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:53:21,630 [57] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:23:21.6303280Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 19:53:21,630 [49] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:23:21.6306680Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 19:53:21,630 [57] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 19:53:21,631 [49] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 19:53:21,646 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:53:21,647 [54] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:53:21,648 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:57:06,144 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:27:06.1444520Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 19:57:06,169 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 19:57:06,175 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:27:06.1754810Z, Method: GET, Path: /api/v1/leave-requests/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 19:57:06,178 [41] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 19:57:06,187 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:57:06,756 [47] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:27:06.7568630Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 19:57:06,757 [47] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 19:57:06,760 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:57:06,761 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:27:06.7615360Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 19:57:06,761 [40] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 19:57:06,763 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:57:06,767 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:57:53,891 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:27:53.8916430Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 19:57:53,892 [38] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 19:57:53,896 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 19:57:58,844 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:27:58.8445910Z, Method: GET, Path: /api/v1/leave-requests/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 19:57:58,845 [38] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 19:57:58,849 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:57:58,853 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:27:58.8539700Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 19:57:58,854 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:27:58.8540100Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 19:57:58,854 [39] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 19:57:58,854 [35] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 19:57:58,856 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:57:58,857 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 19:57:58,858 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:58:09,532 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:28:09.5324190Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 19:58:09,534 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 19:58:09,555 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:28:09.5552700Z, Method: GET, Path: /api/v1/leave-requests/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 19:58:09,555 [36] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 19:58:09,573 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:58:10,133 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:28:10.1332770Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 19:58:10,133 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:28:10.1332980Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 19:58:10,133 [38] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 19:58:10,133 [41] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 19:58:10,136 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 19:58:10,152 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 19:58:10,152 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:03:08,595 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:33:08.5950330Z, Method: GET, Path: /api/v1/leave-requests/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 20:03:08,595 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:33:08.5948950Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:03:08,599 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 20:03:08,653 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:03:08,658 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 20:03:09,164 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:33:09.1646150Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 20:03:09,165 [31] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 20:03:09,165 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:33:09.1656160Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 20:03:09,166 [41] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 20:03:09,173 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:03:09,179 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 20:03:09,182 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 20:03:13,861 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:33:13.8617050Z, Method: GET, Path: /api/v1/leave-attachments/d5cae207-bae6-4b61-ba7b-dcc12d5865d3, User: Anonymous
2025-07-13 20:03:13,873 [37] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachment with ID: d5cae207-bae6-4b61-ba7b-dcc12d5865d3
2025-07-13 20:03:13,891 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-13 20:03:14,490 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:33:14.4904990Z, Method: GET, Path: /favicon.ico, User: Anonymous
2025-07-13 20:03:17,260 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:33:17.2605370Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 20:03:17,263 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 20:03:17,270 [37] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 20:03:19,968 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:33:19.9684060Z, Method: GET, Path: /api/v1/leave-requests/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 20:03:19,969 [41] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 20:03:19,973 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 20:03:20,553 [37] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:33:20.5532410Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/e7f795d6-19b8-4d4a-8044-0aa182569e2a, User: Tony
2025-07-13 20:03:20,553 [37] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: e7f795d6-19b8-4d4a-8044-0aa182569e2a
2025-07-13 20:03:20,555 [33] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:33:20.5550140Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/80664038-baf4-458f-a0d2-43deb910c8a5, User: Tony
2025-07-13 20:03:20,555 [33] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 80664038-baf4-458f-a0d2-43deb910c8a5
2025-07-13 20:03:20,557 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 20:03:20,559 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 20:03:20,562 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:03:26,720 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:33:26.7209890Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 20:03:26,721 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 20:03:26,724 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 20:03:47,315 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:33:47.3152560Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:03:47,316 [41] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:03:47,318 [33] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:04:07,360 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:34:07.3600400Z, Method: POST, Path: /api/v1/leave-requests, User: Tony
2025-07-13 20:04:07,399 [41] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-13 20:04:07,412 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:04:07,420 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-13 20:04:07,422 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-13 20:04:07,428 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:04:07,433 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 20:04:07,440 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 20:04:07,519 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime), @p9='?', @p10='?' (DbType = DateTime), @p11='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveRequests" ("Id", "CreatedAt", "DeletedAt", "EndDate", "IsDeleted", "LeaveTypeId", "Reason", "ReviewedById", "StartDate", "Status", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-07-13 20:04:07,527 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 20:04:07,538 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 20:04:07,541 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-13 20:04:07,542 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:04:07,550 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-13 20:04:07,554 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-13 20:04:07,555 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-13 20:04:07,556 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-13 20:04:07,557 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-13 20:04:07,593 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:34:07.5931370Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 20:04:07,593 [38] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 20:04:07,596 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 20:04:10,272 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:34:10.2728210Z, Method: GET, Path: /api/v1/leave-requests/04d4f23d-133b-4400-aa55-73f985a98122, User: Tony
2025-07-13 20:04:10,273 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 04d4f23d-133b-4400-aa55-73f985a98122
2025-07-13 20:04:10,276 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 20:04:10,281 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:34:10.2818060Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/04d4f23d-133b-4400-aa55-73f985a98122, User: Tony
2025-07-13 20:04:10,281 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:34:10.2818240Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Tony
2025-07-13 20:04:10,282 [36] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 04d4f23d-133b-4400-aa55-73f985a98122
2025-07-13 20:04:10,282 [38] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-13 20:04:10,285 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 20:04:10,286 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:04:10,287 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 20:04:10,290 [39] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 04d4f23d-133b-4400-aa55-73f985a98122
2025-07-13 20:04:46,989 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:34:46.9894330Z, Method: POST, Path: /api/v1/leave-attachments, User: Tony
2025-07-13 20:04:47,016 [36] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Creating new leave attachment
2025-07-13 20:04:47,034 [36] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Binary), @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
INSERT INTO "LeaveAttachments" ("Id", "DeletedAt", "FileContent", "FileName", "IsDeleted", "LeaveRequestId", "UploadedAt")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-13 20:04:47,037 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-13 20:04:47,045 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:34:47.0459900Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/04d4f23d-133b-4400-aa55-73f985a98122, User: Tony
2025-07-13 20:04:47,046 [36] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 04d4f23d-133b-4400-aa55-73f985a98122
2025-07-13 20:04:47,049 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 20:04:47,050 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 20:04:51,772 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:34:51.7721440Z, Method: DELETE, Path: /api/v1/leave-attachments/c7cc07f0-d0b7-4094-b381-474278bd6852, User: Tony
2025-07-13 20:04:51,778 [40] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Deleting leave attachment with ID: c7cc07f0-d0b7-4094-b381-474278bd6852
2025-07-13 20:04:51,785 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-13 20:04:51,798 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Binary), @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveAttachments" SET "DeletedAt" = @p0, "FileContent" = @p1, "FileName" = @p2, "IsDeleted" = @p3, "LeaveRequestId" = @p4, "UploadedAt" = @p5
WHERE "Id" = @p6;
2025-07-13 20:04:51,802 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-13 20:05:02,101 [36] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:35:02.1014100Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:05:02,102 [36] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-13 20:05:02,104 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:35:02.1040530Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:05:02,104 [39] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:05:02,106 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:35:02.1061390Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 20:05:02,107 [39] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 20:05:02,108 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:05:02,109 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 20:05:02,111 [47] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:05:04,707 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:35:04.7078880Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:05:04,708 [39] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:05:04,710 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:11:11,097 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:41:11.0974210Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:11:11,109 [57] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:41:11.1094200Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:11:11,109 [57] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:11:11,155 [56] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:11:11,155 [53] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:13:52,022 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:43:52.0227730Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:13:52,031 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:13:52,036 [50] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:43:52.0363050Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:13:52,036 [50] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:13:52,040 [50] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:14:54,597 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:44:54.5975180Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:14:54,604 [48] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:14:54,607 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:44:54.6074670Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:14:54,607 [55] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:14:54,608 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:17:04,588 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:47:04.5888440Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:17:04,604 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:47:04.6043100Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:17:04,604 [55] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:17:04,609 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:17:04,632 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:17:42,573 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:47:42.5734990Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:17:42,579 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:17:42,584 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:47:42.5849810Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:17:42,585 [55] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:17:42,587 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:18:22,561 [51] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:48:22.5616090Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:18:22,567 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:18:22,571 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:48:22.5712090Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:18:22,571 [55] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:18:22,574 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:18:37,536 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:48:37.5363580Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:18:37,537 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:18:37,545 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:48:37.5455680Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:18:37,545 [52] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:18:37,546 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:18:45,128 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:48:45.1282330Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:18:45,129 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:18:45,137 [55] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:48:45.1376720Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:18:45,137 [55] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:18:45,138 [55] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:19:47,372 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:49:47.3724380Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:19:47,379 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:19:47,383 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:49:47.3837580Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:19:47,384 [52] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:19:47,385 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:20:57,273 [52] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:50:57.2734400Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:20:57,279 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:20:57,285 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:50:57.2853400Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:20:57,285 [30] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:20:57,286 [52] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:22:11,555 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:11.5553100Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:22:11,585 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:11.5854510Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:22:11,585 [27] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:22:11,606 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:22:11,620 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:22:13,681 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:13.6816130Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:22:13,681 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:13.6817450Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 20:22:13,682 [27] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:22:13,682 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 20:22:13,682 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:13.6826270Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 20:22:13,682 [30] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 20:22:13,686 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:22:13,689 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 20:22:13,689 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:13.6891430Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:22:13,689 [29] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:22:13,691 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:22:13,704 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 20:22:13,718 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:13.7182480Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 20:22:13,718 [28] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 20:22:13,726 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 20:22:15,725 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:15.7256550Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:22:15,726 [27] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:22:15,727 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:22:17,872 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:17.8727720Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 20:22:17,873 [25] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 20:22:17,877 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 20:22:20,286 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:20.2867930Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 20:22:20,287 [29] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 20:22:20,289 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:20.2891220Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:22:20,289 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:20.2891640Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:22:20,289 [27] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:22:20,289 [28] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balances for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2
2025-07-13 20:22:20,290 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 20:22:20,291 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:22:20,297 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:22:22,463 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:22.4639690Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 20:22:22,464 [27] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 20:22:22,466 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 20:22:25,035 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:25.0357130Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 20:22:25,036 [29] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 20:22:25,047 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 20:22:27,618 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:27.6183840Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 20:22:27,619 [25] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 20:22:27,621 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 20:22:29,316 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:29.3161270Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Tony
2025-07-13 20:22:29,334 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:22:32,842 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:32.8427360Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 20:22:32,843 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 20:22:32,844 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 20:22:39,436 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:52:39.4361410Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 20:22:39,440 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:25:43,426 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:55:43.4261130Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:25:43,435 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:25:43,442 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T14:55:43.4421660Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 20:25:43,477 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:31:45,777 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:01:45.7779070Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:31:45,790 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:01:45.7908520Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 20:31:45,823 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:31:45,833 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:43:29,444 [73] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:13:29.4445290Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:43:29,452 [74] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:13:29.4521120Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 20:43:29,473 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:43:29,514 [69] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (45ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 20:50:35,342 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-13 20:50:43,379 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 20:50:43,382 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 20:50:43,469 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 20:50:43,473 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 20:50:50,196 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 20:50:50,200 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 20:50:50,406 [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-07-13 20:50:50,417 [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-07-13 20:50:50,428 [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-13 20:50:50,436 [1] INFO  Microsoft.EntityFrameworkCore.Migrations - Applying migration '20250713152043_AddRefreshTokenTable'.
2025-07-13 20:50:50,486 [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE "RefreshTokens" (
    "Id" uuid NOT NULL,
    "Token" text NOT NULL,
    "ExpiresAt" timestamp with time zone NOT NULL,
    "IsRevoked" boolean NOT NULL,
    "UserId" uuid NOT NULL,
    CONSTRAINT "PK_RefreshTokens" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_RefreshTokens_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-07-13 20:50:50,488 [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX "IX_RefreshTokens_UserId" ON "RefreshTokens" ("UserId");
2025-07-13 20:50:50,491 [1] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250713152043_AddRefreshTokenTable', '7.0.11');
2025-07-13 20:54:26,913 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 20:54:26,917 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 20:54:27,167 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-13 20:54:27,168 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 20:54:27,168 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 20:54:27,168 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 20:54:27,219 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 20:57:54,762 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:27:54.7620450Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 20:57:54,762 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:27:54.7620460Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 20:57:54,809 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 20:57:54,869 [15] WARN  Microsoft.EntityFrameworkCore.Query - Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-13 20:57:54,892 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:04:29,353 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-13 21:04:33,091 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 21:04:33,094 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 21:04:33,336 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-13 21:04:33,337 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 21:04:33,337 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 21:04:33,337 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 21:04:33,398 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:12:54,000 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:42:54.0003290Z, Method: GET, Path: /api/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 21:12:54,000 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:42:54.0003300Z, Method: GET, Path: /api/v1/Users/0728af92-6d38-4547-be7c-bca1f3dcdcc6/detail, User: Tony
2025-07-13 21:12:54,048 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:12:54,104 [20] WARN  Microsoft.EntityFrameworkCore.Query - Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-13 21:12:54,130 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:26:24,873 [35] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:56:24.8729040Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 21:26:24,873 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:56:24.8729040Z, Method: GET, Path: /api/v1/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 21:26:24,873 [38] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:56:24.8729040Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 21:26:24,882 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:56:24.8821140Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 21:26:24,887 [38] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:26:24,887 [35] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:26:24,889 [39] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:26:24,960 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:26:24,960 [35] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:26:24,965 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:26:25,469 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:56:25.4693430Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 21:26:25,470 [39] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:26:25,472 [39] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:26:26,061 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:56:26.0617900Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 21:26:26,062 [34] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:26:26,072 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:26:28,357 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:56:28.3578360Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 21:26:28,361 [39] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:26:28,364 [41] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:26:31,031 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:56:31.0312000Z, Method: GET, Path: /api/v1/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 21:26:36,481 [39] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:56:36.4812950Z, Method: GET, Path: /api/v1/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 21:26:36,524 [41] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:56:36.5241630Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 21:26:36,527 [41] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:26:36,535 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:26:39,217 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:56:39.2172250Z, Method: GET, Path: /api/v1/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 21:27:23,865 [46] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:57:23.8657160Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 21:27:23,868 [46] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:27:23,875 [46] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:28:11,043 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:58:11.0437110Z, Method: GET, Path: /api/v1/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 21:28:11,060 [48] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:58:11.0606400Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 21:28:11,062 [48] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:28:11,072 [49] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:28:36,075 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-13 21:28:41,220 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 21:28:41,223 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 21:28:41,485 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-13 21:28:41,486 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 21:28:41,486 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 21:28:41,486 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 21:28:41,540 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:28:44,008 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:58:44.0081590Z, Method: GET, Path: /api/v1/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 21:28:44,028 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:28:50,390 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:58:50.3908480Z, Method: GET, Path: /api/v1/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 21:28:50,402 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:58:50.4029700Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 21:28:50,438 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:28:50,465 [13] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:28:50,469 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:28:51,645 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:58:51.6453480Z, Method: GET, Path: /api/v1/notifications/all/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 21:28:51,650 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:29:07,209 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:59:07.2094240Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 21:29:07,211 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:29:07,212 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:59:07.2129070Z, Method: GET, Path: /api/v1/Users, User: Tony
2025-07-13 21:29:07,213 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:29:07,219 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:59:07.2196410Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 21:29:07,223 [15] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:29:07,223 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:29:07,231 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:29:07,239 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:29:07,783 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:59:07.7837280Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 21:29:07,788 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:29:07,790 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:29:08,375 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:59:08.3751790Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 21:29:08,376 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:29:08,388 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:29:09,909 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:59:09.9094330Z, Method: GET, Path: /api/v1/leavetypes, User: Tony
2025-07-13 21:29:09,910 [15] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:29:09,911 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:29:11,642 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T15:59:11.6427630Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 21:29:11,646 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:29:11,650 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:31:47,934 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:01:47.9346320Z, Method: GET, Path: /api/v1/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 21:31:47,941 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:01:47.9417960Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 21:31:47,943 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:31:47,960 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:31:47,974 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:32:19,369 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:02:19.3697660Z, Method: GET, Path: /api/v1/notifications/unread/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2, User: Tony
2025-07-13 21:32:19,380 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:02:19.3800700Z, Method: GET, Path: /api/v1/leave-requests, User: Tony
2025-07-13 21:32:19,381 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:32:19,381 [11] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:32:19,405 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:35:22,972 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-13 21:35:28,331 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 21:35:28,334 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 21:35:28,594 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-13 21:35:28,595 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 21:35:28,595 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 21:35:28,595 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 21:35:28,651 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:35:48,873 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:05:48.8731530Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-13 21:35:48,939 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:35:49,241 [13] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("Id", "ExpiresAt", "IsRevoked", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-13 21:35:49,244 [13] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-07-13 21:35:49,247 [13] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-07-13 21:35:49,484 [14] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:05:49.4849380Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-13 21:35:49,485 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:05:49.4849380Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:35:49,488 [11] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:05:49.4887880Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-13 21:35:49,494 [14] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:35:49,496 [7] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:35:49,500 [11] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:35:49,540 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:35:49,543 [14] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:35:49,560 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:35:50,032 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:05:50.0320410Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-13 21:35:50,032 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:35:50,033 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:35:50,619 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:05:50.6191570Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-13 21:35:50,619 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:35:50,623 [11] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:37:30,936 [3] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:07:30.9364840Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-13 21:37:30,948 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:07:30.9485810Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:37:30,948 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:07:30.9487770Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-13 21:37:30,950 [16] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:37:30,951 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:07:30.9515790Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-13 21:37:30,953 [9] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:37:30,956 [19] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:37:30,961 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:37:30,963 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:37:30,979 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:37:30,991 [3] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:37:31,559 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:07:31.5590710Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-13 21:37:31,560 [19] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:37:31,562 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:37:32,147 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:07:32.1478530Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-13 21:37:32,148 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:37:32,152 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:37:35,561 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:07:35.5618590Z, Method: GET, Path: /api/v1/notifications/all/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-13 21:37:35,568 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:37:41,284 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:07:41.2847850Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-13 21:37:41,285 [21] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:37:41,287 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:38:00,458 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:08:00.4585990Z, Method: POST, Path: /api/v1/leave-requests, User: Chandler
2025-07-13 21:38:00,477 [9] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Creating new leave request.
2025-07-13 21:38:00,514 [9] WARN  Microsoft.EntityFrameworkCore.Query - Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-13 21:38:00,531 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:38:00,542 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-13 21:38:00,545 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
LIMIT 1
2025-07-13 21:38:00,554 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:38:00,566 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:38:00,579 [21] ERROR LeaveManagementSystem.Controllers.LeaveRequestController - Error creating leave request.
System.Exception: Monthly leave limit exceeded. Allowed: 1 days, Used: 4 days, Requested: 1 days.
 ---> System.InvalidOperationException: Monthly leave limit exceeded. Allowed: 1 days, Used: 4 days, Requested: 1 days.
   at LeaveManagementSystem.Services.LeaveRequestService.ValidateMonthlyLimitAsync(Guid userId, Guid leaveTypeId, DateTime startDate, Int32 requestedDays, LeaveType leaveType) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 245
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 147
   --- End of inner exception stack trace ---
   at LeaveManagementSystem.Services.LeaveRequestService.CreateAsync(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/LeaveRequestService.cs:line 167
   at LeaveManagementSystem.Controllers.LeaveRequestController.Create(LeaveRequestDto dto) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/LeaveRequestController.cs:line 133
2025-07-13 21:38:34,287 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:08:34.2869850Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:38:34,289 [16] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:38:34,293 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:38:35,941 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:08:35.9413970Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Chandler
2025-07-13 21:38:35,959 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:38:38,259 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:08:38.2592080Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:38:38,259 [16] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:38:38,261 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:38:48,373 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:08:48.3732790Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-13 21:38:48,386 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:08:48.3866030Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:38:48,386 [19] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:38:48,389 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:38:48,391 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:38:50,382 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:08:50.3824880Z, Method: GET, Path: /api/v1/Users/5753e4a3-33ff-4bbd-91a6-d75639dd7201/detail, User: Chandler
2025-07-13 21:38:50,387 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:38:56,338 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:08:56.3386930Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:38:56,339 [16] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:38:56,342 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:38:58,021 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:08:58.0217670Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be, User: Chandler
2025-07-13 21:39:04,402 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:09:04.4027690Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:39:04,404 [19] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:39:04,407 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:39:05,813 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:09:05.8139710Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Chandler
2025-07-13 21:39:05,820 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:39:07,567 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:09:07.5678830Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:39:07,568 [16] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:39:07,571 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:39:08,779 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:09:08.7792340Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be, User: Chandler
2025-07-13 21:39:13,052 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:09:13.0523250Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:39:13,052 [19] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:39:13,054 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:39:16,384 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:09:16.3841510Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:39:16,385 [16] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:39:16,387 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:39:18,212 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:09:18.2121240Z, Method: GET, Path: /api/v1/Users/8c321ea8-a7d3-4f64-b6d8-9da1ebbff069/detail, User: Chandler
2025-07-13 21:39:18,216 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:39:20,346 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:09:20.3465890Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:39:20,347 [16] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:39:20,350 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:39:22,596 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:09:22.5964230Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be, User: Chandler
2025-07-13 21:39:33,974 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:09:33.9748660Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:39:33,976 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:39:33,979 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:39:36,093 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:09:36.0932690Z, Method: GET, Path: /api/v1/Users/5753e4a3-33ff-4bbd-91a6-d75639dd7201, User: Chandler
2025-07-13 21:39:54,326 [9] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:09:54.3267490Z, Method: PUT, Path: /api/v1/Users/5753e4a3-33ff-4bbd-91a6-d75639dd7201, User: Chandler
2025-07-13 21:39:54,343 [9] INFO  LeaveManagementSystem.Controllers.UsersController - Updating user with ID: 5753e4a3-33ff-4bbd-91a6-d75639dd7201
2025-07-13 21:39:54,353 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:39:54,360 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:39:54,387 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?'], CommandType='Text', CommandTimeout='30']
UPDATE "Users" SET "Username" = @p0
WHERE "Id" = @p1;
2025-07-13 21:39:54,409 [9] ERROR Microsoft.EntityFrameworkCore.Database.Command - Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-13 21:40:52,871 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:10:52.8714090Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-13 21:40:52,915 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:10:52.9159300Z, Method: GET, Path: /api/v1/Users/5753e4a3-33ff-4bbd-91a6-d75639dd7201, User: Chandler
2025-07-13 21:40:52,977 [9] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:41:08,512 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:11:08.5127560Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:41:08,513 [18] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:41:08,517 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:41:10,470 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:11:10.4705110Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Chandler
2025-07-13 21:41:10,484 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:41:12,567 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:11:12.5670840Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:41:12,567 [21] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:41:12,568 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:41:13,934 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:11:13.9349460Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be, User: Chandler
2025-07-13 21:42:04,118 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:12:04.1184660Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:42:04,155 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:42:04,165 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Id" = @__key_0
LIMIT 1
2025-07-13 21:42:04,168 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
UPDATE "RefreshTokens" SET "IsRevoked" = @p0
WHERE "Id" = @p1;
2025-07-13 21:42:04,172 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("Id", "ExpiresAt", "IsRevoked", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-13 21:42:04,172 [25] INFO  LeaveManagementSystem.Services.AuthenticationService - Refresh token used to generate new access token for chandler@example.com
2025-07-13 21:42:04,172 [25] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Refresh token generated successfully.
2025-07-13 21:42:04,707 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:12:04.7070740Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-13 21:42:04,707 [18] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:42:04,713 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:42:14,192 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:12:14.1929020Z, Method: GET, Path: /api/v1/leave-requests/04d4f23d-133b-4400-aa55-73f985a98122, User: Chandler
2025-07-13 21:42:14,200 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 04d4f23d-133b-4400-aa55-73f985a98122
2025-07-13 21:42:14,223 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 21:42:14,768 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:12:14.7685710Z, Method: GET, Path: /api/v1/leave-attachments/by-leave-request/04d4f23d-133b-4400-aa55-73f985a98122, User: Chandler
2025-07-13 21:42:14,773 [21] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:12:14.7730120Z, Method: GET, Path: /api/v1/leave-balance/user/6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2/leaveType/21a9c3ae-dcc8-41aa-9e64-57ec38b72420, User: Chandler
2025-07-13 21:42:14,777 [25] INFO  LeaveManagementSystem.Controllers.LeaveAttachmentController - Fetching attachments for LeaveRequestId: 04d4f23d-133b-4400-aa55-73f985a98122
2025-07-13 21:42:14,781 [21] INFO  LeaveManagementSystem.Controllers.LeaveBalanceController - Fetching leave balance for user ID: 6e623a94-ef9f-4ffe-ba4e-24aafd1d5aa2 and leave type ID: 21a9c3ae-dcc8-41aa-9e64-57ec38b72420
2025-07-13 21:42:14,783 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 21:42:14,795 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."DeletedAt", l."FileContent", l."FileName", l."IsDeleted", l."LeaveRequestId", l."UploadedAt", t."Id", t."CreatedAt", t."DeletedAt", t."EndDate", t."IsDeleted", t."LeaveTypeId", t."Reason", t."ReviewedById", t."StartDate", t."Status", t."UpdatedAt", t."UserId"
FROM "LeaveAttachments" AS l
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."DeletedAt", l0."EndDate", l0."IsDeleted", l0."LeaveTypeId", l0."Reason", l0."ReviewedById", l0."StartDate", l0."Status", l0."UpdatedAt", l0."UserId"
    FROM "LeaveRequests" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t ON l."LeaveRequestId" = t."Id"
WHERE NOT (l."IsDeleted")
2025-07-13 21:42:14,802 [16] WARN  LeaveManagementSystem.Controllers.LeaveAttachmentController - No attachments found for LeaveRequestId: 04d4f23d-133b-4400-aa55-73f985a98122
2025-07-13 21:42:14,816 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:42:23,645 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:12:23.6450210Z, Method: PUT, Path: /api/v1/leave-requests/04d4f23d-133b-4400-aa55-73f985a98122/status, User: Chandler
2025-07-13 21:42:23,667 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Updating leave request status for ID: 04d4f23d-133b-4400-aa55-73f985a98122 by approver ID: 0728af92-6d38-4547-be7c-bca1f3dcdcc6
2025-07-13 21:42:23,671 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 21:42:23,684 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
2025-07-13 21:42:23,696 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy"
FROM "LeaveBalances" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
WHERE l."Id" = @__key_0
LIMIT 1
2025-07-13 21:42:23,720 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p5='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
UPDATE "LeaveBalances" SET "UsedLeaves" = @p0
WHERE "Id" = @p1;
UPDATE "LeaveRequests" SET "ReviewedById" = @p2, "Status" = @p3, "UpdatedAt" = @p4
WHERE "Id" = @p5;
2025-07-13 21:42:23,731 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 21:42:23,738 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "Action", "DeletedAt", "EntityId", "EntityType", "IsDeleted", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-13 21:42:23,739 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:42:23,755 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-13 21:42:23,759 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:42:23,763 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:42:23,768 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:42:23,772 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-13 21:42:23,773 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-13 21:42:23,775 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-13 21:42:23,775 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-13 21:42:23,776 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-13 21:42:23,777 [16] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "Notifications" ("Id", "CreatedAt", "DeletedAt", "IsDeleted", "IsRead", "Message", "ReadAt", "RecipientId", "ReviewedById")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-13 21:42:24,246 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:12:24.2462650Z, Method: GET, Path: /api/v1/leave-requests/04d4f23d-133b-4400-aa55-73f985a98122, User: Chandler
2025-07-13 21:42:24,246 [16] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching leave request with ID: 04d4f23d-133b-4400-aa55-73f985a98122
2025-07-13 21:42:24,250 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted0", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Description", t2."IsDeleted1", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id2", t2."CreatedAt2", t2."CreatedBy1", t2."DeletedAt2", t2."Email0", t2."Gender0", t2."IsActive0", t2."IsDeleted2", t2."LastLoginAt0", t2."PasswordHash0", t2."Role0", t2."Username0", t3."Id", t3."DeletedAt", t3."FileContent", t3."FileName", t3."IsDeleted", t3."LeaveRequestId", t3."UploadedAt"
FROM (
    SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id" AS "Id0", t."CreatedAt" AS "CreatedAt0", t."CreatedBy", t."DeletedAt" AS "DeletedAt0", t."Email", t."Gender", t."IsActive", t."IsDeleted" AS "IsDeleted0", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id" AS "Id1", t0."CreatedAt" AS "CreatedAt1", t0."CreatedBy" AS "CreatedBy0", t0."DeletedAt" AS "DeletedAt1", t0."Description", t0."IsDeleted" AS "IsDeleted1", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt" AS "UpdatedAt0", t0."UpdatedBy", t1."Id" AS "Id2", t1."CreatedAt" AS "CreatedAt2", t1."CreatedBy" AS "CreatedBy1", t1."DeletedAt" AS "DeletedAt2", t1."Email" AS "Email0", t1."Gender" AS "Gender0", t1."IsActive" AS "IsActive0", t1."IsDeleted" AS "IsDeleted2", t1."LastLoginAt" AS "LastLoginAt0", t1."PasswordHash" AS "PasswordHash0", t1."Role" AS "Role0", t1."Username" AS "Username0"
    FROM "LeaveRequests" AS l
    INNER JOIN (
        SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
        FROM "Users" AS u
        WHERE NOT (u."IsDeleted")
    ) AS t ON l."UserId" = t."Id"
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t0 ON l."LeaveTypeId" = t0."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t1 ON l."ReviewedById" = t1."Id"
    WHERE NOT (l."IsDeleted") AND l."Id" = @__key_0
    LIMIT 1
) AS t2
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t3 ON t2."Id" = t3."LeaveRequestId"
ORDER BY t2."Id", t2."Id0", t2."Id1", t2."Id2"
2025-07-13 21:45:45,974 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:15:45.9742910Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:45:45,976 [27] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:45:45,991 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:45:47,249 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:15:47.2496100Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be/detail, User: Chandler
2025-07-13 21:45:47,259 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:45:55,068 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:15:55.0681930Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:45:55,068 [18] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:45:55,070 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:46:03,459 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:16:03.4599900Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:46:03,460 [18] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:46:03,461 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:46:07,912 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:16:07.9119980Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:46:07,912 [30] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:46:07,914 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:46:09,911 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:16:09.9113600Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:46:09,911 [30] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:46:09,913 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:46:16,375 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:16:16.3751610Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:46:16,375 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:46:16,376 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:46:19,676 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:16:19.6762300Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:46:19,676 [18] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:46:19,677 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:46:35,110 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:16:35.1109680Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-13 21:46:35,119 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:46:35,128 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:16:35.1289650Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:46:35,129 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:46:35,130 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:46:46,352 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:16:46.3525020Z, Method: GET, Path: /api/v1/Users/b9988376-e649-45a9-880b-ecce93da316b/detail, User: Chandler
2025-07-13 21:46:46,357 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:46:52,173 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:16:52.1730360Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:46:52,173 [27] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:46:52,175 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:46:55,480 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:16:55.4803610Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:46:55,481 [30] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:46:55,483 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:46:59,580 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:16:59.5803680Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:46:59,580 [27] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:46:59,582 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:47:02,458 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:17:02.4581860Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:47:02,458 [28] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:47:02,459 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:47:38,364 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:17:38.3645560Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be, User: Chandler
2025-07-13 21:47:49,827 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:17:49.8278450Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-13 21:47:49,832 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:47:49,847 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:17:49.8475770Z, Method: GET, Path: /api/v1/Users/d4192555-a13e-4386-a69a-0d52bcf182be, User: Chandler
2025-07-13 21:49:31,850 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:19:31.8499460Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Anonymous
2025-07-13 21:49:31,856 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:49:31,877 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:19:31.8771210Z, Method: GET, Path: /api/v1/Users/users/d4192555-a13e-4386-a69a-0d52bcf182be, User: Anonymous
2025-07-13 21:49:39,757 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:19:39.7573990Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Anonymous
2025-07-13 21:49:39,758 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:49:39,776 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:19:39.7767460Z, Method: GET, Path: /api/v1/Users/users/d4192555-a13e-4386-a69a-0d52bcf182be, User: Anonymous
2025-07-13 21:49:56,763 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:19:56.7633810Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Anonymous
2025-07-13 21:49:56,766 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:49:56,786 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:19:56.7861980Z, Method: GET, Path: /api/v1/Users/user/d4192555-a13e-4386-a69a-0d52bcf182be, User: Anonymous
2025-07-13 21:49:56,815 [29] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching user with ID: d4192555-a13e-4386-a69a-0d52bcf182be
2025-07-13 21:49:56,828 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."LeaveTypeId", t0."TotalLeaves", t0."UsedLeaves", t0."UserId", t0."Id0", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t2."Id", t2."CreatedAt", t2."DeletedAt", t2."EndDate", t2."IsDeleted", t2."LeaveTypeId", t2."Reason", t2."ReviewedById", t2."StartDate", t2."Status", t2."UpdatedAt", t2."UserId", t2."Id0", t2."CreatedAt0", t2."CreatedBy", t2."DeletedAt0", t2."Description", t2."IsDeleted0", t2."Name", t2."StandardLeaveCount", t2."UpdatedAt0", t2."UpdatedBy", t2."Id1", t2."CreatedAt1", t2."CreatedBy0", t2."DeletedAt1", t2."Email", t2."Gender", t2."IsActive", t2."IsDeleted1", t2."LastLoginAt", t2."PasswordHash", t2."Role", t2."Username"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted") AND u."Id" = @__key_0 AND NOT (u."IsDeleted")
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT l."Id", l."LeaveTypeId", l."TotalLeaves", l."UsedLeaves", l."UserId", t1."Id" AS "Id0", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Description", t1."IsDeleted", t1."Name", t1."StandardLeaveCount", t1."UpdatedAt", t1."UpdatedBy"
    FROM "LeaveBalances" AS l
    INNER JOIN (
        SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
        FROM "LeaveTypes" AS l0
        WHERE NOT (l0."IsDeleted")
    ) AS t1 ON l."LeaveTypeId" = t1."Id"
) AS t0 ON t."Id" = t0."UserId"
LEFT JOIN (
    SELECT l1."Id", l1."CreatedAt", l1."DeletedAt", l1."EndDate", l1."IsDeleted", l1."LeaveTypeId", l1."Reason", l1."ReviewedById", l1."StartDate", l1."Status", l1."UpdatedAt", l1."UserId", t3."Id" AS "Id0", t3."CreatedAt" AS "CreatedAt0", t3."CreatedBy", t3."DeletedAt" AS "DeletedAt0", t3."Description", t3."IsDeleted" AS "IsDeleted0", t3."Name", t3."StandardLeaveCount", t3."UpdatedAt" AS "UpdatedAt0", t3."UpdatedBy", t4."Id" AS "Id1", t4."CreatedAt" AS "CreatedAt1", t4."CreatedBy" AS "CreatedBy0", t4."DeletedAt" AS "DeletedAt1", t4."Email", t4."Gender", t4."IsActive", t4."IsDeleted" AS "IsDeleted1", t4."LastLoginAt", t4."PasswordHash", t4."Role", t4."Username"
    FROM "LeaveRequests" AS l1
    INNER JOIN (
        SELECT l2."Id", l2."CreatedAt", l2."CreatedBy", l2."DeletedAt", l2."Description", l2."IsDeleted", l2."Name", l2."StandardLeaveCount", l2."UpdatedAt", l2."UpdatedBy"
        FROM "LeaveTypes" AS l2
        WHERE NOT (l2."IsDeleted")
    ) AS t3 ON l1."LeaveTypeId" = t3."Id"
    LEFT JOIN (
        SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
        FROM "Users" AS u0
        WHERE NOT (u0."IsDeleted")
    ) AS t4 ON l1."ReviewedById" = t4."Id"
    WHERE NOT (l1."IsDeleted")
) AS t2 ON t."Id" = t2."UserId"
ORDER BY t."Id", t0."Id", t0."Id0", t2."Id", t2."Id0"
2025-07-13 21:50:05,546 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:05.5466800Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:05,566 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:05,566 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:05,569 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:06,129 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:06.1292040Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:06,147 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:06,147 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:06,147 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:06,727 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:06.7274100Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:06,734 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:06,735 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:06,736 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:07,309 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:07.3093480Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:07,355 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:07,355 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:07,355 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:07,902 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:07.9020050Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:07,906 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:07,907 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:07,907 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:08,482 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:08.4826160Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:08,494 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:08,494 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:08,494 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:09,071 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:09.0712460Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:09,080 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:09,080 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:09,081 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:09,658 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:09.6587000Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:09,667 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:09,667 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:09,668 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:10,244 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:10.2444050Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:10,256 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:10,257 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:10,258 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:10,831 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:10.8314030Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:10,841 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:10,841 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:10,842 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:11,418 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:11.4183260Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:11,427 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:11,428 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:11,428 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:12,010 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:12.0103150Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:12,013 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:12,013 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:12,013 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:12,593 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:12.5932430Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:12,600 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:12,600 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:12,601 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:13,174 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:13.1746790Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:13,189 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:13,189 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:13,190 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:13,770 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:13.7702680Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:13,772 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:13,773 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:13,773 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:14,351 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:14.3518850Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:14,362 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:14,362 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:14,363 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:14,940 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:14.9404440Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:14,945 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:14,945 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:14,946 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:15,527 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:15.5270600Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:15,532 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:15,532 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:15,533 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:16,112 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:16.1124550Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:16,120 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:16,120 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:16,120 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:16,703 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:16.7032800Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:16,706 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:16,706 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:16,707 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:17,285 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:17.2850800Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:17,294 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:17,294 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:17,295 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:17,875 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:17.8754790Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:17,878 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:17,879 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:17,879 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:18,462 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:18.4624950Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:18,465 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:18,466 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:18,466 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:19,045 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:19.0450450Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:19,055 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:19,055 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:19,055 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:19,636 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:19.6363530Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:19,639 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:19,639 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:19,640 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:20,219 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:20.2199560Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:20,227 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:20,227 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:20,227 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:20,807 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:20.8078450Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:20,812 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:20,812 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:20,813 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:21,396 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:21.3960810Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:21,398 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:21,399 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:21,399 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:21,978 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:21.9788850Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:21,986 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:21,986 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:21,987 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:22,570 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:22.5705090Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:22,572 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:22,572 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:22,573 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:23,153 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:23.1536900Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:23,160 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:23,160 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:23,160 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:23,737 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:23.7371100Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:23,746 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:23,746 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:23,747 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:24,330 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:24.3303930Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:24,332 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:24,332 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:24,332 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:24,909 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:24.9092360Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:24,921 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:24,921 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:24,922 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:25,504 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:25.5042230Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:25,524 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:25,524 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:25,525 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:26,103 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:26.1038230Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:26,111 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:26,111 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:26,111 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:26,697 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:26.6971820Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:26,715 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:26,715 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:26,715 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:27,292 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:27.2929430Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:27,302 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:27,302 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:27,303 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:27,877 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:27.8776970Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:27,887 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:27,887 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:27,888 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:28,468 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:28.4681200Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:28,473 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:28,474 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:28,474 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:29,054 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:29.0546280Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:29,078 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:29,079 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:29,079 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:29,647 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:29.6475870Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:29,666 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:29,667 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:29,667 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:30,236 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:30.2362660Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:30,253 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:30,253 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:30,254 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:30,839 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:30.8392880Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:30,858 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:30,858 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:30,859 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:31,428 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:31.4288140Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:31,444 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:31,444 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:31,444 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:32,029 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:32.0291360Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:32,050 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:32,050 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:32,051 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:32,626 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:32.6267620Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:32,634 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:32,634 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:32,635 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:33,221 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:33.2213120Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:33,240 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:33,240 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:33,241 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:33,820 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:33.8203090Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:33,825 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:33,825 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:33,825 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:34,403 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:34.4033090Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:34,411 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:34,411 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:34,411 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:34,992 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:34.9929050Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:34,998 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:34,998 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:34,998 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:35,578 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:35.5785440Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:35,585 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:35,585 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:35,585 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:36,158 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:36.1582440Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:36,173 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:36,174 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:36,174 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:36,749 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:36.7493860Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:36,759 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:36,759 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:36,759 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:37,336 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:37.3360100Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:37,344 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:37,344 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:37,345 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:37,928 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:37.9289000Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:37,931 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:37,931 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:37,931 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:38,503 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:38.5032730Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:38,519 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:38,520 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:38,520 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:39,100 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:39.1000170Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:39,104 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:39,105 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:39,105 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:39,683 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:39.6833670Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:39,692 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:39,692 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:39,692 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:40,268 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:40.2688180Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:40,278 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:40,278 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:40,278 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:40,860 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:40.8603160Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:40,864 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:40,864 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:40,864 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:41,438 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:41.4381190Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:41,464 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:41,464 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:41,465 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:42,035 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:42.0359770Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:42,038 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:42,038 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:42,038 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:42,619 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:42.6199400Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:42,624 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:42,624 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:42,624 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:43,202 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:43.2025880Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:43,211 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:43,211 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:43,211 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:43,791 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:43.7910200Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:43,797 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:43,797 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:43,797 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:44,373 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:44.3734230Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:44,386 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:44,386 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:44,386 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:44,968 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:44.9682190Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:44,970 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:44,970 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:44,971 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:45,549 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:45.5492730Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:45,557 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:45,557 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:45,557 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:46,131 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:46.1317130Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:46,144 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:46,144 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:46,145 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:46,721 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:46.7212560Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:46,732 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:46,732 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:46,733 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:47,308 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:47.3082810Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:47,318 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:47,318 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:47,319 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:47,903 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:47.9031930Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:47,923 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:47,923 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:47,923 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:48,497 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:48.4978920Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:48,509 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:48,510 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:48,510 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:49,084 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:49.0841810Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:49,094 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:49,094 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:49,094 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:49,677 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:49.6774260Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:49,681 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:49,682 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:49,682 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:50,256 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:50.2562010Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:50,269 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:50,270 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:50,270 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:50,853 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:50.8535450Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:50,873 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:50,874 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:50,874 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:51,443 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:51.4437520Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:51,461 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:51,461 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:51,462 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:52,039 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:52.0391270Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:52,046 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:52,046 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:52,047 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:52,626 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:52.6263070Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:52,632 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:52,633 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:52,633 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:53,211 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:53.2117150Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:53,219 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:53,220 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:53,220 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:53,800 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:53.8005980Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:53,805 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:53,805 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:53,806 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:54,378 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:54.3786920Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:54,395 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:54,395 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:54,396 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:54,971 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:54.9719270Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:54,978 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:54,979 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:54,979 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:55,554 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:55.5549290Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:55,565 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:55,565 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:55,566 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:56,144 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:56.1440580Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:56,153 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:56,153 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:56,153 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:56,735 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:56.7354380Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:56,738 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:56,738 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:56,739 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:57,318 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:57.3182340Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:57,325 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:57,326 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:57,326 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:57,911 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:57.9118480Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:57,929 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:57,930 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:57,930 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:58,507 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:58.5075230Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:58,517 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:58,517 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:58,517 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:59,093 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:59.0931090Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:59,104 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:59,105 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:59,106 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:50:59,685 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:20:59.6858400Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:50:59,689 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:50:59,689 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:50:59,689 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:00,264 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:00.2644260Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:00,278 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:00,278 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:00,278 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:00,855 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:00.8550180Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:00,862 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:00,863 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:00,863 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:01,441 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:01.4414440Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:01,450 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:01,451 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:01,451 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:02,026 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:02.0260100Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:02,037 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:02,037 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:02,038 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:02,615 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:02.6153370Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:02,623 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:02,623 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:02,623 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:03,202 [18] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:03.2028610Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:03,209 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:03,209 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:03,210 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:03,787 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:03.7876080Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:03,796 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:03,797 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:03,797 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:04,376 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:04.3766260Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:04,383 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:04,383 [18] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:04,384 [18] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:04,953 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:04.9536240Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:04,973 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:04,974 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:04,974 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:05,549 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:05.5496300Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:05,556 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:05,556 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:05,556 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:06,131 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:06.1317120Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:06,144 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:06,144 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:06,145 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:06,718 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:06.7188000Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:06,730 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:06,730 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:06,730 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:07,307 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:07.3078920Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:07,317 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:07,317 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:07,318 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:07,886 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:07.8864380Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:07,903 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:07,903 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:07,903 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:08,486 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:08.4863470Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:08,488 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:08,488 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:08,489 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:09,061 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:09.0611880Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:09,077 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:09,077 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:09,078 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:09,661 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:09.6615460Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:09,682 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:09,682 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:09,683 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:10,259 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:10.2596130Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:10,267 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:10,268 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:10,268 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:10,849 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:10.8499170Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:10,854 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:10,854 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:10,855 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:11,433 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:11.4332780Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:11,441 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:11,441 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:11,442 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:12,016 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:12.0168670Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:12,028 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:12,029 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:12,029 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:12,600 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:12.6003630Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:12,613 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:12,613 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:12,614 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:13,193 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:13.1934290Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:13,200 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:13,200 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:13,201 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:13,774 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:13.7747860Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:13,789 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:13,789 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:13,790 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:14,369 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:14.3693030Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:14,372 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:14,372 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:14,373 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:14,949 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:14.9499270Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:14,961 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:14,962 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:14,962 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:15,538 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:15.5387060Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:15,546 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:15,546 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:15,547 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:16,125 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:16.1255150Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:16,134 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:16,134 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:16,135 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:16,710 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:16.7101420Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:16,721 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:16,721 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:16,721 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:17,298 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:17.2986350Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:17,306 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:17,307 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:17,307 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:17,880 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:17.8801460Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:17,893 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:17,893 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:17,894 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:18,476 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:18.4768500Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:18,478 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:18,478 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:18,479 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:19,058 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:19.0581940Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:19,067 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:19,068 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:19,068 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:19,641 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:19.6413120Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:19,655 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:19,655 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:19,656 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:20,231 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:20.2319780Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:20,238 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:20,239 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:20,239 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:20,811 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:20.8117670Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:20,829 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:20,829 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:20,829 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:21,407 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:21.4076380Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:21,412 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:21,412 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:21,413 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:21,992 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:21.9921860Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:21,999 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:21,999 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:22,000 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:22,584 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:22.5847930Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:22,606 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:22,606 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:22,607 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:23,183 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:23.1833310Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:23,191 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:23,191 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:23,192 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:23,771 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:23.7710020Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:23,777 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:23,777 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:23,777 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:24,358 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:24.3581120Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:24,363 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:24,364 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:24,364 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:24,951 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:24.9516770Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:24,971 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:24,971 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:24,972 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:25,549 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:25.5490530Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:25,555 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:25,555 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:25,556 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:26,143 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:26.1437970Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:26,162 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:26,163 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:26,163 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:26,733 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:26.7330380Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:26,747 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:26,747 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:26,748 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:27,322 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:27.3228300Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:27,334 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:27,334 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:27,335 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:27,906 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:27.9069560Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:27,918 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:27,918 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:27,919 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:28,492 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:28.4929030Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:28,505 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:28,505 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:28,510 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:29,091 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:29.0916430Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:29,112 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:29,113 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:29,113 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:29,686 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:29.6868240Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:29,698 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:29,698 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:29,699 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:30,274 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:30.2746910Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:30,282 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:30,282 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:30,282 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:30,850 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:30.8504800Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:30,872 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:30,872 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:30,873 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:31,456 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:31.4567610Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:31,478 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:31,478 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:31,479 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:32,055 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:32.0555550Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:32,061 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:32,061 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:32,062 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:32,635 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:32.6351470Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:32,647 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:32,647 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:32,648 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:33,214 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:33.2148930Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:33,234 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:33,234 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:33,235 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:33,806 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:33.8067420Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:33,822 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:33,822 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:33,822 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:34,397 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:34.3976600Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:34,408 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:34,408 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:34,409 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:34,982 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:34.9824400Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:34,995 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:34,995 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:34,996 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:35,565 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:35.5655380Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:35,580 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:35,581 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:35,581 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:36,157 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:36.1576320Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:36,168 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:36,168 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:36,169 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:36,739 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:36.7396210Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:36,755 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:36,755 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:36,756 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:37,332 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:37.3325230Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:37,341 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:37,341 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:37,342 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:37,914 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:37.9147300Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:37,928 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:37,928 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:37,928 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:38,506 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:38.5064780Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:38,513 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:38,513 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:38,514 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:39,081 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:39.0812450Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:39,104 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:39,104 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:39,105 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:39,672 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:39.6727210Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:39,688 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:39,688 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:39,689 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:40,265 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:40.2656320Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:40,274 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:40,274 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:40,275 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:40,849 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:40.8498100Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:40,859 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:40,859 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:40,860 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:41,432 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:41.4323920Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:41,447 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:41,448 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:41,448 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:42,014 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:42.0147200Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:42,033 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:42,033 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:42,034 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:42,606 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:42.6065530Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:42,622 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:42,622 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:42,622 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:43,199 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:43.1991170Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:43,207 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:43,207 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:43,208 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:43,782 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:43.7826080Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:43,794 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:43,794 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:43,795 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:44,363 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:44.3639600Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:44,380 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:44,381 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:44,381 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:44,956 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:44.9568120Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:44,968 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:44,968 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:44,968 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:45,540 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:45.5401290Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:45,554 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:45,554 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:45,555 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:46,123 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:46.1231350Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:46,142 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:46,143 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:46,143 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:46,714 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:46.7145560Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:46,726 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:46,727 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:46,727 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:47,298 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:47.2981210Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:47,313 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:47,314 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:47,314 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:47,880 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:47.8809350Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:47,901 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:47,901 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:47,901 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:48,472 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:48.4727510Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:48,487 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:48,488 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:48,488 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:49,065 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:49.0656670Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:49,073 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:49,074 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:49,074 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:49,653 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:49.6538440Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:49,659 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:49,659 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:49,659 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:50,237 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:50.2370710Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:50,246 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:50,247 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:50,247 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:50,824 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:50.8241870Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:50,833 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:50,834 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:50,834 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:51,414 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:51.4147660Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:51,418 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:51,419 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:51,419 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:52,008 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:52.0080180Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:52,027 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:52,027 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:52,028 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:52,606 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:52.6062840Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:52,611 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:52,612 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:52,612 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:53,190 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:53.1905680Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:53,198 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:53,198 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:53,198 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:53,781 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:53.7811220Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:53,783 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:53,783 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:53,783 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:54,364 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:54.3648870Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:54,371 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:54,371 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:54,371 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:54,957 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:54.9578210Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:54,978 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:54,979 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:54,979 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:55,556 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:55.5569270Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:55,561 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:55,561 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:55,562 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:56,140 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:56.1403610Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:56,149 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:56,149 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:56,150 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:56,724 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:56.7245180Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:56,734 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:56,735 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:56,735 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:57,312 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:57.3128310Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:57,320 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:57,320 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:57,321 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:57,904 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:57.9048440Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:57,907 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:57,907 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:57,907 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:58,485 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:58.4858500Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:58,495 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:58,496 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:58,496 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:59,072 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:59.0729180Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:59,082 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:59,082 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:59,083 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:51:59,658 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:21:59.6583510Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:51:59,669 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:51:59,669 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:51:59,670 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:00,248 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:00.2485320Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:00,253 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:00,253 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:00,254 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:00,835 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:00.8355130Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:00,840 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:00,840 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:00,841 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:01,421 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:01.4210000Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:01,427 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:01,427 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:01,427 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:02,016 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:02.0169790Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:02,034 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:02,034 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:02,035 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:02,609 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:02.6095250Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:02,619 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:02,619 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:02,620 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:03,206 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:03.2068200Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:03,226 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:03,226 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:03,227 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:03,806 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:03.8063000Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:03,809 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:03,809 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:03,810 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:04,389 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:04.3890240Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:04,397 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:04,397 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:04,397 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:04,981 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:04.9817000Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:05,004 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:05,005 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:05,006 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:05,590 [27] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:05.5904160Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:05,605 [27] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:05,606 [27] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:05,606 [27] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:06,183 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:06.1835440Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:06,193 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:06,193 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:06,194 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:06,764 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:06.7649780Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:06,779 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:06,780 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:06,780 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:07,365 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:07.3654330Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:07,386 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:07,386 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:07,387 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:07,964 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:07.9642090Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:07,968 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:07,968 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:07,969 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:08,540 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:08.5402410Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:08,560 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:08,560 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:08,561 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:09,134 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:09.1347730Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:09,143 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:09,144 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:09,144 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:09,732 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:09.7323450Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:09,748 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:09,749 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:09,749 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:10,331 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:10.3317860Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:10,355 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:10,356 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:10,356 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:10,938 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:10.9389710Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:10,956 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:10,957 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:10,958 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:11,540 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:11.5406410Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:11,562 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:11,562 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:11,563 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:12,148 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:12.1486760Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:12,165 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:12,165 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:12,165 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:12,740 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:12.7406850Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:12,752 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:12,753 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:12,753 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:13,339 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:13.3394740Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:13,358 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:13,359 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:13,359 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:13,939 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:13.9397430Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:13,942 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:13,942 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:13,943 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:14,519 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:14.5198200Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:14,530 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:14,530 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:14,531 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:15,114 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:15.1146170Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:15,136 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:15,136 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:15,137 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:15,713 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:15.7131020Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:15,721 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:15,721 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:15,721 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:16,305 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:16.3059600Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:16,329 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:16,329 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:16,329 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:16,914 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:16.9144480Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:16,929 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:16,929 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:16,930 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:17,512 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:17.5128270Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:17,515 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:17,515 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:17,515 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:18,098 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:18.0983250Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:18,100 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:18,101 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:18,101 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:18,670 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:18.6707770Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:18,690 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:18,690 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:18,691 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:19,272 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:19.2720950Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:19,275 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:19,275 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:19,276 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:19,854 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:19.8541500Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:19,863 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:19,863 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:19,864 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:20,446 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:20.4469540Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:20,470 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:20,470 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:20,471 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:21,055 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:21.0552650Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:21,070 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:21,071 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:21,071 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:21,655 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:21.6554290Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:21,676 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:21,676 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:21,677 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:22,254 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:22.2547590Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:22,262 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:22,262 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:22,263 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:22,844 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:22.8448550Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:22,847 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:22,847 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:22,847 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:23,430 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:23.4307560Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:23,434 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:23,434 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:23,435 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:24,012 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:24.0124440Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:24,022 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:24,022 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:24,023 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:24,603 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:24.6030150Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:24,607 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:24,607 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:24,608 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:25,187 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:25.1879130Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:25,195 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:25,195 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:25,196 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:25,781 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:25.7812160Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:25,800 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:25,801 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:25,802 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:26,379 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:26.3797890Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:26,386 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:26,386 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:26,387 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:26,971 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:26.9717340Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:26,994 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:26,995 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:26,995 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:27,580 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:27.5803020Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:27,597 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:27,597 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:27,598 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:28,177 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:28.1778500Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:28,179 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:28,180 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:28,180 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:28,755 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:28.7554190Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:28,769 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:28,770 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:28,770 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:29,354 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:29.3549550Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:29,376 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:29,376 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:29,377 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:29,953 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:29.9533350Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:29,959 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:29,959 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:29,959 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:30,536 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:30.5361790Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:30,547 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:30,547 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:30,547 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:31,129 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:31.1295510Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:31,131 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:31,131 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:31,132 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:31,708 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:31.7085610Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:31,720 [30] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:31,720 [30] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:31,720 [30] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:32,303 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:32.3036660Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:32,328 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:32,328 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:32,329 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:32,901 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:32.9011600Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:32,912 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:32,912 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:32,913 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:33,497 [30] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:33.4972990Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:33,515 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:33,515 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:33,516 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:34,097 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:34.0974980Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:34,099 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:34,099 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:34,100 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:34,669 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:34.6695820Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:34,688 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:34,689 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:34,689 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:35,270 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:35.2706630Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:35,273 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:35,273 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:35,274 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:35,854 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:35.8540190Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:35,878 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:35,879 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:35,879 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:36,438 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:36.4380490Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:36,447 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:36,448 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:36,448 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:37,028 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:37.0287920Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:37,033 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:37,033 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:37,034 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:37,613 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:37.6130350Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:37,620 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:37,621 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:37,621 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:38,204 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:38.2042140Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:38,206 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:38,206 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:38,206 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:38,782 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:38.7822180Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:38,794 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:38,795 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:38,795 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:39,381 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:39.3812410Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:39,397 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:39,398 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:39,399 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:39,978 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:39.9783280Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:39,985 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:39,985 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:39,986 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:40,571 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:40.5713400Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:40,590 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:40,590 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:40,591 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:41,171 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:41.1715310Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:41,175 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:41,175 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:41,175 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:41,763 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:41.7633770Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:41,782 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:41,782 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:41,783 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:42,361 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:42.3612690Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:42,365 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:42,366 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:42,366 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:42,944 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:42.9445570Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:42,952 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:42,952 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:42,952 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:43,538 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:43.5380300Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:43,561 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:43,561 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:43,562 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:44,145 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:44.1452080Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:44,165 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:44,166 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:44,167 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:44,737 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:44.7372220Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:44,748 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:44,748 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:44,749 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:45,326 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:45.3267290Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:45,336 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:45,336 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:45,337 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:45,921 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:45.9213640Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:45,944 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:45,945 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:45,945 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:46,526 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:46.5260680Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:46,544 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:46,545 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:46,545 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:47,128 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:47.1282990Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:47,132 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:47,132 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:47,133 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:47,712 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:47.7120420Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:47,717 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:47,718 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:47,718 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:48,294 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:48.2945710Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:48,306 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:48,306 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:48,306 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:48,886 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:48.8867230Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:48,889 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:48,890 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:48,890 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:49,463 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:49.4639870Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:49,479 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:49,480 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:49,480 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:50,062 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:50.0622720Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:50,081 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:50,082 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:50,082 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:50,652 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:50.6523480Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:50,668 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:50,668 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:50,669 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:51,252 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:51.2525470Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:51,254 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:51,254 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:51,255 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:51,830 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:51.8309470Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:51,849 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:51,849 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:51,850 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:52,411 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:52.4112960Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:52,428 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:52,428 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:52,429 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:53,001 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:53.0015870Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:53,013 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:53,014 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:53,014 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:53,593 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:53.5935070Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:53,602 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:53,603 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:53,603 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:54,186 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:54.1862260Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:54,207 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:54,207 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:54,208 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:54,786 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:54.7869880Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:54,792 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:54,792 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:54,792 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:55,380 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:55.3808340Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:55,398 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:55,399 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:55,399 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:55,971 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:55.9716980Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:55,983 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:55,983 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:55,984 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:56,556 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:56.5568220Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:56,571 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:56,572 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:56,572 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:57,148 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:57.1486960Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:57,157 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:57,157 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:57,158 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:57,735 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:57.7354660Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:57,744 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:57,745 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:57,745 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:58,328 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:58.3281850Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:58,349 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:58,350 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:58,350 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:58,926 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:58.9264980Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:58,935 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:58,935 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:58,936 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:52:59,511 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:22:59.5114700Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:52:59,522 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:52:59,522 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:52:59,523 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:00,101 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:00.1014520Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:00,107 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:00,108 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:00,108 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:00,676 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:00.6761810Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:00,693 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:00,694 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:00,694 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:01,275 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:01.2753040Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:01,281 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:01,281 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:01,282 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:01,857 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:01.8579730Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:01,869 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:01,870 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:01,870 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:02,452 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:02.4527580Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:02,476 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:02,476 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:02,477 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:03,057 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:03.0577080Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:03,080 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:03,080 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:03,080 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:03,657 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:03.6574850Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:03,666 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:03,668 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:03,668 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:04,253 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:04.2536270Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:04,270 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:04,271 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:04,271 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:04,849 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:04.8499400Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:04,853 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:04,853 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:04,854 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:05,436 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:05.4360440Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:05,440 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:05,441 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:05,442 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:06,019 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:06.0190080Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:06,027 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:06,027 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:06,028 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:06,605 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:06.6053560Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:06,614 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:06,615 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:06,615 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:07,203 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:07.2036200Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:07,219 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:07,219 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:07,220 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:07,801 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:07.8013250Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:07,803 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:07,804 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:07,804 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:08,384 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:08.3844430Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:08,391 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:08,392 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:08,392 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:08,975 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:08.9750730Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:08,977 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:08,977 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:08,977 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:09,560 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:09.5601040Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:09,563 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:09,563 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:09,564 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:10,142 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:10.1421070Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:10,152 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:10,152 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:10,153 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:10,727 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:10.7272850Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:10,738 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:10,738 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:10,739 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:11,318 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:11.3187120Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:11,324 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:11,324 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:11,325 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:11,909 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:11.9091380Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:11,932 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:11,933 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:11,933 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:12,514 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:12.5143070Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:12,535 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:12,535 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:12,536 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:13,117 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:13.1170220Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:13,119 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:13,119 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:13,119 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:13,702 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:13.7022480Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:13,706 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:13,707 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:13,707 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:14,284 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:14.2841630Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:14,294 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:14,295 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:14,295 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:14,875 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:14.8752610Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:14,879 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:14,879 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:14,880 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:15,458 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:15.4587590Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:15,467 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:15,467 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:15,468 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:16,051 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:16.0519300Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:16,075 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:16,076 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:16,076 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:16,651 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:16.6519400Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:16,656 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:16,656 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:16,656 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:17,242 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:17.2423880Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:17,266 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:17,267 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:17,268 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:17,852 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:17.8521390Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:17,868 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:17,868 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:17,869 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:18,451 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:18.4513940Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:18,471 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:18,471 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:18,472 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:19,050 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:19.0508820Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:19,057 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:19,057 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:19,057 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:19,642 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:19.6421020Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:19,666 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:19,666 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:19,667 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:20,251 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:20.2511620Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:20,269 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:20,269 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:20,270 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:20,848 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:20.8487740Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:20,852 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:20,852 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:20,853 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:21,430 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:21.4306150Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:21,439 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:21,439 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:21,440 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:22,011 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:22.0119070Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:22,028 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:22,029 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:22,029 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:22,604 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:22.6044620Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:22,612 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:22,612 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:22,613 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:23,201 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:23.2016120Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:23,218 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:23,219 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:23,219 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:23,799 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:23.7998870Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:23,803 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:23,803 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:23,804 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:24,384 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:24.3840450Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:24,389 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:24,390 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:24,390 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:24,975 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:24.9756330Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:24,999 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:24,999 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:24,999 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:25,575 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:25.5756700Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:25,580 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:25,580 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:25,581 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:26,167 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:26.1675510Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:26,188 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:26,189 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:26,190 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:26,759 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:26.7592290Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:26,772 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:26,772 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:26,773 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:27,360 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:27.3608360Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:27,380 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:27,380 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:27,381 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:27,965 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:27.9650630Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:27,981 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:27,981 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:27,981 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:28,566 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:28.5666350Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:28,588 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:28,589 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:28,589 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:29,173 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:29.1737250Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:29,192 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:29,192 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:29,193 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:29,774 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:29.7742710Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:29,777 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:29,777 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:29,778 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:30,362 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:30.3623300Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:30,382 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:30,382 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:30,383 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:30,966 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:30.9661920Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:30,989 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:30,990 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:30,991 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:31,573 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:31.5739300Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:31,593 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:31,593 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:31,594 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:32,175 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:32.1757740Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:32,197 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:32,198 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:32,199 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:32,777 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:32.7772190Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:32,780 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:32,780 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:32,780 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:33,366 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:33.3668830Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:33,388 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:33,388 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:33,389 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:33,965 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:33.9651570Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:33,972 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:33,972 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:33,973 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:34,558 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:34.5587970Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:34,579 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:34,579 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:34,580 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:35,164 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:35.1641410Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:35,183 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:35,186 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:35,189 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:35,765 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:35.7654880Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:35,788 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:35,788 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:35,790 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:36,366 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:36.3668450Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:36,371 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:36,371 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:36,372 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:36,957 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:36.9572720Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:36,979 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:36,979 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:36,980 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:37,566 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:37.5668630Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:37,583 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:37,583 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:37,584 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:38,166 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:38.1665450Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:38,187 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:38,187 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:38,188 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:38,758 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:38.7589430Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:38,770 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:38,770 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:38,771 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:39,361 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:39.3619670Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:39,395 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:39,396 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:39,397 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:39,963 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:39.9639090Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:39,984 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:39,984 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:39,985 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:40,563 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:40.5632900Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:40,565 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:40,647 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:40,649 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:41,146 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:41.1466170Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:41,169 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:41,169 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:41,169 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:41,727 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:41.7279630Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:41,744 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:41,744 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:41,744 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:42,332 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:42.3327830Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:42,345 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:42,345 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:42,345 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:42,931 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:42.9318450Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:42,950 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:42,950 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:42,950 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:43,534 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:43.5342520Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:43,561 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:43,561 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:43,562 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:44,144 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:44.1440410Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:44,171 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:44,171 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:44,172 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:44,754 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:44.7547630Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:44,774 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:44,774 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:44,774 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:45,345 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:45.3459880Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:45,348 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:45,348 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:45,349 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:45,925 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:45.9259790Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:45,935 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:45,935 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:45,936 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:46,510 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:46.5102880Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:46,526 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:46,526 [22] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:46,527 [22] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:47,098 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:47.0984550Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:47,111 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:47,111 [22] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:47,112 [22] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:47,689 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:47.6897960Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:47,696 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:47,696 [22] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:47,696 [22] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:48,281 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:48.2819270Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:48,301 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:48,301 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:48,302 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:48,893 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:48.8935190Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:48,906 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:48,906 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:48,907 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:49,496 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:49.4968020Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:49,509 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:49,509 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:49,510 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:50,088 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:50.0887160Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:50,096 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:50,096 [22] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:50,097 [22] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:50,681 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:50.6810670Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:50,700 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:50,701 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:50,701 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:51,281 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:51.2810730Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:51,286 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:51,286 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:51,287 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:51,872 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:51.8728210Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:51,898 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:51,898 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:51,899 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:52,480 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:52.4802070Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:52,500 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:52,500 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:52,501 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:53,083 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:53.0830900Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:53,100 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:53,100 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:53,100 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:53,674 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:53.6741930Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:53,690 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:53,690 [22] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:53,691 [22] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:54,270 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:54.2709440Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:54,293 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:54,293 [22] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:54,294 [22] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:54,881 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:54.8818800Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:54,896 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:54,897 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:54,897 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:55,481 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:55.4811040Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:55,501 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:55,501 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:55,502 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:56,081 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:56.0811410Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:56,086 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:56,086 [22] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:56,087 [22] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:56,664 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:56.6646320Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:56,675 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:56,675 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:56,676 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:57,267 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:57.2671490Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:57,279 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:57,279 [22] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:57,280 [22] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:57,866 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:57.8665600Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:57,885 [22] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:57,885 [22] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:57,886 [22] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:58,464 [22] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:58.4641730Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:58,467 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:58,468 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:58,468 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:59,048 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:59.0485510Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:59,055 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:59,055 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:59,055 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:53:59,632 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:23:59.6322830Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:53:59,642 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:53:59,643 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:53:59,643 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:00,222 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:00.2225080Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:00,227 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:00,228 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:00,228 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:00,814 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:00.8141550Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:00,833 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:00,834 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:00,834 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:01,415 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:01.4157700Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:01,418 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:01,419 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:01,419 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:01,999 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:01.9993440Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:02,006 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:02,006 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:02,007 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:02,599 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:02.5999450Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:02,613 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:02,614 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:02,614 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:03,197 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:03.1973730Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:03,216 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:03,217 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:03,217 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:03,793 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:03.7938530Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:03,799 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:03,799 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:03,800 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:04,381 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:04.3812360Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:04,388 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:04,388 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:04,389 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:04,973 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:04.9733930Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:04,998 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:04,998 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:04,999 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:05,585 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:05.5852380Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:05,597 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:05,597 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:05,597 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:06,180 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:06.1803650Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:06,205 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:06,205 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:06,206 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:06,799 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:06.7998810Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:06,805 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:06,805 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:06,806 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:07,389 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:07.3893730Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:07,416 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:07,417 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:07,417 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:07,993 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:07.9939240Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:08,015 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:08,016 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:08,016 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:08,595 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:08.5955500Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:08,599 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:08,599 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:08,600 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:09,180 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:09.1800420Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:09,187 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:09,187 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:09,188 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:09,757 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:09.7578910Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:09,780 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:09,780 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:09,781 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:10,364 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:10.3643270Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:10,381 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:10,382 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:10,382 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:10,963 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:10.9631420Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:10,987 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:10,987 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:10,988 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:11,569 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:11.5694290Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:11,589 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:11,590 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:11,591 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:12,172 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:12.1723130Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:12,194 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:12,194 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:12,195 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:12,779 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:12.7790620Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:12,800 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:12,800 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:12,801 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:13,379 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:13.3792670Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:13,381 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:13,381 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:13,381 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:13,962 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:13.9627070Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:13,969 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:13,970 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:13,970 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:14,546 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:14.5463890Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:14,555 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:14,556 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:14,556 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:15,148 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:15.1487210Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:15,163 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:15,163 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:15,164 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:15,742 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:15.7421960Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:15,746 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:15,746 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:15,747 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:16,330 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:16.3306710Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:16,351 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:16,352 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:16,352 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:16,937 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:16.9378540Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:16,955 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:16,956 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:16,957 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:17,533 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:17.5330080Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:17,544 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:17,544 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:17,545 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:18,131 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:18.1313060Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:18,149 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:18,149 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:18,149 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:18,729 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:18.7294860Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:18,732 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:18,733 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:18,733 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:19,312 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:19.3123870Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:19,321 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:19,321 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:19,322 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:19,908 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:19.9080950Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:19,928 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:19,928 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:19,929 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:20,505 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:20.5059280Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:20,510 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:20,510 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:20,511 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:21,096 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:21.0966910Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:21,117 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:21,118 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:21,119 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:21,698 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:21.6981680Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:21,700 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:21,700 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:21,701 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:22,278 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:22.2789400Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:22,291 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:22,291 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:22,292 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:22,873 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:22.8729970Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:22,901 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:22,901 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:22,902 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:23,479 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:23.4793750Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:23,499 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:23,499 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:23,500 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:24,078 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:24.0784530Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:24,082 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:24,082 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:24,082 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:24,661 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:24.6617230Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:24,670 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:24,670 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:24,671 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:25,253 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:25.2535380Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:25,255 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:25,256 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:25,256 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:25,848 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:25.8488850Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:25,862 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:25,862 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:25,862 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:26,457 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:26.4570320Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:26,466 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:26,467 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:26,467 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:27,044 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:27.0447610Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:27,054 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:27,054 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:27,055 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:27,637 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:27.6377760Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:27,660 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:27,660 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:27,661 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:28,246 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:28.2468420Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:28,266 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:28,266 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:28,267 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:28,844 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:28.8440480Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:28,846 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:28,846 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:28,847 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:29,427 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:29.4277510Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:29,436 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:29,436 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:29,437 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:30,009 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:30.0096520Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:30,025 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:30,026 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:30,027 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:30,602 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:30.6020660Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:30,607 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:30,608 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:30,608 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:31,196 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:31.1962210Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:31,216 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:31,216 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:31,216 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:31,786 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:31.7867640Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:31,799 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:31,799 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:31,799 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:32,390 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:32.3905630Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:32,403 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:32,403 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:32,404 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:32,980 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:32.9800290Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:32,989 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:32,990 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:32,990 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:33,563 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:33.5631180Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:33,580 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:33,581 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:33,581 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:34,160 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:34.1607950Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:34,182 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:34,183 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:34,183 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:34,761 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:34.7610190Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:34,766 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:34,767 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:34,767 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:35,344 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:35.3444950Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:35,357 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:35,357 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:35,357 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:35,946 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:35.9466250Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:35,961 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:35,961 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:35,962 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:36,539 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:36.5394990Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:36,544 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:36,544 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:36,545 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:37,128 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:37.1280720Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:37,130 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:37,130 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:37,131 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:37,704 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:37.7045220Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:37,722 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:37,723 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:37,723 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:38,315 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:38.3154880Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:38,324 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:38,324 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:38,325 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:38,913 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:38.9136510Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:38,929 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:38,929 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:38,930 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:39,510 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:39.5105060Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:39,514 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:39,514 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:39,515 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:40,094 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:40.0945430Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:40,101 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:40,101 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:40,102 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:40,679 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:40.6790570Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:40,686 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:40,686 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:40,687 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:41,282 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:41.2822080Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:41,294 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:41,294 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:41,295 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:41,876 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:41.8769390Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:41,899 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:41,900 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:41,900 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:42,478 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:42.4780990Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:42,481 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:42,481 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:42,481 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:43,057 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:43.0579690Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:43,071 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:43,071 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:43,071 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:43,650 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:43.6505830Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:43,655 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:43,655 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:43,655 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:44,244 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:44.2445850Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:44,261 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:44,262 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:44,263 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:44,843 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:44.8433410Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:44,845 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:44,845 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:44,846 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:45,426 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:45.4264180Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:45,433 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:45,433 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:45,434 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:46,011 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:46.0110330Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:46,021 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:46,021 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:46,022 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:46,604 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:46.6045530Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:46,629 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:46,630 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:46,630 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:47,211 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:47.2111320Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:47,232 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:47,232 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:47,233 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:47,812 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:47.8129490Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:47,839 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:47,839 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:47,840 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:48,428 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:48.4284100Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:48,437 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:48,437 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:48,437 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:49,022 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:49.0222900Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:49,048 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:49,049 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:49,049 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:49,636 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:49.6366920Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:49,648 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:49,649 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:49,650 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:50,226 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:50.2266050Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:50,234 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:50,234 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:50,235 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:50,821 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:50.8219010Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:50,843 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:50,843 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:50,844 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:51,426 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:51.4265030Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:51,447 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:51,448 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:51,449 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:52,037 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:52.0374510Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:52,048 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:52,048 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:52,049 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:52,631 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:52.6319420Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:52,654 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:52,655 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:52,655 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:53,246 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:53.2465700Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:53,258 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:53,258 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:53,259 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:53,842 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:53.8428980Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:53,862 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:53,862 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:53,862 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:54,444 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:54.4440970Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:54,465 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:54,465 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:54,466 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:55,045 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:55.0449530Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:55,050 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:55,050 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:55,051 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:55,625 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:55.6257680Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:55,639 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:55,640 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:55,640 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:56,219 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:56.2189980Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:56,223 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:56,224 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:56,224 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:56,812 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:56.8125660Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:56,832 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:56,833 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:56,834 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:57,411 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:57.4111540Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:57,413 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:57,413 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:57,414 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:58,001 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:58.0014630Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:58,024 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:58,025 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:58,025 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:58,615 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:58.6151020Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:58,625 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:58,625 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:58,625 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:59,209 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:59.2094540Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:59,232 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:59,233 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:59,233 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:54:59,808 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:24:59.8081790Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:54:59,814 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:54:59,815 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:54:59,815 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:00,400 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:00.4007580Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:00,425 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:00,425 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:00,426 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:01,012 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:01.0125530Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:01,026 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:01,026 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:01,027 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:01,609 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:01.6097870Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:01,632 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:01,633 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:01,634 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:02,208 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:02.2085620Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:02,214 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:02,214 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:02,215 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:02,795 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:02.7951050Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:02,799 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:02,800 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:02,800 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:03,385 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:03.3856080Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:03,414 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:03,414 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:03,415 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:03,994 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:03.9941940Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:04,015 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:04,015 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:04,016 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:04,601 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:04.6013850Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:04,615 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:04,615 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:04,616 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:05,201 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:05.2011380Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:05,220 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:05,220 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:05,221 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:05,792 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:05.7928990Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:05,803 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:05,803 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:05,804 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:06,388 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:06.3880880Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:06,391 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:06,391 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:06,391 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:06,969 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:06.9692640Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:06,978 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:06,979 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:06,979 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:07,569 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:07.5693320Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:07,571 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:07,571 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:07,572 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:08,152 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:08.1521230Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:08,170 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:08,170 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:08,171 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:08,752 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:08.7521780Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:08,754 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:08,754 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:08,754 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:09,334 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:09.3343780Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:09,342 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:09,343 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:09,344 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:09,925 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:09.9254090Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:09,927 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:09,928 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:09,928 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:10,506 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:10.5060410Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:10,517 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:10,518 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:10,519 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:11,103 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:11.1032520Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:11,121 [28] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:11,121 [28] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:11,122 [28] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:11,696 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:11.6966820Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:11,707 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:11,707 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:11,708 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:12,295 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:12.2956980Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:12,302 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:12,302 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:12,303 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:12,876 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:12.8760810Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:12,879 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:12,879 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:12,879 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:13,458 [28] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:13.4587350Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:13,467 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:13,468 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:13,469 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:14,046 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:14.0460880Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:14,052 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:14,052 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:14,053 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:14,628 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:14.6283060Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:14,640 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:14,641 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:14,641 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:15,214 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:15.2145500Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:15,227 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:15,228 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:15,228 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:15,809 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:15.8094250Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:15,811 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:15,811 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:15,812 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:16,392 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:16.3921650Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:16,400 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:16,400 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:16,401 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:16,984 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:16.9848360Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:17,005 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:17,006 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:17,006 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:17,582 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:17.5826650Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:17,591 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:17,591 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:17,592 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:18,164 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:18.1640670Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:18,176 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:18,176 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:18,177 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:18,751 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:18.7513180Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:18,765 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:18,765 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:18,765 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:19,346 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:19.3468490Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:19,348 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:19,349 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:19,349 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:19,935 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:19.9357800Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:19,955 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:19,955 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:19,956 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:20,530 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:20.5301750Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:20,541 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:20,541 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:20,541 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:21,115 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:21.1151960Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:21,128 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:21,128 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:21,129 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:21,707 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:21.7072680Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:21,713 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:21,713 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:21,713 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:22,300 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:22.3005090Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:22,321 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:22,322 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:22,322 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:22,909 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:22.9096040Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:22,925 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:22,925 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:22,926 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:23,505 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:23.5058820Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:23,508 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:23,508 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:23,509 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:24,091 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:24.0916390Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:24,096 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:24,096 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:24,096 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:24,665 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:24.6653250Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:24,685 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:24,685 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:24,685 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:25,269 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:25.2690880Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:25,288 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:25,288 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:25,289 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:25,863 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:25.8636290Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:25,875 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:25,875 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:25,876 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:26,448 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:26.4484960Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:26,461 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:26,461 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:26,462 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:27,043 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:27.0433360Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:27,047 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:27,047 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:27,048 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:27,622 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:27.6225930Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:27,636 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:27,636 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:27,637 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:28,215 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:28.2155240Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:28,220 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:28,220 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:28,220 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:28,789 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:28.7895280Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:28,866 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:28,866 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:28,867 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:29,391 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:29.3912450Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:29,394 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:29,394 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:29,395 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:29,973 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:29.9738640Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:29,980 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:29,980 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:29,981 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:30,568 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:30.5684190Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:30,587 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:30,587 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:30,588 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:31,165 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:31.1654650Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:31,170 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:31,171 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:31,171 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:31,748 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:31.7480030Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:31,760 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:31,761 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:31,761 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:32,340 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:32.3403970Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:32,343 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:32,344 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:32,344 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:32,923 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:32.9238930Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:32,931 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:32,931 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:32,932 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:33,516 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:33.5166980Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:33,522 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:33,522 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:33,523 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:34,099 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:34.0999870Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:34,104 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:34,104 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:34,104 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:34,673 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:34.6730990Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:34,694 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:34,694 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:34,695 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:35,274 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:35.2748420Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:35,276 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:35,277 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:35,277 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:35,858 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:35.8581630Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:35,864 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:35,864 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:35,864 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:36,451 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:36.4510940Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:36,472 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:36,472 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:36,473 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:37,057 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:37.0577150Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:37,083 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:37,083 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:37,083 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:37,662 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:37.6623070Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:37,681 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:37,681 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:37,681 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:38,265 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:38.2654130Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:38,281 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:38,281 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:38,281 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:38,862 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:38.8629740Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:38,867 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:38,867 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:38,868 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:39,447 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:39.4472140Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:39,454 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:39,455 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:39,455 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:40,041 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:40.0413330Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:40,062 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:40,063 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:40,063 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:40,648 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:40.6481350Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:40,666 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:40,666 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:40,666 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:41,249 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:41.2499420Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:41,272 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:41,272 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:41,273 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:41,851 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:41.8514920Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:41,853 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:41,853 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:41,854 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:42,442 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:42.4420480Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:42,458 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:42,458 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:42,459 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:43,038 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:43.0382080Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:43,046 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:43,046 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:43,047 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:43,623 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:43.6239550Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:43,632 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:43,633 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:43,633 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:44,214 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:44.2143540Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:44,219 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:44,219 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:44,220 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:44,798 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:44.7983590Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:44,806 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:44,806 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:44,806 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:45,391 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:45.3914890Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:45,413 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:45,413 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:45,414 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:45,998 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:45.9984640Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:46,015 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:46,015 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:46,016 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:46,600 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:46.6006420Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:46,621 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:46,622 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:46,623 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:47,201 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:47.2011390Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:47,204 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:47,204 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:47,205 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:47,787 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:47.7872980Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:47,792 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:47,792 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:47,793 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:48,388 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:48.3886250Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:48,398 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:48,399 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:48,400 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:48,978 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:48.9782610Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:48,983 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:48,983 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:48,984 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:49,564 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:49.5644760Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:49,570 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:49,570 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:49,570 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:50,138 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:50.1382690Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:50,160 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:50,160 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:50,160 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:50,730 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:50.7307650Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:50,745 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:50,745 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:50,746 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:51,327 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:51.3275170Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:51,330 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:51,330 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:51,330 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:51,897 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:51.8973310Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:51,917 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:51,918 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:51,918 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:52,527 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:52.5271590Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:52,545 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:52,545 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:52,545 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:53,097 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:53.0974600Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:53,107 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:53,107 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:53,108 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:53,694 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:53.6944580Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:53,699 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:53,699 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:53,699 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:54,273 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:54.2732810Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:54,280 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:54,281 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:54,281 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:54,854 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:54.8546670Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:54,867 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:54,867 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:54,868 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:55,438 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:55.4381610Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:55,455 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:55,455 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:55,455 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:56,030 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:56.0302660Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:56,041 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:56,042 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:56,042 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:56,614 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:56.6146150Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:56,627 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:56,627 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:56,628 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:57,197 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:57.1979540Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:57,212 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:57,212 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:57,213 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:57,790 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:57.7901760Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:57,801 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:57,802 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:57,802 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:58,382 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:58.3820280Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:58,386 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:58,386 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:58,386 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:58,954 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:58.9540710Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:58,977 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:58,977 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:58,978 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:55:59,556 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:25:59.5562510Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:55:59,560 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:55:59,560 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:55:59,560 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:00,141 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:00.1414280Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:00,146 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:00,146 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:00,147 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:00,721 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:00.7212200Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:00,735 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:00,735 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:00,735 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:01,303 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:01.3037230Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:01,321 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:01,321 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:01,322 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:01,896 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:01.8965140Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:01,907 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:01,907 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:01,907 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:02,480 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:02.4804970Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:02,494 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:02,495 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:02,495 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:03,090 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:03.0903230Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:03,143 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:03,143 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:03,146 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:03,671 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:03.6714260Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:03,683 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:03,684 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:03,684 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:04,254 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:04.2549770Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:04,272 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:04,272 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:04,272 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:04,847 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:04.8477990Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:04,859 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:04,860 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:04,860 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:05,436 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:05.4362120Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:05,444 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:05,445 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:05,445 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:06,030 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:06.0305270Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:06,049 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:06,049 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:06,050 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:06,623 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:06.6238340Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:06,637 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:06,637 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:06,637 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:07,221 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:07.2218350Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:07,243 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:07,244 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:07,244 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:07,824 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:07.8242270Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:07,846 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:07,846 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:07,847 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:08,425 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:08.4256260Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:08,430 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:08,431 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:08,431 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:09,009 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:09.0091570Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:09,017 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:09,017 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:09,018 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:09,596 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:09.5961360Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:09,608 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:09,608 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:09,609 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:10,185 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:10.1851960Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:10,191 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:10,191 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:10,192 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:10,763 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:10.7638540Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:10,779 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:10,779 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:10,780 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:11,359 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:11.3598770Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:11,363 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:11,363 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:11,364 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:11,939 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:11.9392640Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:11,952 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:11,952 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:11,953 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:12,521 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:12.5213670Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:12,539 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:12,539 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:12,540 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:13,120 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:13.1205750Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:13,122 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:13,122 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:13,122 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:13,701 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:13.7016930Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:13,710 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:13,710 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:13,710 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:14,297 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:14.2973580Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:14,314 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:14,315 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:14,315 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:14,892 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:14.8921710Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:14,902 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:14,902 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:14,903 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:15,478 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:15.4785810Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:15,488 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:15,489 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:15,489 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:16,068 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:16.0682740Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:16,074 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:16,074 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:16,074 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:16,643 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:16.6438580Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:16,662 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:16,662 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:16,662 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:17,247 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:17.2476680Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:17,269 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:17,269 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:17,270 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:17,854 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:17.8543540Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:17,872 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:17,873 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:17,874 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:18,452 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:18.4521300Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:18,455 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:18,456 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:18,456 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:19,039 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:19.0390340Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:19,042 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:19,043 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:19,043 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:19,627 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:19.6272250Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:19,629 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:19,630 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:19,630 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:20,212 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:20.2125670Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:20,215 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:20,216 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:20,217 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:20,805 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:20.8058080Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:20,821 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:20,822 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:20,823 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:21,403 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:21.4036240Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:21,407 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:21,408 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:21,409 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:21,987 [24] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:21.9870940Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:21,995 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:21,995 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:21,996 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:22,577 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:22.5774080Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:22,580 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:22,580 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:22,581 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:23,160 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:23.1606770Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:23,167 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:23,167 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:23,168 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:23,780 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:23.7799510Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:23,792 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:23,792 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:23,793 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:24,383 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:24.3838230Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:24,396 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:24,396 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:24,397 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:24,979 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:24.9794690Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:24,999 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:24,999 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:25,000 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:25,578 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:25.5789120Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:25,585 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:25,586 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:25,586 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:26,158 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:26.1588160Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:26,171 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:26,171 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:26,171 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:26,752 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:26.7527770Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:26,758 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:26,758 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:26,758 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:27,334 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:27.3341830Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:27,350 [24] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:27,350 [24] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:27,351 [24] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:27,929 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:27.9293610Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:27,950 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:27,951 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:27,951 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:28,525 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:28.5252290Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:28,538 [20] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:28,539 [20] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:28,539 [20] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:29,118 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:29.1182440Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:29,122 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:29,122 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:29,123 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:29,698 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:29.6985110Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:29,709 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:29,709 [31] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:29,709 [31] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:30,295 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:26:30.2951300Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 21:56:30,314 [29] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 21:56:30,315 [29] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 21:56:30,315 [29] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 63
2025-07-13 21:56:30,627 [.NET Signal Handler] INFO  Microsoft.Hosting.Lifetime - Application is shutting down...
2025-07-13 21:57:17,081 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'LeaveType' has a global query filter defined and is the required end of a relationship with the entity 'LeaveBalance'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 21:57:17,084 [1] WARN  Microsoft.EntityFrameworkCore.Model.Validation - Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-07-13 21:57:17,337 [1] INFO  Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5000
2025-07-13 21:57:17,338 [1] INFO  Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2025-07-13 21:57:17,338 [1] INFO  Microsoft.Hosting.Lifetime - Hosting environment: Development
2025-07-13 21:57:17,338 [1] INFO  Microsoft.Hosting.Lifetime - Content root path: /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem
2025-07-13 21:57:17,403 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:57:47,756 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:27:47.7559970Z, Method: POST, Path: /api/v1/auth/login, User: Anonymous
2025-07-13 21:57:47,832 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:57:48,137 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("Id", "ExpiresAt", "IsRevoked", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-13 21:57:48,141 [7] INFO  LeaveManagementSystem.Services.AuthenticationService - User chandler@example.com logged in successfully
2025-07-13 21:57:48,144 [7] INFO  LeaveManagementSystem.Controllers.AuthenticationController - User chandler@example.com logged in successfully.
2025-07-13 21:57:48,380 [13] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:27:48.3809220Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:57:48,380 [16] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:27:48.3809250Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-13 21:57:48,383 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:27:48.3836660Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-13 21:57:48,386 [16] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:57:48,387 [13] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:57:48,388 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:57:48,433 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:57:48,435 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:57:48,452 [17] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:57:48,936 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:27:48.9363170Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-13 21:57:48,936 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:57:48,937 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:57:49,532 [19] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:27:49.5327200Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-13 21:57:49,534 [19] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:57:49,537 [19] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:57:52,700 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:27:52.7001860Z, Method: GET, Path: /api/v1/auth/me, User: Chandler
2025-07-13 21:57:52,709 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:57:52,710 [7] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-13 21:58:02,342 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:28:02.3428910Z, Method: GET, Path: /api/v1/notifications/all/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-13 21:58:02,362 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:58:10,023 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:28:10.0231340Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-13 21:58:10,030 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 21:58:10,037 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:28:10.0373990Z, Method: GET, Path: /api/v1/auth/me, User: Chandler
2025-07-13 21:58:10,044 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:58:10,050 [18] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-13 21:58:10,964 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:28:10.9646690Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-13 21:58:10,965 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:28:10.9658820Z, Method: GET, Path: /api/v1/Users, User: Chandler
2025-07-13 21:58:10,966 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:28:10.9665660Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-13 21:58:10,966 [15] INFO  LeaveManagementSystem.Controllers.UsersController - Fetching all users with pagination parameters.
2025-07-13 21:58:10,968 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 21:58:10,969 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:58:10,970 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:58:10,971 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:58:10,975 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:58:11,543 [20] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:28:11.5436900Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-13 21:58:11,544 [20] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:58:11,545 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 21:58:12,132 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:28:12.1323370Z, Method: GET, Path: /api/v1/leave-requests, User: Chandler
2025-07-13 21:58:12,135 [7] INFO  LeaveManagementSystem.Controllers.LeaveRequestController - Fetching all leave requests with pagination, search, filter, sort parameters.
2025-07-13 21:58:12,138 [15] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."DeletedAt", l."EndDate", l."IsDeleted", l."LeaveTypeId", l."Reason", l."ReviewedById", l."StartDate", l."Status", l."UpdatedAt", l."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username", t0."Id", t0."CreatedAt", t0."CreatedBy", t0."DeletedAt", t0."Description", t0."IsDeleted", t0."Name", t0."StandardLeaveCount", t0."UpdatedAt", t0."UpdatedBy", t1."Id", t1."CreatedAt", t1."CreatedBy", t1."DeletedAt", t1."Email", t1."Gender", t1."IsActive", t1."IsDeleted", t1."LastLoginAt", t1."PasswordHash", t1."Role", t1."Username", t2."Id", t2."DeletedAt", t2."FileContent", t2."FileName", t2."IsDeleted", t2."LeaveRequestId", t2."UploadedAt"
FROM "LeaveRequests" AS l
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON l."UserId" = t."Id"
INNER JOIN (
    SELECT l0."Id", l0."CreatedAt", l0."CreatedBy", l0."DeletedAt", l0."Description", l0."IsDeleted", l0."Name", l0."StandardLeaveCount", l0."UpdatedAt", l0."UpdatedBy"
    FROM "LeaveTypes" AS l0
    WHERE NOT (l0."IsDeleted")
) AS t0 ON l."LeaveTypeId" = t0."Id"
LEFT JOIN (
    SELECT u0."Id", u0."CreatedAt", u0."CreatedBy", u0."DeletedAt", u0."Email", u0."Gender", u0."IsActive", u0."IsDeleted", u0."LastLoginAt", u0."PasswordHash", u0."Role", u0."Username"
    FROM "Users" AS u0
    WHERE NOT (u0."IsDeleted")
) AS t1 ON l."ReviewedById" = t1."Id"
LEFT JOIN (
    SELECT l1."Id", l1."DeletedAt", l1."FileContent", l1."FileName", l1."IsDeleted", l1."LeaveRequestId", l1."UploadedAt"
    FROM "LeaveAttachments" AS l1
    WHERE NOT (l1."IsDeleted")
) AS t2 ON l."Id" = t2."LeaveRequestId"
WHERE NOT (l."IsDeleted")
ORDER BY l."Id", t."Id", t0."Id", t1."Id"
2025-07-13 21:58:12,689 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:28:12.6898050Z, Method: GET, Path: /api/v1/leavetypes, User: Chandler
2025-07-13 21:58:12,690 [7] INFO  LeaveManagementSystem.Controllers.LeaveTypeController - Fetching all leave types with pagination.
2025-07-13 21:58:12,691 [18] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT l."Id", l."CreatedAt", l."CreatedBy", l."DeletedAt", l."Description", l."IsDeleted", l."Name", l."StandardLeaveCount", l."UpdatedAt", l."UpdatedBy"
FROM "LeaveTypes" AS l
WHERE NOT (l."IsDeleted")
2025-07-13 22:00:37,838 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:30:37.8386860Z, Method: GET, Path: /api/v1/auth/me, User: Chandler
2025-07-13 22:00:37,846 [7] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 22:00:37,847 [7] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-13 22:00:45,426 [7] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:30:45.4261830Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-13 22:00:45,429 [21] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 22:00:45,445 [15] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:30:45.4459180Z, Method: GET, Path: /api/v1/auth/me, User: Chandler
2025-07-13 22:00:45,449 [26] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 22:00:45,450 [26] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-13 22:00:57,080 [26] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:30:57.0800210Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Chandler
2025-07-13 22:00:57,096 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 22:00:57,105 [25] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:30:57.1050630Z, Method: GET, Path: /api/v1/auth/me, User: Chandler
2025-07-13 22:00:57,108 [25] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 22:00:57,109 [25] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-13 22:14:21,839 [31] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:44:21.8391990Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Anonymous
2025-07-13 22:14:21,898 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 22:14:22,420 [29] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:44:22.4205620Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 22:14:22,486 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 22:14:22,494 [31] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__key_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Id" = @__key_0
LIMIT 1
2025-07-13 22:14:22,506 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
UPDATE "RefreshTokens" SET "IsRevoked" = @p0
WHERE "Id" = @p1;
2025-07-13 22:14:22,511 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?', @p4='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("Id", "ExpiresAt", "IsRevoked", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-13 22:14:22,511 [34] INFO  LeaveManagementSystem.Services.AuthenticationService - Refresh token used to generate new access token for chandler@example.com
2025-07-13 22:14:22,511 [34] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Refresh token generated successfully.
2025-07-13 22:14:23,008 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:44:23.0084600Z, Method: GET, Path: /api/v1/auth/me, User: Chandler
2025-07-13 22:14:23,010 [34] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-07-13 22:14:23,010 [34] INFO  LeaveManagementSystem.Controllers.AuthenticationController - Current user info retrieved successfully.
2025-07-13 22:22:11,463 [40] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:52:11.4629730Z, Method: GET, Path: /api/v1/notifications/unread/0728af92-6d38-4547-be7c-bca1f3dcdcc6, User: Anonymous
2025-07-13 22:22:11,544 [40] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT n."Id", n."CreatedAt", n."DeletedAt", n."IsDeleted", n."IsRead", n."Message", n."ReadAt", n."RecipientId", n."ReviewedById"
FROM "Notifications" AS n
WHERE NOT (n."IsDeleted")
2025-07-13 22:22:12,064 [34] INFO  LeaveManagementSystem.Middlewares.ExceptionHandlingMiddleware - [Incoming Request] Timestamp: 2025-07-13T16:52:12.0647600Z, Method: POST, Path: /api/v1/auth/refresh, User: Anonymous
2025-07-13 22:22:12,094 [38] INFO  Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__token_0='?'], CommandType='Text', CommandTimeout='30']
SELECT r."Id", r."ExpiresAt", r."IsRevoked", r."Token", r."UserId", t."Id", t."CreatedAt", t."CreatedBy", t."DeletedAt", t."Email", t."Gender", t."IsActive", t."IsDeleted", t."LastLoginAt", t."PasswordHash", t."Role", t."Username"
FROM "RefreshTokens" AS r
INNER JOIN (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."DeletedAt", u."Email", u."Gender", u."IsActive", u."IsDeleted", u."LastLoginAt", u."PasswordHash", u."Role", u."Username"
    FROM "Users" AS u
    WHERE NOT (u."IsDeleted")
) AS t ON r."UserId" = t."Id"
WHERE r."Token" = @__token_0 AND NOT (r."IsRevoked")
LIMIT 1
2025-07-13 22:22:12,094 [38] WARN  LeaveManagementSystem.Services.AuthenticationService - Invalid or expired refresh token
2025-07-13 22:22:12,127 [38] WARN  LeaveManagementSystem.Controllers.AuthenticationController - Invalid refresh token attempt.
Microsoft.IdentityModel.Tokens.SecurityTokenException: Invalid or expired refresh token
   at LeaveManagementSystem.Services.AuthenticationService.RefreshTokenAsync(String refreshToken) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Services/AuthenticationService.cs:line 74
   at LeaveManagementSystem.Controllers.AuthenticationController.RefreshToken(RefreshRequest refreshRequest) in /Users/presidio/Desktop/LeaveManagementSystem-Final/LeaveManagementSystem-With-Notification/LeaveManagementSystem/Controllers/AuthenticationController.cs:line 64
