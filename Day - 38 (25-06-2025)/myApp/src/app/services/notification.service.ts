{
  "version": 3,
  "sources": ["angular:jit:template:src/app/file-upload-component/file-upload-component.html", "src/app/services/BulkInsertService.ts", "src/app/file-upload-component/file-upload-component.ts", "src/app/file-upload-component/file-upload-component.spec.ts"],
  "sourcesContent": ["<input type=\"file\" (change)=\"handleFileUpload($event)\" />\n{{insertedRecords | json}}\n", "import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable()\nexport class BulkInsertService {\n  constructor(private http: HttpClient) {}\n\n  public processData(file: File): Observable<any> {\n    const result$ = new Subject<any>();\n    const worker = new Worker(new URL('../workers/file-parser.worker', import.meta.url));\n\n    worker.onmessage = ({ data }) => {\n      if (typeof data !== 'string') {\n        console.error('Unexpected worker data:', data);\n        result$.error('Invalid data from worker');\n        return;\n      }\n\n      const body = { csvContent: data };\n\n      this.http.post('http://localhost:5001/api/Sample/FromCsv', body).subscribe({\n        next: res => {\n          result$.next(res);    \n          result$.complete();   \n        },\n        error: err => {\n          console.error('API error:', err);\n          result$.error(err);  \n        }\n      });\n    };\n\n    worker.onerror = () => {\n      result$.error('Worker failed to read file');\n    };\n\n    worker.postMessage({ file });\n\n    return result$.asObservable(); \n  }\n}", "import { Component, inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { BulkInsertService } from '../services/BulkInsertService'\nimport { JsonPipe } from '@angular/common';\n\n@Component({\n  selector: 'app-file-upload',\n  templateUrl: './file-upload-component.html',\n  imports:[JsonPipe]\n})\nexport class FileUploadComponent {\n  constructor(private http: HttpClient) {}\n private service =  inject(BulkInsertService);\n  insertedRecords:any;\n\n  handleFileUpload(event: any) {\n  const file = event.target.files[0];\n  this.service.processData(file).subscribe({\n    next:(data)=>this.insertedRecords= data,\n    error:(err)=>alert(err)\n\n  })\n  \n\n  }\n  \n\n}", "import { ComponentFixture, TestBed } from '@angular/core/testing';\n\nimport { FileUploadComponent } from './file-upload-component';\n\ndescribe('FileUploadComponent', () => {\n  let component: FileUploadComponent;\n  let fixture: ComponentFixture<FileUploadComponent>;\n\n  beforeEach(async () => {\n    await TestBed.configureTestingModule({\n      imports: [FileUploadComponent]\n    })\n    .compileComponents();\n\n    fixture = TestBed.createComponent(FileUploadComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n});\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ICKa;;;;;AALb;AACA;AACA;AAGO,IAAM,oBAAN,MAAMA,mBAAiB;MACR;MAApB,YAAoB,MAAgB;AAAhB,aAAA,OAAA;MAAmB;MAEhC,YAAY,MAAU;AAC3B,cAAM,UAAU,IAAI,QAAO;AAC3B,cAAM,SAAS,IAAI,OAAO,IAAI,IAAG,sBAAkC,YAAY,GAAG,GAAC,EAAA,MAAA,SAAA,CAAA;AAEnF,eAAO,YAAY,CAAC,EAAE,KAAI,MAAM;AAC9B,cAAI,OAAO,SAAS,UAAU;AAC5B,oBAAQ,MAAM,2BAA2B,IAAI;AAC7C,oBAAQ,MAAM,0BAA0B;AACxC;UACF;AAEA,gBAAM,OAAO,EAAE,YAAY,KAAI;AAE/B,eAAK,KAAK,KAAK,4CAA4C,IAAI,EAAE,UAAU;YACzE,MAAM,SAAM;AACV,sBAAQ,KAAK,GAAG;AAChB,sBAAQ,SAAQ;YAClB;YACA,OAAO,SAAM;AACX,sBAAQ,MAAM,cAAc,GAAG;AAC/B,sBAAQ,MAAM,GAAG;YACnB;WACD;QACH;AAEA,eAAO,UAAU,MAAK;AACpB,kBAAQ,MAAM,4BAA4B;QAC5C;AAEA,eAAO,YAAY,EAAE,KAAI,CAAE;AAE3B,eAAO,QAAQ,aAAY;MAC7B;;;;;AAnCW,wBAAiB,WAAA;MAD7B,WAAU;OACE,iBAAiB;;;;;ICKjB;;;;;;AAVb;AACA;AACA;AACA;AAOO,IAAM,sBAAN,MAAMC,qBAAmB;MACV;MAApB,YAAoB,MAAgB;AAAhB,aAAA,OAAA;MAAmB;MAChC,UAAW,OAAO,iBAAiB;MAC1C;MAEA,iBAAiB,OAAU;AAC3B,cAAM,OAAO,MAAM,OAAO,MAAM,CAAC;AACjC,aAAK,QAAQ,YAAY,IAAI,EAAE,UAAU;UACvC,MAAK,CAAC,SAAO,KAAK,kBAAiB;UACnC,OAAM,CAAC,QAAM,MAAM,GAAG;SAEvB;MAGD;;;;;AAdW,0BAAmB,WAAA;MAL/B,UAAU;QACT,UAAU;QACV,UAAA;QACA,SAAQ,CAAC,QAAQ;OAClB;OACY,mBAAmB;;;;;ACVhC;;;AAEA,IAAAC;AAEA,aAAS,uBAAuB,MAAK;AACnC,UAAI;AACJ,UAAI;AAEJ,iBAAW,MAAW;AACpB,cAAM,QAAQ,uBAAuB;UACnC,SAAS,CAAC,mBAAmB;SAC9B,EACA,kBAAiB;AAElB,kBAAU,QAAQ,gBAAgB,mBAAmB;AACrD,oBAAY,QAAQ;AACpB,gBAAQ,cAAa;MACvB,EAAC;AAED,SAAG,iBAAiB,MAAK;AACvB,eAAO,SAAS,EAAE,WAAU;MAC9B,CAAC;IACH,CAAC;;;",
  "names": ["BulkInsertService", "FileUploadComponent", "init_file_upload_component"]
}
